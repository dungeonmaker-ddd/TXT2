# 个人主页模块架构设计文档 (含编辑子模块)

> **模块类型**：用户个人中心 - 包含资料展示、内容管理、社交互动、资料编辑  
> **设计日期**：2025-09-30  
> **更新日期**：2025-09-30 (整合编辑模块)  
> **适用平台**：iOS/Android移动端  
> **设计规范**：纯结构架构图标准模板 v1.0

---

## 📋 **模块概述**

### 🎯 **核心功能**

**主页展示功能**
- ✅ **用户资料展示** - 头像、昵称、认证、位置、社交数据
- ✅ **内容Tab切换** - 动态/收藏/点赞/资料 四个维度
- ✅ **个人信息管理** - 详细资料展示和技能标签展示
- ✅ **内容流展示** - 瀑布流布局展示用户内容
- ✅ **社交互动** - 关注/粉丝/获赞/评论/点赞/收藏

**资料编辑功能** (整合到本文档)
- ✅ **头像管理** - 拍照/相册选择/裁剪上传/保存图片
- ✅ **文本字段编辑** - 昵称/个人介绍/微信号 (带字数统计)
- ✅ **单选字段编辑** - 性别选择 (ActionSheet弹窗)
- ✅ **滚动选择器** - 生日/身高/体重/常居地 (PickerView/GridView)
- ✅ **标签管理** - 职业标签添加和删除 (最多5个)
- ✅ **实时验证** - 字数限制/格式验证/必填验证/即时保存

### 📱 **页面清单**

**主页展示模块 (5个页面)**
1. **个人主页-资料页** - 展示个人详细信息和技能
2. **个人主页-动态页** - 瀑布流展示用户发布内容
3. **个人主页-收藏页** - 瀑布流展示用户收藏内容
4. **个人主页-点赞页** - 瀑布流展示用户点赞内容
5. **个人主页-动态详情页** - 单个动态的详细展示和评论

**个人信息编辑子模块 (11个页面/弹窗)**
6. **个人资料编辑主页** - 所有字段的编辑入口列表
7. **昵称编辑页** - 单行文本输入 + 字数统计 (7/20字)
8. **个人介绍编辑页** - 多行文本输入 + 字数统计 (7/30字)
9. **微信编辑页** - 微信号输入 + 解锁微信功能
10. **职业编辑页** - 多标签管理 (最多5个职业)
11. **性别选择弹窗** - 底部ActionSheet (男/女/取消)
12. **生日选择弹窗** - 三列滚动选择器 (年/月/日联动)
13. **身高选择弹窗** - 单列滚动选择器 (140-200cm)
14. **体重选择弹窗** - 单列滚动选择器 (30-150kg)
15. **常居地选择弹窗** - 2列城市网格选择器
16. **头像操作菜单** - 底部ActionSheet (拍照/相册/保存/取消)

---

## 🌳 个人主页模块 - 树状图（页面结构视角）

```
【个人主页系统模块】★★★
│
├── 【个人主页-主框架页面】📱 (所有Tab共享的框架)
│   ├── 📱 系统状态栏 (9:41时间 + 信号电池显示)
│   │   ├── 状态栏高度：44px iOS / 24px Android
│   │   ├── 背景样式：透明背景，叠加在背景图上
│   │   └── 颜色样式：白色图标 + 白色文字
│   │
│   ├── 🎨 背景头图区域 (用户背景图 - 渐变叠加)
│   │   ├── 📷 背景图片 (全宽 + 高度约320px)
│   │   │   ├── 图片样式：用户上传照片做背景
│   │   │   ├── 渐变遮罩：底部黑色渐变遮罩 alpha 0-60%
│   │   │   └── 图片加载：占位图 + 渐进式加载
│   │   └── 🔙「<」返回按钮 (左上角 - 白色箭头图标 24x24px)
│   │       ├── 按钮位置：左上角 left:16px top:56px
│   │       ├── 按钮样式：半透明黑色背景40x40px + 白色图标
│   │       ├── 圆角样式：圆角20px (半圆形)
│   │       └── 点击效果：0.2s缩放动画
│   │
│   ├── 👤 用户信息头部区域 (固定头部 - 高度约180px)
│   │   ├── 🖼️ 用户头像区域 (左侧 - 圆形头像)
│   │   │   ├── 👤 主头像 (圆形96x96px - 左边距16px)
│   │   │   │   ├── 头像样式：圆形裁剪 + 4px白色边框
│   │   │   │   ├── 头像位置：顶部对齐背景图底部-48px (一半露出)
│   │   │   │   ├── 头像加载：占位图 + 渐进式加载
│   │   │   │   └── 点击功能：查看大图
│   │   │   └── 🔴 在线状态指示 (头像右下角)
│   │   │       ├── 状态样式：16x16px圆形 + 2px白色边框
│   │   │       ├── 在线状态：绿色#00C853 "在线"
│   │   │       └── 离线状态：灰色#9E9E9E "离线"
│   │   │
│   │   ├── 📝 用户基本信息区域 (头像右侧 - 垂直布局)
│   │   │   ├── 📝 用户昵称行 (顶部)
│   │   │   │   ├── "昵称12345" 昵称文字 (20sp黑色粗体)
│   │   │   │   │   ├── 字体样式：20sp + Bold字重 + 黑色#333333
│   │   │   │   │   ├── 最大宽度：200px，超出显示"..."
│   │   │   │   │   └── 左边距：头像右侧12px
│   │   │   │   └── 🎀 性别年龄标签 (昵称右侧)
│   │   │   │       ├── 标签样式：粉色/蓝色背景 + 白色图标文字
│   │   │   │       ├── 标签尺寸：40x20px + 圆角10px
│   │   │   │       ├── 内容格式："♀18" / "♂18"
│   │   │   │       └── 颜色规范：女性粉色#FF4081，男性蓝色#2196F3
│   │   │   │
│   │   │   ├── 🏷️ 认证标签组 (昵称下方8px间距)
│   │   │   │   ├── 《认证标签容器》📋 (水平排列 - Flex布局)
│   │   │   │   ├── ✅「实名认证」标签 (蓝色背景)
│   │   │   │   │   ├── 标签样式：蓝色#2196F3背景 + 白色文字
│   │   │   │   │   ├── 标签尺寸：自适应宽度x24px + 圆角12px
│   │   │   │   │   ├── 图标+文字：✓图标 + "实名认证" 12sp
│   │   │   │   │   └── 内边距：6px水平 + 4px垂直
│   │   │   │   └── 👑「大神」标签 (紫色渐变背景)
│   │   │   │       ├── 标签样式：紫色渐变#9C27B0到#E040FB + 白色文字
│   │   │   │       ├── 标签尺寸：自适应宽度x24px + 圆角12px
│   │   │   │       ├── 图标+文字：👑图标 + "大神" 12sp
│   │   │   │       └── 左边距：8px (与实名认证标签间距)
│   │   │   │
│   │   │   └── 📍 位置距离信息行 (认证标签下方8px间距)
│   │   │       ├── 🟢「在线」状态 (绿色文字12sp)
│   │   │       │   ├── 文字样式：绿色#00C853 + 12sp字体
│   │   │       │   └── 前置图标：绿色圆点 8x8px
│   │   │       ├── 📍 距离信息 "📍4.6km" (灰色文字12sp)
│   │   │       │   ├── 文字样式：灰色#757575 + 12sp字体
│   │   │       │   ├── 位置图标：灰色定位图标 12x12px
│   │   │       │   └── 左边距：在线状态右侧12px
│   │   │       └── 分隔符：竖线"|" (灰色 - 各元素间)
│   │   │
│   │   └── 💜「编辑」按钮 (右上角 - 主要操作按钮)
│   │       ├── 按钮样式：灰色边框 + 白色背景 + 灰色文字
│   │       ├── 按钮尺寸：80x36px + 圆角18px
│   │       ├── 按钮位置：右上角 right:16px top:对齐昵称
│   │       ├── 文字样式：14sp灰色#757575 "编辑"
│   │       ├── 边框样式：1px灰色#E0E0E0边框
│   │       └── 点击效果：0.2s缩放动画 + 跳转编辑页面
│   │
│   ├── 📊 社交数据区域 (用户信息下方 - 三列布局)
│   │   ├── 《社交数据容器》📋 (水平均分 - Flex布局)
│   │   │   ├── 数据区域高度：60px
│   │   │   ├── 背景样式：白色背景 + 底部分隔线1px
│   │   │   └── 布局方式：三等分水平分布
│   │   ├── 📈《关注数据项》📋 (左侧1/3区域)
│   │   │   ├── 📱 数据容器 (垂直居中布局)
│   │   │   ├── 🔢 数字显示 "201" (18sp黑色粗体)
│   │   │   │   ├── 字体样式：18sp + Bold + 黑色#333333
│   │   │   │   └── 垂直居中显示
│   │   │   ├── 📝 标签文字 "关注" (12sp灰色)
│   │   │   │   ├── 字体样式：12sp + Regular + 灰色#757575
│   │   │   │   └── 标签位置：数字下方4px间距
│   │   │   └── 点击区域：整个1/3区域可点击 → 跳转关注列表
│   │   ├── 📈《粉丝数据项》📋 (中间1/3区域)
│   │   │   ├── 📱 数据容器 (相同样式规格)
│   │   │   ├── 🔢 数字显示 "201" (18sp黑色粗体)
│   │   │   ├── 📝 标签文字 "粉丝" (12sp灰色)
│   │   │   └── 点击区域：整个1/3区域可点击 → 跳转粉丝列表
│   │   └── 📈《获赞数据项》📋 (右侧1/3区域)
│   │       ├── 📱 数据容器 (相同样式规格)
│   │       ├── 🔢 数字显示 "获赞与收藏" (18sp黑色粗体)
│   │       │   └── 特殊样式：此处显示文字而非数字
│   │       └── 点击区域：整个1/3区域可点击 → 跳转获赞页面
│   │
│   ├── 🏷️ Tab标签栏 (固定头部 - 高度48px)
│   │   ├── 《Tab导航容器》📋 (水平均分 - 4个Tab)
│   │   │   ├── Tab容器高度：48px
│   │   │   ├── 背景样式：白色背景
│   │   │   ├── 底部指示器：2px高度紫色条 (选中Tab下方)
│   │   │   └── 滚动属性：吸顶固定 (向下滚动时固定在顶部)
│   │   ├── 📝「动态」Tab (第1个Tab - 1/4宽度)
│   │   │   ├── Tab尺寸：1/4屏幕宽度 x 48px高度
│   │   │   ├── 文字样式：16sp + 选中时黑色#333粗体/未选中灰色#757575
│   │   │   ├── 选中指示器：底部2px高度紫色#8A2BE2横条
│   │   │   ├── 选中状态：当前Tab内容为"动态"时高亮
│   │   │   └── 点击效果：0.2s颜色过渡 + 切换到动态内容
│   │   ├── 📝「收藏」Tab (第2个Tab - 1/4宽度)
│   │   │   ├── 相同尺寸和样式规格
│   │   │   ├── 选中状态：当前Tab内容为"收藏"时高亮
│   │   │   └── 点击效果：切换到收藏内容
│   │   ├── 📝「点赞」Tab (第3个Tab - 1/4宽度)
│   │   │   ├── 相同尺寸和样式规格
│   │   │   ├── 选中状态：当前Tab内容为"点赞"时高亮
│   │   │   └── 点击效果：切换到点赞内容
│   │   └── 📝「资料」Tab (第4个Tab - 1/4宽度)
│   │       ├── 相同尺寸和样式规格
│   │       ├── 选中状态：当前Tab内容为"资料"时高亮
│   │       └── 点击效果：切换到资料内容
│   │
│   └── 📄 Tab内容区域 (主要滚动内容区域 - 弹性高度)
│       ├── 内容区域属性：垂直滚动 + 弹性高度
│       ├── 背景样式：浅灰色#F5F5F5背景
│       └── 内容切换：根据选中Tab显示对应内容
│
├── 【个人主页-资料页内容】📱 (Tab内容 - 资料维度)
│   ├── 📋 个人资料卡片区域 (白色卡片 - 顶部间距16px)
│   │   ├── 📱 卡片容器样式
│   │   │   ├── 背景颜色：白色#FFFFFF
│   │   │   ├── 圆角样式：上圆角12px + 下圆角12px
│   │   │   ├── 左右边距：16px (距离屏幕边缘)
│   │   │   ├── 内边距：20px (内部内容间距)
│   │   │   └── 阴影效果：2px模糊阴影 alpha=5%
│   │   │
│   │   ├── 📝 资料标题 "个人资料" (20sp黑色粗体)
│   │   │   ├── 字体样式：20sp + Bold + 黑色#333333
│   │   │   ├── 标题位置：卡片顶部 + 左对齐
│   │   │   └── 底部间距：16px
│   │   │
│   │   └── 《资料字段列表》📋 (垂直排列 - 4x2网格)
│   │       ├── 布局方式：左右两列 + 每列多行
│   │       ├── 行间距：每行高度48px + 行间距16px
│   │       └── 字段样式：标签灰色14sp + 内容黑色16sp
│   │       │
│   │       ├── 📍 第1行左列："常居地" 字段
│   │       │   ├── 📝 字段标签 "常居地" (14sp灰色#757575)
│   │       │   ├── 📝 字段内容 "广东 深圳" (16sp黑色#333333)
│   │       │   └── 字段布局：标签在上，内容在下，垂直间距4px
│   │       ├── 📍 第1行右列："IP" 字段
│   │       │   ├── 📝 字段标签 "IP" (14sp灰色)
│   │       │   └── 📝 字段内容 "广东 深圳" (16sp黑色)
│   │       │
│   │       ├── 📏 第2行左列："身高" 字段
│   │       │   ├── 📝 字段标签 "身高" (14sp灰色)
│   │       │   └── 📝 字段内容 "162cm" (16sp黑色)
│   │       ├── 🆔 第2行右列："ID" 字段
│   │       │   ├── 📝 字段标签 "ID" (14sp灰色)
│   │       │   └── 📝 字段内容 "21566842" (16sp黑色)
│   │       │
│   │       ├── ⚖️ 第3行左列："体重" 字段
│   │       │   ├── 📝 字段标签 "体重" (14sp灰色)
│   │       │   └── 📝 字段内容 "44kg" (16sp黑色)
│   │       ├── 💼 第3行右列："职业" 字段
│   │       │   ├── 📝 字段标签 "职业" (14sp灰色)
│   │       │   └── 📝 字段内容 "模特" (16sp黑色)
│   │       │
│   │       ├── 💬 第4行左列："微信" 字段
│   │       │   ├── 📝 字段标签 "微信" (14sp灰色)
│   │       │   └── 📝 字段内容 "sunny0301" (16sp黑色)
│   │       └── 🎂 第4行右列："生日" 字段
│   │           ├── 📝 字段标签 "生日" (14sp灰色)
│   │           └── 📝 字段内容 "09-29" (16sp黑色)
│   │
│   └── 🎯 技能标签卡片区域 (白色卡片 - 顶部间距16px)
│       ├── 📱 卡片容器样式 (相同的白色卡片样式)
│       ├── 📝 技能标题 "技能" (20sp黑色粗体)
│       │   ├── 字体样式：20sp + Bold + 黑色#333333
│       │   └── 底部间距：16px
│       │
│       └── 《技能列表》📋 (水平滚动 - 5个技能项)
│           ├── 滚动方式：水平滚动 + 不换行
│           ├── 项目间距：12px
│           └── 左右内边距：20px
│           │
│           ├── 🎮《技能项1-王者荣耀》📋 (技能卡片 - 80x100px)
│           │   ├── 📱 技能卡片容器
│           │   │   ├── 卡片尺寸：80x100px (固定宽高)
│           │   │   ├── 背景样式：浅灰色#F5F5F5背景
│           │   │   ├── 圆角样式：圆角12px
│           │   │   └── 内边距：12px
│           │   ├── 🖼️ 技能图标 (顶部居中 - 48x48px)
│           │   │   ├── 图标样式：游戏角色头像/游戏LOGO
│           │   │   ├── 图标尺寸：48x48px
│           │   │   └── 图标位置：顶部居中显示
│           │   └── 📝 技能名称 "王者荣耀" (底部 - 14sp黑色)
│           │       ├── 字体样式：14sp + Regular + 黑色#333333
│           │       ├── 文字位置：图标下方8px间距
│           │       ├── 文字对齐：居中对齐
│           │       └── 文字显示：单行显示，超出显示"..."
│           │
│           ├── 🎮《技能项2-荒野乱斗》📋 (相同尺寸规格)
│           │   ├── 📱 技能卡片容器 (相同样式)
│           │   ├── 🖼️ 技能图标 "荒野乱斗" (48x48px)
│           │   └── 📝 技能名称 "荒野乱斗" (14sp黑色)
│           │
│           ├── 🏪《技能项3-探店》📋 (相同尺寸规格)
│           │   ├── 📱 技能卡片容器 (相同样式)
│           │   ├── 🖼️ 技能图标 "探店" (48x48px)
│           │   └── 📝 技能名称 "探店" (14sp黑色)
│           │
│           ├── 💆《技能项4-按摩》📋 (相同尺寸规格)
│           │   ├── 📱 技能卡片容器 (相同样式)
│           │   ├── 🖼️ 技能图标 "按摩" (48x48px)
│           │   └── 📝 技能名称 "按摩" (14sp黑色)
│           │
│           └── ➕《添加技能按钮》📋 (相同尺寸规格)
│               ├── 📱 按钮容器 (虚线边框样式)
│               │   ├── 按钮尺寸：80x100px (相同尺寸)
│               │   ├── 边框样式：1px虚线边框#BDBDBD
│               │   ├── 背景样式：白色#FFFFFF背景
│               │   └── 圆角样式：圆角12px
│               ├── ➕ 添加图标 (居中 - 32x32px灰色)
│               │   ├── 图标样式：灰色#BDBDBD + 图标
│               │   └── 图标位置：垂直水平居中
│               └── 📝 按钮文字 "添加技能" (14sp灰色)
│                   └── 点击功能：跳转添加技能页面
│
├── 【个人主页-动态页内容】📱 (Tab内容 - 动态维度)
│   └── 📋 瀑布流内容区域 (2列瀑布流布局)
│       ├── 《瀑布流容器》📋 (MasonryLayout - 2列布局)
│       │   ├── 列数设置：固定2列
│       │   ├── 列间距：8px
│       │   ├── 左右边距：16px
│       │   ├── 顶部间距：16px
│       │   ├── 底部间距：80px (预留底部导航栏空间)
│       │   └── 背景样式：浅灰色#F5F5F5背景
│       │
│       └── 💬《内容卡片》📋 (动态高度 - 图文卡片)
│           ├── 📱 卡片容器样式
│           │   ├── 卡片宽度：(屏幕宽度-40px)/2
│           │   ├── 卡片高度：动态高度 (根据内容自适应)
│           │   ├── 背景样式：白色#FFFFFF背景
│           │   ├── 圆角样式：圆角12px
│           │   ├── 底部间距：8px (卡片之间间距)
│           │   └── 阴影效果：2px模糊阴影 alpha=5%
│           │
│           ├── 🖼️ 内容图片区域 (顶部 - 动态高度)
│           │   ├── 📷 主图片 (宽度100% - 高度自适应)
│           │   │   ├── 图片样式：圆角12px + 适应容器宽度
│           │   │   ├── 图片加载：占位图 + 渐进式加载
│           │   │   ├── 图片比例：保持原始宽高比
│           │   │   └── 点击功能：查看大图 → 跳转动态详情
│           │   └── ▶️ 视频标识 (视频内容时显示)
│           │       ├── 标识样式：白色播放图标 + 半透明黑色背景
│           │       ├── 标识尺寸：48x48px圆形
│           │       ├── 标识位置：图片中央居中显示
│           │       └── 图标样式：白色播放三角形图标
│           │
│           ├── 📝 内容文字区域 (图片下方 - 内边距12px)
│           │   ├── 📝 内容标题/描述 "请你们看雪" (14sp黑色)
│           │   │   ├── 字体样式：14sp + Regular + 黑色#333333
│           │   │   ├── 行高设置：1.4倍行高
│           │   │   ├── 文字显示：最多2行，超出显示"..."
│           │   │   └── 左右内边距：12px
│           │   └── 文字位置：图片下方12px间距
│           │
│           └── 📊 互动数据区域 (底部 - 内边距12px)
│               ├── 👤 用户信息 (左侧)
│               │   ├── 🖼️ 用户头像 (圆形24x24px)
│               │   │   ├── 头像样式：圆形裁剪 + 1px浅灰边框
│               │   │   └── 头像位置：左侧底部
│               │   └── 📝 用户昵称 "用户名称" (12sp灰色)
│               │       ├── 字体样式：12sp + Regular + 灰色#757575
│               │       └── 昵称位置：头像右侧4px间距
│               └── ❤️ 点赞数 "88" (右侧 - 12sp灰色)
│                   ├── 数字样式：12sp + Regular + 灰色#757575
│                   ├── 爱心图标：红色/灰色爱心 16x16px
│                   └── 右对齐：距离右边12px
│
├── 【个人主页-收藏页内容】📱 (Tab内容 - 收藏维度)
│   └── 📋 瀑布流内容区域 (2列瀑布流布局)
│       └── 《内容卡片》📋 (相同的瀑布流卡片结构)
│           ├── 数据来源：用户收藏的内容
│           ├── 卡片样式：与动态页相同
│           ├── 交互区别：点赞图标显示已收藏状态
│           └── 空状态：暂无收藏内容提示
│
├── 【个人主页-点赞页内容】📱 (Tab内容 - 点赞维度)
│   └── 📋 瀑布流内容区域 (2列瀑布流布局)
│       └── 《内容卡片》📋 (相同的瀑布流卡片结构)
│           ├── 数据来源：用户点赞的内容
│           ├── 卡片样式：与动态页相同
│           ├── 交互区别：点赞图标显示已点赞状态
│           └── 空状态：暂无点赞内容提示
│
├── 【个人主页-动态详情页】📱 (独立页面 - 单个动态详细展示)
│   ├── 📱 系统状态栏 (9:41时间 + 信号电池显示)
    │
    ├── 🔝 详情页导航栏 (固定头部 - 高度56px - 透明背景)
    │   ├── 🔙「<」返回按钮 (左上角 - 白色箭头图标 24x24px)
    │   │   ├── 按钮样式：半透明黑色背景40x40px + 白色图标
    │   │   ├── 圆角样式：圆角20px (半圆形)
    │   │   └── 点击功能：返回上一页
    │   └── ⋮「更多」按钮 (右上角 - 白色三点图标 24x24px)
    │       ├── 按钮样式：半透明黑色背景40x40px + 白色图标
    │       ├── 圆角样式：圆角20px (半圆形)
    │       └── 点击功能：弹出操作菜单 (举报/分享等)
    │
    ├── 📄 主内容滚动区域 (全屏滚动 - 弹性高度)
    │   ├── 🖼️ 内容图片/视频区域 (顶部 - 全宽显示)
    │   │   ├── 📷 主图片/视频 (宽度100% - 高度自适应)
    │   │   │   ├── 图片样式：无圆角 + 全宽显示
    │   │   │   ├── 图片比例：保持原始宽高比
    │   │   │   ├── 支持滑动：支持左右滑动查看多图
    │   │   │   └── 页码指示器：底部中央显示 "1/3" 等
    │   │   └── ▶️ 视频播放控制 (视频内容时显示)
    │   │       ├── 播放按钮：中央大播放按钮
    │   │       ├── 进度条：底部播放进度条
    │   │       └── 控制栏：播放/暂停/全屏等控制
    │   │
    │   ├── 👤 用户信息区域 (图片下方 - 高度80px)
    │   │   ├── 📱 信息容器 (白色背景 + 内边距16px)
    │   │   ├── 🖼️ 用户头像 (左侧 - 圆形48x48px)
    │   │   │   ├── 头像样式：圆形裁剪 + 2px白色边框
    │   │   │   └── 点击功能：查看用户主页
    │   │   ├── 📝 用户信息 (头像右侧 - 垂直布局)
    │   │   │   ├── 📝 用户昵称 "门前游过一群鸭" (16sp黑色粗体)
    │   │   │   │   ├── 字体样式：16sp + Bold + 黑色#333333
    │   │   │   │   └── 昵称位置：头像右侧12px
    │   │   │   └── 🎀 浏览量标识 "🔥19" (12sp灰色)
    │   │   │       ├── 图标样式：红色火焰图标 + 浏览量数字
    │   │   │       └── 位置：昵称下方4px间距
    │   │   └── 点击区域：整个用户信息区可点击
    │   │
    │   ├── 📝 内容正文区域 (用户信息下方 - 白色背景)
    │   │   ├── 📝 内容标题 "新赛季，新征程" (18sp黑色粗体)
    │   │   │   ├── 字体样式：18sp + Bold + 黑色#333333
    │   │   │   ├── 左右内边距：16px
    │   │   │   └── 顶部间距：16px
    │   │   ├── 📝 内容正文 (14sp黑色 - 多行显示)
    │   │   │   ├── 正文文字："英雄联盟2021新赛季已开启，段位解锁更改让赛季初上分更激动人心❤️，速速"
    │   │   │   ├── 字体样式：14sp + Regular + 黑色#333333
    │   │   │   ├── 行高设置：1.6倍行高
    │   │   │   ├── 左右内边距：16px
    │   │   │   └── 顶部间距：12px
    │   │   └── 🏷️ 话题标签 "#S10全球总决赛" (蓝色可点击)
    │   │       ├── 标签样式：蓝色#2196F3 + 14sp + 前置#符号
    │   │       ├── 标签位置：正文下方8px间距
    │   │       └── 点击功能：跳转话题页面
    │   │
    │   ├── 📍 发布信息行 (内容下方 - 灰色文字)
    │   │   ├── 📝 发布时间 "01-10" (12sp灰色)
    │   │   ├── 📍 发布地点 "河北" (12sp灰色)
    │   │   └── 🗑️ 删除按钮图标 (右侧 - 灰色垃圾桶图标)
    │   │       └── 功能：删除本条动态
    │   │
    │   └── 💬 评论区域 (发布信息下方 - 白色背景)
    │       ├── 📝 评论标题 "评论 1条" (16sp黑色)
    │       │   ├── 字体样式：16sp + Bold + 黑色#333333
    │       │   ├── 左边距：16px
    │       │   └── 顶部间距：24px
    │       │
    │       └── 《评论列表》📋 (垂直滚动列表)
    │           ├── 💬《评论项1》📋 (评论卡片 - 动态高度)
    │           │   ├── 📱 评论容器 (白色背景 + 底部分隔线1px)
    │           │   ├── 🖼️ 评论者头像 (左侧 - 圆形36x36px)
    │           │   │   ├── 头像样式：圆形裁剪 + 1px浅灰边框
    │           │   │   └── 头像位置：左边距16px
    │           │   ├── 📝 评论内容区域 (头像右侧 - 垂直布局)
    │           │   │   ├── 📝 评论者昵称 "最萌皮皮虾" (14sp黑色粗体)
    │           │   │   │   ├── 字体样式：14sp + Bold + 黑色#333333
    │           │   │   │   └── 昵称位置：头像右侧12px
    │           │   │   ├── 📝 评论内容 "人皮话多不高冷的真实写照" (14sp黑色)
    │           │   │   │   ├── 字体样式：14sp + Regular + 黑色#333333
    │           │   │   │   ├── 行高设置：1.4倍行高
    │           │   │   │   ├── 文字显示：支持多行显示
    │           │   │   │   └── 内容位置：昵称下方6px间距
    │           │   │   └── 📝 评论时间地点 "昨天19:00 广东" (12sp灰色)
    │           │   │       ├── 字体样式：12sp + Regular + 灰色#757575
    │           │   │       └── 时间位置：评论内容下方8px间距
    │           │   ├── 👍 点赞按钮 (右侧 - 灰色/红色图标)
    │           │   │   ├── 按钮样式：爱心图标 + 点赞数字 "11"
    │           │   │   ├── 按钮尺寸：24x24px图标
    │           │   │   ├── 按钮位置：右边距16px + 垂直居中
    │           │   │   ├── 未点赞：灰色#BDBDBD爱心轮廓
    │           │   │   └── 已点赞：红色#FF4081实心爱心
    │           │   └── 点击区域：整个评论项可点击回复
    │           │
    │           └── 🔄 评论加载控制
    │               ├── 📊 加载更多：滚动到底部加载更多评论
    │               ├── 🔄 下拉刷新：下拉刷新最新评论
    │               └── 🔚 到底提示："已经到底了" (灰色12sp)
    │
    └── 📝 底部操作栏 (固定底部 - 高度60px + 安全区域)
        ├── 《操作栏容器》📋 (白色背景 + 顶部阴影)
        │   ├── 背景样式：白色#FFFFFF背景
        │   ├── 顶部阴影：2px向上阴影 alpha=10%
        │   └── 高度设置：60px + 底部安全区域
        │
        ├── 💬「写评论」输入框 (左侧 - 占据主要宽度)
        │   ├── 输入框样式：灰色边框 + 浅灰背景 + 圆角18px
        │   ├── 输入框尺寸：剩余宽度-32px x 36px高度
        │   ├── 占位符："写评论..." (14sp灰色#BDBDBD)
        │   ├── 左边距：16px
        │   └── 点击功能：聚焦输入，弹出键盘
        │
        └── 🎯 右侧操作按钮组 (右侧 - 水平排列)
            ├── ❤️「点赞」按钮 (爱心图标 28x28px)
            │   ├── 按钮样式：爱心图标 + 数字 "28"
            │   ├── 未点赞：灰色#BDBDBD爱心轮廓
            │   ├── 已点赞：红色#FF4081实心爱心 + 0.3s放大动画
            │   └── 数字位置：图标下方 12sp灰色
            ├── ⭐「收藏」按钮 (星形图标 28x28px)
            │   ├── 按钮样式：星形图标 + 数字 "28"
            │   ├── 未收藏：灰色#BDBDBD星形轮廓
            │   ├── 已收藏：黄色#FFC107实心星形 + 0.3s旋转动画
            │   └── 数字位置：图标下方 12sp灰色
            └── 💬「评论」按钮 (对话框图标 28x28px)
                ├── 按钮样式：对话框图标 + 数字 "28"
                ├── 图标颜色：灰色#BDBDBD
                ├── 点击功能：聚焦到输入框
                └── 数字位置：图标下方 12sp灰色

【✏️ 个人信息编辑子模块】★★ (从个人主页"编辑"按钮进入)
│
├── 【个人资料编辑主页】📱 (编辑入口汇总页 - 所有字段列表)
│   ├── 📱 系统状态栏 (9:41时间 + 信号电池显示)
│   │   ├── 状态栏高度：44px iOS / 24px Android
│   │   ├── 背景样式：白色背景
│   │   └── 颜色样式：黑色图标 + 黑色文字
│   │
│   ├── 🔝 页面导航栏 (固定头部 - 高度56px - 白色背景)
│   │   ├── 🔙「<」返回按钮 (左上角 - 黑色箭头图标 24x24px)
│   │   │   ├── 按钮位置：左边距16px + 垂直居中
│   │   │   ├── 按钮样式：纯图标按钮 + 黑色#333333
│   │   │   └── 点击功能：返回个人主页
│   │   └── 📝 页面标题 "个人资料" (居中 - 18sp黑色粗体)
│   │       ├── 字体样式：18sp + Bold + 黑色#333333
│   │       └── 位置：导航栏水平垂直居中
│   │
│   ├── 📄 主内容滚动区域 (垂直滚动 - 弹性高度)
│   │   ├── 🖼️ 头像编辑区域 (顶部区域 - 高度120px - 白色背景)
│   │   │   ├── 📝 标题文字 "头像" (左侧 - 16sp黑色)
│   │   │   ├── 🖼️ 当前头像显示 (右侧 - 圆形60x60px)
│   │   │   │   ├── 头像样式：圆形裁剪 + 2px浅灰边框#E0E0E0
│   │   │   │   └── 点击功能：弹出【头像操作菜单】
│   │   │   └── 🔻「>」右箭头指示 (最右侧 - 灰色图标 20x20px)
│   │   │
│   │   └── 📋 基本资料字段列表 (垂直列表 - 每项高度60px)
│   │       ├── 📝 昵称字段 → 点击进入【昵称编辑页】
│   │       ├── 📝 性别字段 → 点击弹出【性别选择弹窗】
│   │       ├── 📝 个人介绍字段 → 点击进入【个人介绍编辑页】
│   │       ├── 📅 生日字段 → 点击弹出【生日选择弹窗】
│   │       ├── 📏 身高字段 → 点击弹出【身高选择弹窗】
│   │       ├── ⚖️ 体重字段 → 点击弹出【体重选择弹窗】
│   │       ├── 💼 职业字段 → 点击进入【职业编辑页】
│   │       ├── 📍 常居地字段 → 点击弹出【常居地选择弹窗】
│   │       └── 💬 微信字段 → 点击进入【微信编辑页】
│   │
│   └── 🔧 系统支持层
│       ├── 表单验证服务 (实时验证 + 提交验证)
│       ├── 数据同步服务 (本地缓存 + 服务器同步)
│       └── 图片上传服务 (压缩 + 上传 + 进度)
│
├── 【昵称编辑页】📱 (单行文本输入 + 字数统计 7/20字)
│   ├── 🔝 导航栏：「取消」+「昵称」+「完成」(紫色#8A2BE2)
│   ├── 📝 单行输入框 (自动聚焦 + 清除按钮)
│   ├── 📊 字数统计 "7/20字" (右下角 - 超出变红色)
│   └── 🔧 验证逻辑：1-20字符 + 不能为空
│
├── 【个人介绍编辑页】📱 (多行文本输入 + 字数统计 7/30字)
│   ├── 🔝 导航栏：「取消」+「个人介绍」+「完成」
│   ├── 📝 多行输入框 (支持换行 + 1.5倍行高)
│   ├── 📊 字数统计 "7/30字"
│   └── 🔧 验证逻辑：0-30字符 + 可为空
│
├── 【微信编辑页】📱 (微信号输入 + 解锁设置)
│   ├── 🔝 导航栏：「取消」+「微信」+「完成」
│   ├── 📝 微信号输入 "sunny0713" (右对齐)
│   ├── 🔒 解锁微信字段 "暂未设置" (设置可见条件)
│   └── 🔧 验证逻辑：6-20位字母数字下划线 + 可为空
│
├── 【职业编辑页】📱 (多标签管理 - 最多5个)
│   ├── 🔝 导航栏：「取消」+「职业」+「完成」
│   ├── 💼 职业标签 "模特" (浅灰背景#F5F5F5 + 删除按钮)
│   ├── ➕ 添加职业按钮 (虚线边框 + 加号图标)
│   └── 🔧 管理逻辑：最多5个标签 + 直接删除
│
├── 【性别选择弹窗】📱 (底部ActionSheet - 3选项)
│   ├── 📱 半透明遮罩 (黑色alpha=40% + 0.3s渐入)
│   └── 📋 选择器 (白色卡片 + 顶部圆角20px + 0.3s滑入)
│       ├── 选项1: "男" (18sp黑色 + 选中变紫色粗体)
│       ├── 选项2: "女" (相同样式)
│       └── 选项3: "取消" (18sp灰色 + 8px分隔间距)
│
├── 【生日选择弹窗】📱 (底部三列滚动选择器)
│   ├── 📱 半透明遮罩 + 白色卡片容器
│   ├── 🔝 顶部栏：「取消」+「生日」+「确定」(紫色)
│   └── 《三列滚动选择器》(高度240px)
│       ├── 📅 年份列 (1/3宽度) - 当前选中"1999年"
│       ├── 📅 月份列 (1/3宽度) - 当前选中"9月"
│       └── 📅 日期列 (1/3宽度) - 当前选中"20日"
│           └── 🔄 联动逻辑：根据年月自动调整日期范围
│
├── 【身高选择弹窗】📱 (底部单列滚动选择器)
│   ├── 📱 半透明遮罩 + 白色卡片容器
│   ├── 🔝 顶部栏：「取消」+「身高」+「确定」
│   └── 📏 身高数据列 (140-200cm + 1cm递增 + 高度240px)
│       └── 当前选中："170cm" (18sp黑色粗体)
│
├── 【体重选择弹窗】📱 (底部单列滚动选择器)
│   ├── 📱 半透明遮罩 + 白色卡片容器
│   ├── 🔝 顶部栏：「取消」+「体重」+「确定」
│   └── ⚖️ 体重数据列 (30-150kg + 1kg递增 + 高度240px)
│       └── 当前选中："50kg" (18sp黑色粗体)
│
├── 【常居地选择弹窗】📱 (底部城市网格选择器)
│   ├── 📱 半透明遮罩 + 白色卡片容器
│   ├── 🔝 顶部栏：「取消」+「常居地」+「确定」
│   └── 《城市网格》(2列布局 + 最大高度400px可滚动)
│       ├── 📍 城市项 "北京" (48px高度 + 圆角8px)
│       │   ├── 默认样式：白色背景 + 灰色边框#E0E0E0
│       │   └── 选中样式：紫色边框#8A2BE2 + 淡紫背景#F3E5F5
│       ├── 📍 城市项 "通州/上海/房山/天津..." (相同样式)
│       └── 📍 未激活城市 "昌平" (浅灰背景#F5F5F5 + 不可选)
│
└── 【头像操作菜单】📱 (底部ActionSheet - 4选项)
    ├── 📱 半透明遮罩 + 白色卡片容器
    └── 《操作选项列表》(垂直排列)
        ├── 📷 选项1: "拍照" → 打开相机 → 裁剪 → 上传
        ├── 🖼️ 选项2: "从手机相册选择" → 打开相册 → 裁剪 → 上传
        ├── 💾 选项3: "保存图片" → 保存到系统相册
        ├── 📐 分隔间距 (8px浅灰背景)
        └── 选项4: "取消" (18sp灰色 + 关闭菜单)

```

---

## 🔄 个人主页模块 - 流程图（用户操作视角）

```
开始
 ↓
【进入个人主页模块】
 ├─→ 从首页点击用户头像/昵称进入
 ├─→ 从发现页点击内容作者进入
 ├─→ 从消息页点击对话用户进入
 ├─→ 从搜索结果点击用户进入
 └─→ 从底部导航"我的"Tab进入 (查看自己)
 ↓
【个人主页初始化】
 ↓
页面数据加载
 ├─→ 加载用户基本信息 (头像/昵称/认证/位置)
 ├─→ 加载用户社交数据 (关注数/粉丝数/获赞数)
 ├─→ 加载默认Tab内容 (默认显示"动态"Tab)
 ├─→ 判断是否为本人 (是→显示"编辑"按钮，否→显示"关注"按钮)
 └─→ 初始化滚动监听 (Tab吸顶效果)
 ↓
【主页面框架交互】
 ↓
用户操作选择
 ├─→ 【顶部操作区域】
 │    ├─→ 点击返回按钮
 │    │    └─→ 返回上一页面
 │    ├─→ 点击用户头像
 │    │    ├─→ 查看大图 (头像放大展示)
 │    │    └─→ 关闭大图返回
 │    ├─→ 点击"编辑"按钮 (本人主页)
 │    │    ├─→ 跳转到【个人资料编辑主页】
 │    │    │    ├─→ 显示所有可编辑字段列表 (头像/昵称/性别等)
 │    │    │    ├─→ 点击头像行 → 弹出【头像操作菜单】
 │    │    │    │    ├─→ 拍照 → 裁剪 → 压缩 → 上传 → 更新头像
 │    │    │    │    ├─→ 相册选择 → 裁剪 → 压缩 → 上传 → 更新头像
 │    │    │    │    ├─→ 保存图片 → 保存到系统相册
 │    │    │    │    └─→ 取消 → 关闭菜单
 │    │    │    ├─→ 点击昵称行 → 进入【昵称编辑页】
 │    │    │    │    ├─→ 输入新昵称 (自动聚焦 + 字数统计 7/20字)
 │    │    │    │    ├─→ 实时验证 (1-20字符 + 不能为空)
 │    │    │    │    ├─→ 点击完成 → 保存 → 返回 → 更新主页昵称
 │    │    │    │    └─→ 点击取消 → 放弃修改 → 返回
 │    │    │    ├─→ 点击性别行 → 弹出【性别选择弹窗】
 │    │    │    │    ├─→ 选择男/女 → 关闭弹窗 → 立即保存 → 更新主页性别
 │    │    │    │    └─→ 点击取消 → 关闭弹窗
 │    │    │    ├─→ 点击个人介绍行 → 进入【个人介绍编辑页】
 │    │    │    │    ├─→ 输入个人介绍 (多行 + 字数统计 7/30字)
 │    │    │    │    ├─→ 点击完成 → 保存 → 返回
 │    │    │    │    └─→ 点击取消 → 返回
 │    │    │    ├─→ 点击生日行 → 弹出【生日选择弹窗】
 │    │    │    │    ├─→ 三列滚动选择 (年/月/日联动)
 │    │    │    │    ├─→ 点击确定 → 保存 → 关闭 → 更新主页生日
 │    │    │    │    └─→ 点击取消 → 关闭弹窗
 │    │    │    ├─→ 点击身高行 → 弹出【身高选择弹窗】
 │    │    │    │    └─→ 单列滚动选择 (140-200cm) → 确定/取消
 │    │    │    ├─→ 点击体重行 → 弹出【体重选择弹窗】
 │    │    │    │    └─→ 单列滚动选择 (30-150kg) → 确定/取消
 │    │    │    ├─→ 点击职业行 → 进入【职业编辑页】
 │    │    │    │    ├─→ 查看已选职业标签 (如"模特")
 │    │    │    │    ├─→ 点击删除按钮 → 删除职业标签 (无二次确认)
 │    │    │    │    ├─→ 点击添加职业 → 选择/输入新职业 → 添加
 │    │    │    │    ├─→ 职业数量限制 (最多5个)
 │    │    │    │    └─→ 点击完成 → 保存 → 返回
 │    │    │    ├─→ 点击常居地行 → 弹出【常居地选择弹窗】
 │    │    │    │    ├─→ 2列网格显示城市 (北京/上海/深圳等)
 │    │    │    │    ├─→ 点击选择城市 → 变为选中样式 (紫色边框+背景)
 │    │    │    │    ├─→ 点击确定 → 保存 → 关闭 → 更新主页常居地
 │    │    │    │    └─→ 点击取消 → 关闭弹窗
 │    │    │    ├─→ 点击微信行 → 进入【微信编辑页】
 │    │    │    │    ├─→ 输入微信号 (格式验证 6-20位)
 │    │    │    │    ├─→ 设置解锁微信条件 (可选)
 │    │    │    │    └─→ 点击完成 → 保存 → 返回
 │    │    │    └─→ 所有编辑完成
 │    │    │         ├─→ 每个字段保存后立即同步到服务器
 │    │    │         ├─→ 个人主页实时更新显示
 │    │    │         └─→ 点击返回 → 返回个人主页
 │    │    └─→ 编辑成功 → 主页信息已更新
 │    └─→ 点击"关注"按钮 (他人主页)
 │         ├─→ 未关注状态 → 点击发送关注请求
 │         │    ├─→ 关注成功 → 按钮变为"已关注"
 │         │    └─→ 粉丝数+1
 │         └─→ 已关注状态 → 点击取消关注
 │              ├─→ 取消成功 → 按钮变为"关注"
 │              └─→ 粉丝数-1
 │
 ├─→ 【社交数据区域交互】
 │    ├─→ 点击"关注"数据项
 │    │    ↓
 │    │   【进入关注列表页面】
 │    │    ├─→ 显示用户关注的所有用户
 │    │    ├─→ 查看关注用户信息
 │    │    ├─→ 点击用户进入其主页
 │    │    ├─→ 取消关注某用户
 │    │    └─→ 返回个人主页
 │    │
 │    ├─→ 点击"粉丝"数据项
 │    │    ↓
 │    │   【进入粉丝列表页面】
 │    │    ├─→ 显示关注该用户的所有粉丝
 │    │    ├─→ 查看粉丝用户信息
 │    │    ├─→ 点击粉丝进入其主页
 │    │    ├─→ 关注某个粉丝 (互相关注)
 │    │    └─→ 返回个人主页
 │    │
 │    └─→ 点击"获赞与收藏"数据项
 │         ↓
 │        【进入获赞收藏统计页面】
 │         ├─→ 查看总获赞数和总收藏数
 │         ├─→ 查看点赞用户列表
 │         ├─→ 查看收藏用户列表
 │         └─→ 返回个人主页
 │
 ├─→ 【Tab切换交互】
 │    ├─→ 点击"动态"Tab
 │    │    ↓
 │    │   【切换到动态页内容】
 │    │    ├─→ Tab指示器移动到"动态"下方 (0.2s动画)
 │    │    ├─→ 内容区域切换到动态内容 (0.3s淡入淡出)
 │    │    ├─→ 加载用户发布的所有动态 (瀑布流布局)
 │    │    └─→ 显示动态列表 (图文/视频混合)
 │    │
 │    ├─→ 点击"收藏"Tab
 │    │    ↓
 │    │   【切换到收藏页内容】
 │    │    ├─→ Tab指示器移动到"收藏"下方
 │    │    ├─→ 内容区域切换到收藏内容
 │    │    ├─→ 加载用户收藏的所有内容 (瀑布流布局)
 │    │    └─→ 显示收藏列表 (他人发布的内容)
 │    │
 │    ├─→ 点击"点赞"Tab
 │    │    ↓
 │    │   【切换到点赞页内容】
 │    │    ├─→ Tab指示器移动到"点赞"下方
 │    │    ├─→ 内容区域切换到点赞内容
 │    │    ├─→ 加载用户点赞的所有内容 (瀑布流布局)
 │    │    └─→ 显示点赞列表 (他人发布的内容)
 │    │
 │    └─→ 点击"资料"Tab
 │         ↓
 │        【切换到资料页内容】
 │         ├─→ Tab指示器移动到"资料"下方
 │         ├─→ 内容区域切换到资料内容
 │         ├─→ 加载用户详细资料信息
 │         └─→ 显示个人资料卡片和技能标签
 │
 ├─→ 【资料页内容交互】
 │    ├─→ 查看个人资料信息
 │    │    ├─→ 浏览常居地、IP、身高、体重等信息
 │    │    ├─→ 点击微信号 → 复制微信号
 │    │    └─→ 点击ID → 复制用户ID
 │    │
 │    ├─→ 查看技能标签
 │    │    ├─→ 水平滑动查看所有技能
 │    │    ├─→ 点击技能卡片 → 查看技能详情
 │    │    │    ├─→ 【进入技能详情页面】
 │    │    │    ├─→ 查看技能价格/段位/介绍
 │    │    │    ├─→ 如果是服务技能 → 显示"下单"按钮
 │    │    │    └─→ 返回资料页
 │    │    └─→ 点击"添加技能"按钮 (本人主页)
 │    │         ↓
 │    │        【进入添加技能页面】
 │    │         ├─→ 选择技能类型 (线上/线下)
 │    │         ├─→ 选择具体技能 (游戏/探店/按摩等)
 │    │         ├─→ 填写技能信息 (价格/段位/介绍)
 │    │         ├─→ 保存技能 → 添加到技能列表
 │    │         └─→ 返回资料页
 │    │
 │    └─→ 编辑个人资料 (仅本人)
 │         ├─→ 点击资料卡片进入编辑模式
 │         ├─→ 修改各字段信息
 │         ├─→ 保存修改 → 更新资料显示
 │         └─→ 返回查看模式
 │
 ├─→ 【动态/收藏/点赞页内容交互】(三者交互逻辑相同)
 │    ├─→ 浏览瀑布流内容
 │    │    ├─→ 向下滚动查看更多内容
 │    │    ├─→ 滚动到底部 → 自动加载更多内容
 │    │    │    ├─→ 显示加载指示器
 │    │    │    ├─→ 请求下一页数据
 │    │    │    ├─→ 追加新内容到瀑布流
 │    │    │    └─→ 如果没有更多 → 显示"已经到底了"
 │    │    └─→ 下拉刷新最新内容
 │    │         ├─→ 显示刷新指示器
 │    │         ├─→ 请求最新数据
 │    │         ├─→ 刷新瀑布流内容
 │    │         └─→ 显示"已更新到最新"提示
 │    │
 │    ├─→ 点击内容卡片
 │    │    ↓
 │    │   【进入动态详情页面】
 │    │    ├─→ 页面初始化
 │    │    │    ├─→ 加载动态完整图片/视频
 │    │    │    ├─→ 加载动态正文和话题标签
 │    │    │    ├─→ 加载评论列表
 │    │    │    └─→ 加载点赞收藏状态
 │    │    │
 │    │    ├─→ 查看内容详情
 │    │    │    ├─→ 查看大图/播放视频
 │    │    │    │    ├─→ 图片内容：左右滑动查看多图
 │    │    │    │    │    ├─→ 图片缩放查看细节
 │    │    │    │    │    ├─→ 长按保存图片
 │    │    │    │    │    └─→ 页码指示器显示当前图片
 │    │    │    │    └─→ 视频内容：播放控制
 │    │    │    │         ├─→ 点击播放/暂停
 │    │    │    │         ├─→ 拖动进度条
 │    │    │    │         ├─→ 调节音量
 │    │    │    │         └─→ 全屏播放
 │    │    │    ├─→ 阅读正文内容
 │    │    │    ├─→ 点击话题标签 → 跳转话题页面
 │    │    │    └─→ 点击用户信息 → 跳转用户主页
 │    │    │
 │    │    ├─→ 评论互动
 │    │    │    ├─→ 浏览评论列表
 │    │    │    │    ├─→ 查看所有评论内容
 │    │    │    │    ├─→ 点击评论者头像 → 跳转用户主页
 │    │    │    │    └─→ 滚动加载更多评论
 │    │    │    ├─→ 点击评论的点赞按钮
 │    │    │    │    ├─→ 未点赞 → 点赞评论 → 图标变红色
 │    │    │    │    └─→ 已点赞 → 取消点赞 → 图标变灰色
 │    │    │    ├─→ 点击评论项进行回复
 │    │    │    │    ├─→ 输入框聚焦，弹出键盘
 │    │    │    │    ├─→ 输入框显示"回复@用户名："
 │    │    │    │    ├─→ 输入回复内容
 │    │    │    │    ├─→ 点击发送 → 发布回复
 │    │    │    │    └─→ 评论列表更新，显示新回复
 │    │    │    └─→ 写新评论
 │    │    │         ├─→ 点击底部输入框 → 聚焦键盘
 │    │    │         ├─→ 输入评论内容
 │    │    │         ├─→ 点击发送按钮 → 发布评论
 │    │    │         ├─→ 评论列表更新，显示新评论
 │    │    │         └─→ 评论数+1
 │    │    │
 │    │    ├─→ 底部操作栏交互
 │    │    │    ├─→ 点击"点赞"按钮
 │    │    │    │    ├─→ 未点赞 → 点赞动态
 │    │    │    │    │    ├─→ 图标变红色实心 + 0.3s放大动画
 │    │    │    │    │    ├─→ 点赞数+1
 │    │    │    │    │    └─→ 同步到用户点赞列表
 │    │    │    │    └─→ 已点赞 → 取消点赞
 │    │    │    │         ├─→ 图标变灰色轮廓 + 0.2s缩小动画
 │    │    │    │         ├─→ 点赞数-1
 │    │    │    │         └─→ 从用户点赞列表移除
 │    │    │    ├─→ 点击"收藏"按钮
 │    │    │    │    ├─→ 未收藏 → 收藏动态
 │    │    │    │    │    ├─→ 图标变黄色实心 + 0.3s旋转动画
 │    │    │    │    │    ├─→ 收藏数+1
 │    │    │    │    │    └─→ 同步到用户收藏列表
 │    │    │    │    └─→ 已收藏 → 取消收藏
 │    │    │    │         ├─→ 图标变灰色轮廓 + 0.2s反向旋转
 │    │    │    │         ├─→ 收藏数-1
 │    │    │    │         └─→ 从用户收藏列表移除
 │    │    │    └─→ 点击"评论"按钮
 │    │    │         └─→ 聚焦到输入框，弹出键盘
 │    │    │
 │    │    ├─→ 点击右上角"更多"按钮
 │    │    │    ↓
 │    │    │   【弹出操作菜单】(底部抽屉样式)
 │    │    │    ├─→ 显示操作选项列表
 │    │    │    ├─→ 「分享」选项
 │    │    │    │    ├─→ 点击分享 → 打开分享面板
 │    │    │    │    ├─→ 选择分享渠道 (微信/QQ/微博等)
 │    │    │    │    └─→ 完成分享 → 关闭面板
 │    │    │    ├─→ 「举报」选项
 │    │    │    │    ├─→ 点击举报 → 跳转举报页面
 │    │    │    │    ├─→ 选择举报类型
 │    │    │    │    ├─→ 填写举报理由
 │    │    │    │    ├─→ 提交举报 → 显示成功提示
 │    │    │    │    └─→ 返回动态详情
 │    │    │    ├─→ 「删除」选项 (仅本人动态)
 │    │    │    │    ├─→ 点击删除 → 弹出确认对话框
 │    │    │    │    ├─→ 确认删除 → 删除动态
 │    │    │    │    ├─→ 显示"删除成功"提示
 │    │    │    │    └─→ 返回上一页
 │    │    │    └─→ 点击遮罩关闭菜单
 │    │    │
 │    │    └─→ 点击返回按钮
 │    │         └─→ 返回个人主页 (对应Tab页面)
 │    │
 │    └─→ 长按内容卡片
 │         ↓
 │        【弹出快捷操作菜单】
 │         ├─→ 「查看详情」选项 → 进入动态详情页
 │         ├─→ 「点赞」选项 → 快速点赞 (不进入详情)
 │         ├─→ 「收藏」选项 → 快速收藏 (不进入详情)
 │         ├─→ 「分享」选项 → 打开分享面板
 │         ├─→ 「删除」选项 (仅本人) → 删除动态
 │         └─→ 点击遮罩关闭菜单
 │
 └─→ 【系统级操作】
      ├─→ 页面滚动处理
      │    ├─→ 向下滚动超过阈值
      │    │    ├─→ Tab标签栏吸顶固定显示
      │    │    └─→ 背景头图区域向上隐藏
      │    └─→ 向上滚动到顶部
      │         ├─→ Tab标签栏恢复原位置
      │         └─→ 背景头图区域重新显示
      │
      ├─→ 数据同步处理
      │    ├─→ 点赞/收藏操作
      │    │    ├─→ 本地状态立即更新 (乐观更新)
      │    │    ├─→ 发送请求到服务器
      │    │    ├─→ 服务器返回成功 → 保持本地状态
      │    │    └─→ 服务器返回失败 → 回滚本地状态
      │    ├─→ 关注/取关操作
      │    │    ├─→ 更新按钮状态和粉丝数
      │    │    ├─→ 同步到服务器
      │    │    └─→ 更新关注/粉丝列表
      │    └─→ 内容发布/删除操作
      │         ├─→ 更新动态列表
      │         ├─→ 更新动态数量统计
      │         └─→ 刷新页面内容
      │
      ├─→ 缓存管理
      │    ├─→ 用户信息缓存 (5分钟有效期)
      │    ├─→ 内容列表缓存 (分页缓存)
      │    ├─→ 图片资源缓存 (LRU策略)
      │    └─→ 进入页面时判断缓存是否有效
      │
      └─→ 异常处理
           ├─→ 网络异常
           │    ├─→ 显示网络错误提示
           │    ├─→ 显示重试按钮
           │    └─→ 点击重试 → 重新加载数据
           ├─→ 数据加载失败
           │    ├─→ 显示加载失败提示
           │    ├─→ 显示空状态页面
           │    └─→ 提供刷新操作
           └─→ 用户不存在
                ├─→ 显示"用户不存在"提示
                └─→ 3秒后自动返回上一页
 ↓
【流程汇聚点】- 所有操作完成后汇聚
 ↓
用户选择后续操作
 ├─→ 继续浏览当前主页内容
 ├─→ 切换Tab查看其他维度内容
 ├─→ 点击内容进入详情页
 ├─→ 点击其他用户跳转到其主页
 ├─→ 返回上一页或切换其他模块
 └─→ 退出应用保存浏览状态
 ↓
结束
```

---

## 📐 设计规范与技术要点

### 🎨 UI设计规范

#### 📏 尺寸规范
```
- 系统状态栏：44px (iOS) / 24px (Android)
- 导航栏高度：56px
- Tab标签栏高度：48px
- 用户头像：96x96px (主页) / 48x48px (列表) / 36x36px (评论) / 24x24px (卡片)
- 认证标签：自适应x24px + 圆角12px
- 按钮高度：36px (标准) / 40px (强调)
- 卡片圆角：12px
- 按钮圆角：18px (半圆) / 8px (方形)
- 输入框圆角：18px
- 列间距：8px (瀑布流)
- 内边距：16px (页面边距) / 12px (卡片内边距)
```

#### 🎨 颜色规范
```
- 主色调：紫色 #8A2BE2 (品牌色)
- 强调色：粉色 #FF4081 (点赞爱心) / 黄色 #FFC107 (收藏星标)
- 认证蓝：#2196F3 (实名认证)
- 在线绿：#00C853 (在线状态)
- 文字颜色：黑色 #333333 (主要) / 灰色 #757575 (次要) / 浅灰 #BDBDBD (提示)
- 背景颜色：白色 #FFFFFF (卡片) / 浅灰 #F5F5F5 (页面背景)
- 边框颜色：#E0E0E0 (分隔线) / #BDBDBD (输入框边框)
- 遮罩颜色：黑色 alpha=40% (半透明遮罩)
```

#### ✨ 动画规范
```
- 快速反馈：0.1s (按钮点击缩放)
- 标准动画：0.2s (颜色过渡、状态切换)
- 流畅动画：0.3s (Tab切换、页面转场、点赞收藏)
- 慢速动画：0.5s (大图展示、页面加载)
- 缓动函数：ease-out (淡入) / ease-in-out (双向过渡)
```

### 🏗️ 组件复用设计

#### 📋 通用卡片组件
```typescript
<ContentCard>
  - 白色背景 + 圆角12px + 阴影2px
  - 支持图片/视频/文字混合内容
  - 支持用户信息展示
  - 支持互动数据展示 (点赞/评论/收藏)
  - 支持点击跳转到详情
  - 应用场景：动态卡片、收藏卡片、点赞卡片
</ContentCard>
```

#### 🌊 瀑布流布局组件
```typescript
<MasonryLayout columns={2} gap={8}>
  - 固定2列布局
  - 动态高度计算 (根据图片比例)
  - 虚拟滚动优化 (大数据量性能)
  - 无限滚动加载
  - 下拉刷新支持
  - 应用场景：动态页、收藏页、点赞页
</MasonryLayout>
```

#### 👤 用户信息组件
```typescript
<UserInfoHeader>
  - 头像 + 昵称 + 认证标签 + 位置距离
  - 社交数据展示 (关注/粉丝/获赞)
  - 编辑/关注按钮
  - 在线状态指示
  - 应用场景：个人主页顶部、用户详情页
</UserInfoHeader>
```

### 🔧 技术实现要点

#### 📡 数据管理
```
- 用户信息状态管理 (全局Store)
- 内容列表分页加载 (每页20条)
- 图片懒加载优化 (IntersectionObserver)
- 缓存策略 (用户信息5分钟/内容列表本地缓存)
- 乐观更新机制 (点赞收藏立即反馈)
```

#### 🎯 性能优化
```
- 瀑布流虚拟滚动 (只渲染可视区域+缓冲区)
- 图片压缩加载 (缩略图→原图渐进式)
- Tab内容懒加载 (切换时才加载对应内容)
- 防抖节流处理 (滚动事件、搜索输入)
- 组件按需加载 (Code Splitting)
```

#### 🔐 安全与权限
```
- 本人/他人主页权限区分 (编辑按钮显示)
- 删除操作确认机制 (防止误删)
- 敏感信息脱敏显示 (手机号/微信号部分隐藏)
- 举报功能审核流程
```

### 🔧 编辑模块专项技术要点

#### 📝 表单编辑管理
```
- 字段实时验证：昵称(1-20字) + 个人介绍(0-30字) + 微信号格式
- 字数统计显示：实时更新 + 超出变红色#FF4081
- 自动聚焦策略：编辑页面打开时输入框自动聚焦 + 弹出键盘
- 清除按钮显示：有内容时显示 + 无内容时隐藏
- 完成按钮状态：内容有效时紫色可用 + 内容无效时灰色禁用
```

#### 🎡 底部弹窗选择器
```
- 弹窗动画时序：遮罩0.3s渐入 + 内容0.3s从底部滑入
- 选择器类型：
  • ActionSheet - 性别/头像操作 (固定选项列表)
  • PickerView - 生日/身高/体重 (滚动选择器)
  • GridView - 常居地 (2列城市网格)
- 选中行样式：18sp黑色粗体 + 中间高亮区域
- 未选中行样式：16sp灰色#BDBDBD + 半透明显示
- 联动选择逻辑：生日的年月日联动 + 闰年2月29日处理
```

#### 📷 头像图片处理
```
- 图片来源：系统相机拍照 / 系统相册选择
- 图片裁剪：正方形裁剪框 + 支持缩放移动 + 预览效果
- 图片压缩：裁剪后压缩到500KB以下 + 生成缩略图
- 图片上传：分片上传 + 进度显示 + 断点续传支持
- 权限管理：相机权限/相册权限检查 + 授权失败提示
- 保存功能：保存当前头像到系统相册 + 相册权限检查
```

#### 💾 数据同步策略
```
- 实时保存机制：每个字段修改后立即发送更新请求
- 乐观更新策略：本地先更新UI → 发送请求 → 失败时回滚
- 草稿保存功能：编辑过程中本地保存草稿 (可选)
- 防抖处理：输入框停止输入300ms后触发验证
- 返回确认：有未保存修改时弹出"放弃修改"确认框
- 主页数据更新：编辑成功后自动更新个人主页显示
```

#### 🎨 编辑页面组件复用
```typescript
<EditFieldPage>
  - 统一导航栏：「取消」按钮 + 字段标题 + 「完成」按钮(紫色#8A2BE2)
  - 自动聚焦输入框 + 实时字数统计
  - 清除按钮(有内容时显示)
  - 表单验证 + 错误提示
  - 应用场景：昵称/个人介绍/微信 三个编辑页面
</EditFieldPage>

<BottomSheetSelector>
  - 半透明遮罩层(黑色alpha=40%)
  - 底部圆角卡片(顶部圆角20px)
  - 滑入滑出动画(0.3s ease-out)
  - 点击遮罩关闭
  - 应用场景：性别/生日/身高/体重/常居地 五个选择器
</BottomSheetSelector>

<TagManager>
  - 流式布局(水平自动换行)
  - 标签样式(浅灰背景#F5F5F5 + 圆角20px)
  - 删除按钮(灰色X图标)
  - 添加按钮(虚线边框 + 加号图标)
  - 应用场景：职业标签管理
</TagManager>
```

---

## ✅ 质量评估标准

### 📊 功能完整性

**主页展示功能**
- [x] 用户信息完整展示
- [x] 四个维度Tab切换流畅
- [x] 瀑布流内容布局美观
- [x] 动态详情完整展示
- [x] 评论互动功能完善
- [x] 点赞收藏状态同步
- [x] 关注粉丝管理完善
- [x] 技能标签展示和添加

**资料编辑功能**
- [x] 所有字段可编辑 (9个字段)
- [x] 头像上传和裁剪
- [x] 实时字数统计 (昵称7/20 + 介绍7/30)
- [x] 表单验证完善 (实时验证 + 提交验证)
- [x] 多种选择器类型 (ActionSheet + PickerView + GridView)
- [x] 保存状态反馈 (成功提示 + 失败回滚)
- [x] 错误处理完善 (网络异常 + 格式错误 + 权限拒绝)

### 🎨 UI设计质量
- [x] 像素级尺寸精确 (所有元素标注具体数值)
- [x] 颜色规范统一 (HEX色值明确)
- [x] 动画时长合理 (0.1s-0.5s不同场景)
- [x] 交互反馈及时 (点击/悬浮/加载状态)
- [x] 视觉层次清晰 (主次分明、重点突出)

### ⚡ 性能指标

**主页性能**
- [ ] 首屏加载时间 < 1.5s
- [ ] Tab切换响应 < 200ms
- [ ] 瀑布流滚动FPS ≥ 55
- [ ] 图片加载优化 (渐进式加载)
- [ ] 内存占用合理 (大数据量不卡顿)

**编辑性能**
- [ ] 编辑页打开 < 500ms
- [ ] 输入响应时间 < 100ms (实时字数统计)
- [ ] 弹窗动画流畅 ≥ 55fps (0.3s滑入滑出)
- [ ] 图片上传成功率 > 95% (裁剪+压缩+上传)
- [ ] 字段保存成功率 > 99% (实时保存+失败重试)

### 🔒 安全性

**主页安全**
- [ ] 用户数据隐私保护
- [ ] 操作权限验证完善 (本人/他人主页区分)
- [ ] 敏感操作二次确认 (删除动态)
- [ ] 内容审核机制 (举报流程)

**编辑安全**
- [ ] 数据验证完善 (前端+后端双重验证)
- [ ] 敏感信息保护 (微信号传输加密)
- [ ] 权限控制严格 (相机/相册权限管理)
- [ ] 防止恶意提交 (频率限制+敏感词过滤)
- [ ] 草稿保护 (未保存修改提示)

---

## 📝 **文档版本信息**

**文档创建时间**：2025-09-30  
**文档版本**：v2.0 (整合编辑模块)  
**设计规范**：纯结构架构图标准模板 v1.0

### 📌 **版本更新记录**
- **v1.0** (2025-09-30) - 个人主页模块初始版本 (展示+动态详情)
- **v2.0** (2025-09-30) - 整合个人信息编辑子模块 (11个编辑页面/弹窗)
  - ✅ 在树状图中添加完整的编辑子模块结构
  - ✅ 在流程图中添加详细的编辑操作流程
  - ✅ 补充编辑模块专项技术要点
  - ✅ 更新功能清单、性能指标、安全性评估

### 🔗 **相关文档**
- 原独立文档：`个人信息编辑模块架构设计文档.md` (已整合到本文档)
- 技能添加功能：见 UI页面/个人页/添加功能/ 相关原型图
- 粉丝关注管理：见 UI页面/个人页/粉丝与关注/ 相关原型图

### 💡 **使用建议**
1. **前端开发顺序**：个人主页框架 → 资料页 → 编辑入口 → 各编辑页面
2. **组件复用优先**：先实现通用组件 (EditFieldPage/BottomSheetSelector)
3. **数据流设计**：主页 ↔ 编辑页双向数据同步，使用状态管理库
4. **测试重点**：编辑保存成功率、图片上传稳定性、弹窗动画流畅度
