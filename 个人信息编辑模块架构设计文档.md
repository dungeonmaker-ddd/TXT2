# 个人信息编辑模块架构设计文档

> **模块类型**：用户资料编辑 - 包含基本信息、头像、多种字段编辑  
> **设计日期**：2025-09-30  
> **适用平台**：iOS/Android移动端  
> **设计规范**：纯结构架构图标准模板 v1.0

---

## 📋 **模块概述**

### 🎯 **核心功能**
- ✅ **头像管理** - 拍照/相册选择/保存图片
- ✅ **文本字段编辑** - 昵称/个人介绍/微信号
- ✅ **单选字段编辑** - 性别选择
- ✅ **滚动选择器** - 生日/身高/体重/常居地
- ✅ **标签管理** - 职业标签添加和删除
- ✅ **实时验证** - 字数限制/格式验证/必填验证

### 📱 **页面清单**
1. **个人资料主页** - 所有字段的入口列表
2. **昵称编辑页** - 单行文本输入 + 字数统计
3. **个人介绍编辑页** - 多行文本输入 + 字数统计
4. **微信编辑页** - 微信号输入 + 解锁微信功能
5. **职业编辑页** - 多标签管理（添加/删除）
6. **性别选择弹窗** - 底部ActionSheet选择器
7. **生日选择弹窗** - 三列滚动选择器（年/月/日）
8. **身高选择弹窗** - 单列滚动选择器（cm）
9. **体重选择弹窗** - 单列滚动选择器（kg）
10. **常居地选择弹窗** - 城市列表选择器
11. **头像操作菜单** - 拍照/相册/保存/取消

---

## 🌳 个人信息编辑模块 - 树状图（页面结构视角）

```
【个人信息编辑系统模块】★★★
│
├── 【个人资料主页面】📱 (编辑入口汇总页)
│   ├── 📱 系统状态栏 (9:41时间 + 信号电池显示)
│   │   ├── 状态栏高度：44px iOS / 24px Android
│   │   ├── 背景样式：白色背景
│   │   └── 颜色样式：黑色图标 + 黑色文字
│   │
│   ├── 🔝 页面导航栏 (固定头部 - 高度56px - 白色背景)
│   │   ├── 🔙「<」返回按钮 (左上角 - 黑色箭头图标 24x24px)
│   │   │   ├── 按钮位置：左边距16px + 垂直居中
│   │   │   ├── 按钮样式：纯图标按钮 + 黑色#333333
│   │   │   └── 点击功能：返回个人主页
│   │   └── 📝 页面标题 "个人资料" (居中 - 18sp黑色粗体)
│   │       ├── 字体样式：18sp + Bold + 黑色#333333
│   │       └── 位置：导航栏水平垂直居中
│   │
│   ├── 📄 主内容滚动区域 (垂直滚动 - 弹性高度)
│   │   ├── 🖼️ 头像编辑区域 (顶部区域 - 高度120px - 白色背景)
│   │   │   ├── 📱 区域容器样式
│   │   │   │   ├── 背景颜色：白色#FFFFFF
│   │   │   │   ├── 底部分隔线：1px灰色#E0E0E0
│   │   │   │   └── 左右内边距：16px
│   │   │   ├── 📝 标题文字 "头像" (左侧 - 16sp黑色)
│   │   │   │   ├── 字体样式：16sp + Regular + 黑色#333333
│   │   │   │   ├── 位置：左边距16px + 垂直居中
│   │   │   │   └── 字段宽度：80px固定宽度
│   │   │   ├── 🖼️ 当前头像显示 (右侧 - 圆形60x60px)
│   │   │   │   ├── 头像样式：圆形裁剪 + 2px浅灰边框#E0E0E0
│   │   │   │   ├── 头像位置：右边距16px + 垂直居中
│   │   │   │   ├── 头像加载：占位图 + 渐进式加载
│   │   │   │   └── 点击区域：整行可点击
│   │   │   └── 🔻「>」右箭头指示 (最右侧 - 灰色图标 20x20px)
│   │   │       ├── 图标样式：灰色#BDBDBD + 右箭头图标
│   │   │       └── 位置：紧贴右边距16px
│   │   │
│   │   ├── 📋 基本资料分组区域 (头像下方 - 白色背景卡片)
│   │   │   ├── 📝 分组标题 "基本资料" (20sp黑色粗体)
│   │   │   │   ├── 字体样式：20sp + Bold + 黑色#333333
│   │   │   │   ├── 位置：左边距16px + 顶部间距24px
│   │   │   │   └── 底部间距：16px
│   │   │   │
│   │   │   └── 《资料字段列表》📋 (垂直列表 - 每项高度60px)
│   │   │       ├── 列表样式：白色背景 + 底部分隔线1px
│   │   │       ├── 左右内边距：16px
│   │   │       └── 字段统一结构：标题(左) + 内容(中) + 箭头(右)
│   │   │       │
│   │   │       ├── 📝《昵称字段》📋 (可点击行 - 高度60px)
│   │   │       │   ├── 📱 字段容器 (白色背景 + 底部分隔线)
│   │   │       │   ├── 📝 字段标题 "昵称" (左侧 - 16sp黑色)
│   │   │       │   │   ├── 字体样式：16sp + Regular + 黑色#333333
│   │   │       │   │   ├── 位置：左边距16px + 垂直居中
│   │   │       │   │   └── 字段宽度：80px固定宽度
│   │   │       │   ├── 📝 当前昵称内容 "门前游过一群鸭" (中间 - 16sp灰色)
│   │   │       │   │   ├── 字体样式：16sp + Regular + 灰色#757575
│   │   │       │   │   ├── 文字对齐：右对齐
│   │   │       │   │   ├── 文字显示：单行显示，超出显示"..."
│   │   │       │   │   └── 最大宽度：屏幕宽度-180px
│   │   │       │   ├── 🔻「>」右箭头 (最右侧 - 灰色图标 20x20px)
│   │   │       │   └── 点击区域：整行可点击 → 跳转昵称编辑页
│   │   │       │
│   │   │       ├── 📝《性别字段》📋 (可点击行 - 相同结构)
│   │   │       │   ├── 📱 字段容器 (相同样式)
│   │   │       │   ├── 📝 字段标题 "性别" (16sp黑色)
│   │   │       │   ├── 📝 当前性别 "暂未选择" (16sp灰色#BDBDBD)
│   │   │       │   │   └── 未选择状态：显示"暂未选择"占位符
│   │   │       │   ├── 🔻「>」右箭头 (灰色图标)
│   │   │       │   └── 点击功能：弹出性别选择弹窗
│   │   │       │
│   │   │       ├── 📝《个人介绍字段》📋 (可点击行 - 相同结构)
│   │   │       │   ├── 📱 字段容器 (相同样式)
│   │   │       │   ├── 📝 字段标题 "个人介绍" (16sp黑色)
│   │   │       │   ├── 📝 当前介绍内容 "这里是个人介绍这里是个人介绍..." (16sp灰色)
│   │   │       │   │   ├── 文字显示：单行显示，超出显示"..."
│   │   │       │   │   └── 最大显示：约20个字符
│   │   │       │   ├── 🔻「>」右箭头 (灰色图标)
│   │   │       │   └── 点击功能：跳转个人介绍编辑页
│   │   │       │
│   │   │       ├── 📅《生日字段》📋 (可点击行 - 相同结构)
│   │   │       │   ├── 📱 字段容器 (相同样式)
│   │   │       │   ├── 📝 字段标题 "生日" (16sp黑色)
│   │   │       │   ├── 📝 当前生日 "1999-09-29" (16sp灰色)
│   │   │       │   │   └── 日期格式：YYYY-MM-DD
│   │   │       │   ├── 🔻「>」右箭头 (灰色图标)
│   │   │       │   └── 点击功能：弹出生日选择弹窗
│   │   │       │
│   │   │       ├── 📏《身高字段》📋 (可点击行 - 相同结构)
│   │   │       │   ├── 📱 字段容器 (相同样式)
│   │   │       │   ├── 📝 字段标题 "身高" (16sp黑色)
│   │   │       │   ├── 📝 当前身高 "暂未选择" (16sp灰色#BDBDBD)
│   │   │       │   │   └── 未选择状态：显示"暂未选择"占位符
│   │   │       │   ├── 🔻「>」右箭头 (灰色图标)
│   │   │       │   └── 点击功能：弹出身高选择弹窗
│   │   │       │
│   │   │       ├── ⚖️《体重字段》📋 (可点击行 - 相同结构)
│   │   │       │   ├── 📱 字段容器 (相同样式)
│   │   │       │   ├── 📝 字段标题 "体重" (16sp黑色)
│   │   │       │   ├── 📝 当前体重 "暂未选择" (16sp灰色#BDBDBD)
│   │   │       │   ├── 🔻「>」右箭头 (灰色图标)
│   │   │       │   └── 点击功能：弹出体重选择弹窗
│   │   │       │
│   │   │       ├── 💼《职业字段》📋 (可点击行 - 相同结构)
│   │   │       │   ├── 📱 字段容器 (相同样式)
│   │   │       │   ├── 📝 字段标题 "职业" (16sp黑色)
│   │   │       │   ├── 📝 当前职业 "暂未选择" (16sp灰色#BDBDBD)
│   │   │       │   │   └── 未选择状态：显示"暂未选择"占位符
│   │   │       │   ├── 🔻「>」右箭头 (灰色图标)
│   │   │       │   └── 点击功能：跳转职业编辑页
│   │   │       │
│   │   │       ├── 📍《常居地字段》📋 (可点击行 - 相同结构)
│   │   │       │   ├── 📱 字段容器 (相同样式)
│   │   │       │   ├── 📝 字段标题 "常居地" (16sp黑色)
│   │   │       │   ├── 📝 当前常居地 "深圳" (16sp灰色)
│   │   │       │   ├── 🔻「>」右箭头 (灰色图标)
│   │   │       │   └── 点击功能：弹出常居地选择弹窗
│   │   │       │
│   │   │       └── 💬《微信字段》📋 (可点击行 - 相同结构)
│   │   │           ├── 📱 字段容器 (相同样式 + 无底部分隔线)
│   │   │           ├── 📝 字段标题 "微信" (16sp黑色)
│   │   │           ├── 📝 当前微信号 "213438647210" (16sp灰色)
│   │   │           ├── 🔻「>」右箭头 (灰色图标)
│   │   │           └── 点击功能：跳转微信编辑页
│   │   │
│   │   └── 📱 底部安全区域 (80px高度 - 预留空间)
│   │
│   └── 🔧 系统支持层
│       ├── 表单验证服务 (实时验证 + 提交验证)
│       ├── 数据同步服务 (本地缓存 + 服务器同步)
│       └── 图片上传服务 (压缩 + 上传 + 进度)
│
├── 【昵称编辑页面】📱 (单行文本输入页面)
│   ├── 📱 系统状态栏 (9:41时间 + 信号电池显示)
│   │
│   ├── 🔝 页面导航栏 (固定头部 - 高度56px - 白色背景)
│   │   ├── 🔙「取消」按钮 (左上角 - 16sp黑色文字)
│   │   │   ├── 按钮样式：文字按钮 + 黑色#333333
│   │   │   ├── 按钮位置：左边距16px + 垂直居中
│   │   │   └── 点击功能：取消编辑 → 返回上一页
│   │   ├── 📝 页面标题 "昵称" (居中 - 18sp黑色粗体)
│   │   └── 💜「完成」按钮 (右上角 - 16sp紫色文字)
│   │       ├── 按钮样式：文字按钮 + 紫色#8A2BE2
│   │       ├── 按钮位置：右边距16px + 垂直居中
│   │       ├── 按钮状态：有内容时紫色，无内容时灰色#BDBDBD
│   │       └── 点击功能：保存昵称 → 返回上一页
│   │
│   ├── 📄 主内容区域 (白色背景 - 全屏)
│   │   ├── 《昵称输入区域》📋 (顶部 - 白色卡片)
│   │   │   ├── 📱 输入容器样式
│   │   │   │   ├── 背景颜色：白色#FFFFFF
│   │   │   │   ├── 顶部间距：16px
│   │   │   │   ├── 左右内边距：16px
│   │   │   │   └── 底部分隔线：1px灰色#E0E0E0
│   │   │   │
│   │   │   ├── 📝《昵称输入框》(单行输入 - 自动聚焦)
│   │   │   │   ├── 输入框样式：无边框 + 白色背景
│   │   │   │   ├── 输入框尺寸：全宽 x 高度50px
│   │   │   │   ├── 字体样式：16sp + Regular + 黑色#333333
│   │   │   │   ├── 占位符："门前游过一群鸭" (16sp灰色#BDBDBD)
│   │   │   │   ├── 当前值："门前游过一群鸭" (实际内容)
│   │   │   │   ├── 字数限制：最多20个字符
│   │   │   │   ├── 输入监听：实时统计字数
│   │   │   │   └── 自动聚焦：页面打开时自动弹出键盘
│   │   │   │
│   │   │   ├── ❌「清除」按钮 (输入框右侧 - 圆形图标 24x24px)
│   │   │   │   ├── 按钮样式：灰色圆形背景#E0E0E0 + 白色X图标
│   │   │   │   ├── 按钮位置：输入框右侧12px + 垂直居中
│   │   │   │   ├── 显示条件：有内容时显示，无内容时隐藏
│   │   │   │   └── 点击功能：清空输入框内容
│   │   │   │
│   │   │   └── 📊 字数统计 "7/20字" (右下角 - 12sp灰色)
│   │   │       ├── 字体样式：12sp + Regular + 灰色#BDBDBD
│   │   │       ├── 位置：右边距16px + 底部间距12px
│   │   │       ├── 统计格式："当前字数/最大字数字"
│   │   │       ├── 实时更新：输入时实时更新字数
│   │   │       └── 超出提示：超出20字时字数变红色#FF4081
│   │   │
│   │   └── 📱 虚拟键盘区域 (底部 - 系统键盘)
│   │       ├── 键盘类型：文本键盘
│   │       ├── 键盘高度：约320px (系统控制)
│   │       └── 输入完成：点击"完成"按钮保存
│   │
│   └── 🔧 表单验证逻辑
│       ├── 必填验证：昵称不能为空
│       ├── 长度验证：1-20个字符
│       ├── 格式验证：不允许特殊字符（可选）
│       └── 实时反馈：字数统计 + 完成按钮状态
│
├── 【个人介绍编辑页面】📱 (多行文本输入页面)
│   ├── 📱 系统状态栏 + 导航栏 (相同结构)
│   │   ├── 🔙「取消」按钮 (左上角)
│   │   ├── 📝 页面标题 "个人介绍" (居中)
│   │   └── 💜「完成」按钮 (右上角)
│   │
│   ├── 📄 主内容区域 (白色背景)
│   │   ├── 《个人介绍输入区域》📋 (顶部 - 白色卡片)
│   │   │   ├── 📝《多行输入框》(多行输入 - 自动聚焦)
│   │   │   │   ├── 输入框样式：无边框 + 白色背景
│   │   │   │   ├── 输入框尺寸：全宽 x 最小高度150px
│   │   │   │   ├── 字体样式：16sp + Regular + 黑色#333333
│   │   │   │   ├── 行高设置：1.5倍行高
│   │   │   │   ├── 占位符：无（当前有内容）
│   │   │   │   ├── 当前值："这里是个人介绍这里是个人介绍"
│   │   │   │   ├── 字数限制：最多30个字符
│   │   │   │   ├── 输入监听：实时统计字数
│   │   │   │   └── 自动换行：支持多行显示
│   │   │   │
│   │   │   └── 📊 字数统计 "7/30字" (右下角 - 12sp灰色)
│   │   │       └── 相同的字数统计逻辑
│   │   │
│   │   └── 📱 虚拟键盘区域 (底部 - 系统键盘)
│   │
│   └── 🔧 表单验证逻辑
│       ├── 必填验证：个人介绍可以为空（可选）
│       ├── 长度验证：0-30个字符
│       └── 实时反馈：字数统计 + 完成按钮状态
│
├── 【微信编辑页面】📱 (特殊文本输入页面)
│   ├── 📱 系统状态栏 + 导航栏 (相同结构)
│   │   ├── 🔙「取消」按钮 (左上角)
│   │   ├── 📝 页面标题 "微信" (居中)
│   │   └── 💜「完成」按钮 (右上角)
│   │
│   ├── 📄 主内容区域 (白色背景)
│   │   ├── 《微信号输入区域》📋 (第1行 - 高度60px)
│   │   │   ├── 📱 输入行容器 (白色背景 + 底部分隔线1px)
│   │   │   ├── 📝 字段标题 "微信" (左侧 - 16sp黑色)
│   │   │   │   ├── 字体样式：16sp + Regular + 黑色#333333
│   │   │   │   ├── 位置：左边距16px + 垂直居中
│   │   │   │   └── 字段宽度：80px固定宽度
│   │   │   ├── 📝《微信号输入框》(中间 - 单行输入)
│   │   │   │   ├── 输入框样式：无边框 + 白色背景
│   │   │   │   ├── 字体样式：16sp + Regular + 黑色#333333
│   │   │   │   ├── 文字对齐：右对齐
│   │   │   │   ├── 占位符：无
│   │   │   │   ├── 当前值："sunny0713"
│   │   │   │   └── 输入类型：英文数字组合
│   │   │   └── ❌「清除」按钮 (右侧 - 圆形图标 24x24px)
│   │   │       └── 相同的清除按钮逻辑
│   │   │
│   │   └── 《解锁微信字段》📋 (第2行 - 高度60px)
│   │       ├── 📱 字段容器 (白色背景 + 无底部分隔线)
│   │       ├── 📝 字段标题 "解锁微信" (左侧 - 16sp黑色)
│   │       ├── 📝 当前状态 "暂未设置" (右侧 - 16sp灰色#BDBDBD)
│   │       │   ├── 未设置状态：显示"暂未设置"灰色文字
│   │       │   └── 已设置状态：显示具体解锁条件（如"关注后可见"）
│   │       └── 点击功能：设置微信号可见条件（可选功能）
│   │
│   └── 🔧 表单验证逻辑
│       ├── 格式验证：微信号格式验证（6-20位字母数字下划线）
│       ├── 必填验证：微信号可以为空
│       └── 实时反馈：完成按钮状态
│
├── 【职业编辑页面】📱 (标签管理页面)
│   ├── 📱 系统状态栏 + 导航栏 (相同结构)
│   │   ├── 🔙「取消」按钮 (左上角)
│   │   ├── 📝 页面标题 "职业" (居中)
│   │   └── 💜「完成」按钮 (右上角)
│   │
│   ├── 📄 主内容区域 (白色背景)
│   │   └── 《职业标签管理区域》📋 (顶部 - 白色卡片)
│   │       ├── 📱 标签容器 (左右内边距16px + 顶部间距24px)
│   │       │   ├── 布局方式：水平流式布局（自动换行）
│   │       │   └── 标签间距：行间距12px + 列间距8px
│   │       │
│   │       ├── 💼《职业标签项》📋 (已选职业 - 可删除)
│   │       │   ├── 📱 标签容器样式
│   │       │   │   ├── 背景颜色：浅灰色#F5F5F5
│   │       │   │   ├── 圆角样式：圆角20px (胶囊形)
│   │       │   │   ├── 内边距：12px水平 + 8px垂直
│   │       │   │   └── 标签高度：36px
│   │       │   ├── 📝 职业文字 "模特" (14sp黑色)
│   │       │   │   ├── 字体样式：14sp + Regular + 黑色#333333
│   │       │   │   └── 文字位置：左侧显示
│   │       │   └── ❌ 删除按钮 (右侧 - 圆形图标 16x16px)
│   │       │       ├── 图标样式：灰色圆形背景#BDBDBD + 白色X图标
│   │       │       ├── 图标位置：文字右侧6px间距
│   │       │       └── 点击功能：删除该职业标签
│   │       │
│   │       └── ➕《添加职业按钮》📋 (添加按钮 - 虚线边框)
│   │           ├── 📱 按钮容器样式
│   │           │   ├── 背景颜色：白色#FFFFFF
│   │           │   ├── 边框样式：1px虚线边框#BDBDBD
│   │           │   ├── 圆角样式：圆角20px (胶囊形)
│   │           │   ├── 内边距：12px水平 + 8px垂直
│   │           │   └── 按钮高度：36px (与标签相同)
│   │           ├── ➕ 加号图标 (左侧 - 灰色图标 16x16px)
│   │           │   └── 图标样式：灰色#BDBDBD + 加号图标
│   │           ├── 📝 按钮文字 "添加职业" (14sp灰色)
│   │           │   ├── 字体样式：14sp + Regular + 灰色#757575
│   │           │   └── 文字位置：图标右侧4px间距
│   │           └── 点击功能：弹出职业选择列表 / 跳转职业选择页
│   │
│   └── 🔧 标签管理逻辑
│       ├── 最多职业数：建议最多3-5个职业
│       ├── 删除确认：直接删除（无二次确认）
│       └── 添加职业：从预设列表选择 / 自定义输入
│
├── 【性别选择弹窗】📱 (底部ActionSheet弹窗)
│   ├── 📱 遮罩层 (半透明黑色遮罩 - 覆盖整个屏幕)
│   │   ├── 遮罩颜色：黑色#000000 + alpha=40%
│   │   ├── 遮罩高度：全屏高度
│   │   ├── 动画效果：0.3s渐入
│   │   └── 点击功能：点击遮罩关闭弹窗
│   │
│   └── 📋 选择器容器 (底部弹出 - 白色卡片)
│       ├── 📱 容器样式
│       │   ├── 背景颜色：白色#FFFFFF
│       │   ├── 圆角样式：顶部圆角20px + 底部无圆角
│       │   ├── 容器高度：自适应内容高度
│       │   ├── 动画效果：0.3s从底部滑入
│       │   └── 阴影效果：顶部阴影8px alpha=15%
│       │
│       └── 《选项列表》📋 (垂直排列 - 3个选项)
│           ├── 💼《选项1-男》📋 (选项行 - 高度56px)
│           │   ├── 📱 选项容器 (白色背景 + 底部分隔线1px)
│           │   ├── 📝 选项文字 "男" (居中 - 18sp黑色)
│           │   │   ├── 字体样式：18sp + Regular + 黑色#333333
│           │   │   ├── 文字对齐：水平垂直居中
│           │   │   └── 选中样式：紫色#8A2BE2 + Bold字重
│           │   └── 点击功能：选择"男" → 关闭弹窗 → 更新性别
│           │
│           ├── 💼《选项2-女》📋 (选项行 - 相同结构)
│           │   ├── 📱 选项容器 (相同样式)
│           │   ├── 📝 选项文字 "女" (18sp黑色)
│           │   └── 点击功能：选择"女" → 关闭弹窗 → 更新性别
│           │
│           ├── 📐 分隔间距 (高度8px - 浅灰色背景#F5F5F5)
│           │
│           └── 💼《选项3-取消》📋 (取消行 - 高度56px)
│               ├── 📱 选项容器 (白色背景 + 无分隔线)
│               ├── 📝 选项文字 "取消" (居中 - 18sp灰色)
│               │   └── 字体样式：18sp + Regular + 灰色#757575
│               └── 点击功能：关闭弹窗 → 不做任何操作
│
├── 【生日选择弹窗】📱 (底部滚动选择器弹窗)
│   ├── 📱 遮罩层 (相同的半透明遮罩)
│   │
│   └── 📋 选择器容器 (底部弹出 - 白色卡片)
│       ├── 📱 容器样式 (相同的底部弹出样式)
│       │
│       ├── 🔝 选择器顶部栏 (固定头部 - 高度56px)
│       │   ├── 🔙「取消」按钮 (左上角 - 16sp灰色文字)
│       │   │   ├── 按钮样式：文字按钮 + 灰色#757575
│       │   │   ├── 按钮位置：左边距16px + 垂直居中
│       │   │   └── 点击功能：取消选择 → 关闭弹窗
│       │   ├── 📝 选择器标题 "生日" (居中 - 18sp黑色粗体)
│       │   └── 💜「确定」按钮 (右上角 - 16sp紫色文字)
│       │       ├── 按钮样式：文字按钮 + 紫色#8A2BE2
│       │       ├── 按钮位置：右边距16px + 垂直居中
│       │       └── 点击功能：确认选择 → 关闭弹窗 → 更新生日
│       │
│       └── 《三列滚动选择器》📋 (PickerView - 高度240px)
│           ├── 📊 选择器容器样式
│           │   ├── 容器高度：240px
│           │   ├── 背景颜色：白色#FFFFFF
│           │   ├── 中间选中区域：2条灰色线框选中行
│           │   └── 上下渐变遮罩：半透明白色渐变效果
│           │
│           ├── 📅《年份列》(左侧列 - 1/3宽度)
│           │   ├── 列标题：顶部显示"年" (可选)
│           │   ├── 列宽度：容器宽度的1/3
│           │   ├── 数据范围：1987年-2001年 (可滚动范围)
│           │   ├── 当前选中："1999年" (居中高亮显示)
│           │   ├── 选中样式：18sp黑色粗体
│           │   ├── 未选中样式：16sp灰色#BDBDBD
│           │   └── 滚动方式：垂直滚动选择
│           │
│           ├── 📅《月份列》(中间列 - 1/3宽度)
│           │   ├── 列标题：顶部显示"月" (可选)
│           │   ├── 列宽度：容器宽度的1/3
│           │   ├── 数据范围：7月-11月 (可滚动范围1-12月)
│           │   ├── 当前选中："9月" (居中高亮显示)
│           │   └── 相同的选中/未选中样式
│           │
│           └── 📅《日期列》(右侧列 - 1/3宽度)
│               ├── 列标题：顶部显示"日" (可选)
│               ├── 列宽度：容器宽度的1/3
│               ├── 数据范围：18日-22日 (可滚动范围1-31日)
│               ├── 当前选中："20日" (居中高亮显示)
│               ├── 联动逻辑：根据年月自动调整日期范围
│               └── 相同的选中/未选中样式
│
├── 【身高选择弹窗】📱 (底部单列滚动选择器)
│   ├── 📱 遮罩层 (相同的半透明遮罩)
│   │
│   └── 📋 选择器容器 (底部弹出 - 白色卡片)
│       ├── 🔝 选择器顶部栏 (相同结构)
│       │   ├── 🔙「取消」按钮 (左上角)
│       │   ├── 📝 选择器标题 "身高" (居中)
│       │   └── 💜「确定」按钮 (右上角)
│       │
│       └── 《单列滚动选择器》📋 (PickerView - 高度240px)
│           ├── 📊 选择器容器样式 (相同样式)
│           └── 📏《身高数据列》(单列 - 全宽)
│               ├── 数据范围：168cm-172cm (显示范围140-200cm)
│               ├── 数据间隔：1cm递增
│               ├── 当前选中："170cm" (居中高亮显示)
│               ├── 选中样式：18sp黑色粗体
│               ├── 未选中样式：16sp灰色#BDBDBD
│               └── 滚动方式：垂直滚动选择
│
├── 【体重选择弹窗】📱 (底部单列滚动选择器)
│   ├── 📱 遮罩层 (相同的半透明遮罩)
│   │
│   └── 📋 选择器容器 (底部弹出 - 白色卡片)
│       ├── 🔝 选择器顶部栏 (相同结构)
│       │   ├── 🔙「取消」按钮 (左上角)
│       │   ├── 📝 选择器标题 "体重" (居中)
│       │   └── 💜「确定」按钮 (右上角)
│       │
│       └── 《单列滚动选择器》📋 (PickerView - 高度240px)
│           ├── 📊 选择器容器样式 (相同样式)
│           └── ⚖️《体重数据列》(单列 - 全宽)
│               ├── 数据范围：48kg-52kg (显示范围30-150kg)
│               ├── 数据间隔：1kg递增
│               ├── 当前选中："50kg" (居中高亮显示)
│               ├── 选中样式：18sp黑色粗体
│               ├── 未选中样式：16sp灰色#BDBDBD
│               └── 滚动方式：垂直滚动选择
│
├── 【常居地选择弹窗】📱 (底部城市列表选择器)
│   ├── 📱 遮罩层 (相同的半透明遮罩)
│   │
│   └── 📋 选择器容器 (底部弹出 - 白色卡片)
│       ├── 🔝 选择器顶部栏 (相同结构)
│       │   ├── 🔙「取消」按钮 (左上角)
│       │   ├── 📝 选择器标题 "常居地" (居中)
│       │   └── 💜「确定」按钮 (右上角)
│       │
│       └── 《城市网格选择器》📋 (GridView - 动态高度)
│           ├── 📊 网格容器样式
│           │   ├── 布局方式：2列网格布局
│           │   ├── 列间距：16px
│           │   ├── 行间距：16px
│           │   ├── 左右内边距：16px
│           │   ├── 上下内边距：24px
│           │   ├── 容器高度：自适应内容（最大400px可滚动）
│           │   └── 背景颜色：白色#FFFFFF
│           │
│           └── 《城市选项网格》(2列布局 - 多行显示)
│               ├── 📍《城市项1-北京》(左上角)
│               │   ├── 📱 选项容器
│               │   │   ├── 容器尺寸：(屏幕宽度-64px)/2 x 48px高度
│               │   │   ├── 背景颜色：白色#FFFFFF
│               │   │   ├── 边框样式：1px灰色边框#E0E0E0
│               │   │   ├── 圆角样式：圆角8px
│               │   │   └── 选中样式：紫色边框#8A2BE2 + 紫色背景#F3E5F5
│               │   ├── 📝 城市名称 "北京" (居中 - 16sp黑色)
│               │   │   ├── 字体样式：16sp + Regular + 黑色#333333
│               │   │   ├── 文字对齐：水平垂直居中
│               │   │   └── 选中样式：紫色#8A2BE2 + Bold字重
│               │   └── 点击功能：选择"北京" → 更新选中状态
│               │
│               ├── 📍《城市项2-通州》(右上角)
│               │   └── 相同的城市选项结构
│               ├── 📍《城市项3-上海》(左侧第2行)
│               │   └── 相同的城市选项结构
│               ├── 📍《城市项4-房山》(右侧第2行)
│               │   └── 相同的城市选项结构
│               ├── 📍《城市项5-天津》(左侧第3行)
│               │   └── 相同的城市选项结构
│               ├── 📍《城市项6-昌平》(右侧第3行 - 灰色未激活)
│               │   ├── 📱 选项容器 (灰色样式)
│               │   │   ├── 背景颜色：浅灰色#F5F5F5
│               │   │   ├── 边框样式：1px浅灰边框#E0E0E0
│               │   │   └── 不可选中状态
│               │   ├── 📝 城市名称 "昌平" (灰色#BDBDBD)
│               │   └── 点击功能：无（未激活状态）
│               │
│               └── 🔄 城市数据加载
│                   ├── 数据来源：从服务器获取城市列表
│                   ├── 热门城市：优先显示热门城市
│                   └── 搜索功能：支持输入搜索城市（可选）
│
└── 【头像操作菜单】📱 (底部ActionSheet弹窗)
    ├── 📱 遮罩层 (相同的半透明遮罩)
    │
    └── 📋 操作菜单容器 (底部弹出 - 白色卡片)
        ├── 📱 容器样式 (相同的底部弹出样式)
        │
        └── 《操作选项列表》📋 (垂直排列 - 4个选项)
            ├── 📷《选项1-拍照》📋 (选项行 - 高度56px)
            │   ├── 📱 选项容器 (白色背景 + 底部分隔线1px)
            │   ├── 📝 选项文字 "拍照" (居中 - 18sp黑色)
            │   └── 点击功能：打开系统相机 → 拍照 → 裁剪 → 上传头像
            │
            ├── 🖼️《选项2-从手机相册选择》📋 (选项行 - 相同结构)
            │   ├── 📱 选项容器 (相同样式)
            │   ├── 📝 选项文字 "从手机相册选择" (18sp黑色)
            │   └── 点击功能：打开系统相册 → 选择照片 → 裁剪 → 上传头像
            │
            ├── 💾《选项3-保存图片》📋 (选项行 - 相同结构)
            │   ├── 📱 选项容器 (相同样式)
            │   ├── 📝 选项文字 "保存图片" (18sp黑色)
            │   └── 点击功能：保存当前头像到系统相册
            │
            ├── 📐 分隔间距 (高度8px - 浅灰色背景#F5F5F5)
            │
            └── 💼《选项4-取消》📋 (取消行 - 高度56px)
                ├── 📱 选项容器 (白色背景 + 无分隔线)
                ├── 📝 选项文字 "取消" (居中 - 18sp灰色)
                └── 点击功能：关闭菜单 → 不做任何操作

```

---

## 🔄 个人信息编辑模块 - 流程图（用户操作视角）

```
开始
 ↓
【进入个人信息编辑模块】
 ├─→ 从个人主页点击"编辑"按钮进入
 ├─→ 从设置页面进入个人资料编辑
 └─→ 从注册流程完善资料进入
 ↓
【个人资料主页面初始化】
 ↓
页面数据加载
 ├─→ 加载用户当前资料信息
 ├─→ 加载头像预览图
 ├─→ 显示所有可编辑字段
 └─→ 标记必填字段和已填字段
 ↓
用户选择编辑操作
 ├─→ 【编辑头像】
 │    ↓
 │   点击头像行
 │    ↓
 │   【弹出头像操作菜单】(底部ActionSheet)
 │    ├─→ 选择"拍照"
 │    │    ↓
 │    │   打开系统相机
 │    │    ├─→ 拍照成功
 │    │    │    ↓
 │    │    │   【进入图片裁剪页面】
 │    │    │    ├─→ 裁剪区域：正方形裁剪框
 │    │    │    ├─→ 支持缩放和移动图片
 │    │    │    ├─→ 点击"取消" → 返回菜单
 │    │    │    └─→ 点击"确定"
 │    │    │         ↓
 │    │    │        图片裁剪和压缩
 │    │    │         ├─→ 裁剪成正方形
 │    │    │         ├─→ 压缩到合适大小 (< 500KB)
 │    │    │         └─→ 生成缩略图
 │    │    │         ↓
 │    │    │        上传头像到服务器
 │    │    │         ├─→ 显示上传进度条
 │    │    │         ├─→ 上传成功 → 更新头像预览
 │    │    │         └─→ 上传失败 → 显示错误提示 → 重试
 │    │    │         ↓
 │    │    │        【返回个人资料主页】
 │    │    │         └─→ 头像显示为新头像
 │    │    └─→ 拍照失败 / 取消
 │    │         └─→ 返回菜单
 │    │
 │    ├─→ 选择"从手机相册选择"
 │    │    ↓
 │    │   打开系统相册
 │    │    ├─→ 选择照片成功
 │    │    │    └─→ 进入【图片裁剪页面】(相同流程)
 │    │    └─→ 取消选择
 │    │         └─→ 返回菜单
 │    │
 │    ├─→ 选择"保存图片"
 │    │    ↓
 │    │   保存当前头像到系统相册
 │    │    ├─→ 检查相册权限
 │    │    │    ├─→ 有权限 → 保存头像
 │    │    │    │    ├─→ 保存成功 → 显示"保存成功"提示
 │    │    │    │    └─→ 保存失败 → 显示"保存失败"提示
 │    │    │    └─→ 无权限 → 请求相册权限
 │    │    │         ├─→ 授权成功 → 保存头像
 │    │    │         └─→ 拒绝授权 → 显示"需要相册权限"提示
 │    │    └─→ 关闭菜单
 │    │
 │    └─→ 选择"取消"
 │         └─→ 关闭菜单 → 返回个人资料主页
 │
 ├─→ 【编辑昵称】
 │    ↓
 │   点击昵称行
 │    ↓
 │   【进入昵称编辑页面】
 │    ├─→ 页面初始化
 │    │    ├─→ 输入框自动聚焦
 │    │    ├─→ 显示当前昵称内容
 │    │    ├─→ 弹出系统键盘
 │    │    └─→ 显示字数统计 "7/20字"
 │    │
 │    ├─→ 编辑昵称内容
 │    │    ├─→ 输入新昵称文字
 │    │    │    ├─→ 实时更新字数统计
 │    │    │    ├─→ 字数 ≤ 20 → 正常显示灰色
 │    │    │    └─→ 字数 > 20 → 字数统计变红色 + "完成"按钮禁用
 │    │    ├─→ 点击清除按钮 → 清空输入框内容
 │    │    └─→ 输入验证
 │    │         ├─→ 不能为空验证
 │    │         ├─→ 长度验证 (1-20字符)
 │    │         └─→ 特殊字符验证 (可选)
 │    │
 │    ├─→ 点击"取消"按钮
 │    │    ├─→ 有修改内容 → 弹出"放弃修改"确认对话框
 │    │    │    ├─→ 确认放弃 → 返回个人资料主页
 │    │    │    └─→ 取消 → 继续编辑
 │    │    └─→ 无修改内容 → 直接返回
 │    │
 │    └─→ 点击"完成"按钮
 │         ├─→ 验证通过
 │         │    ├─→ 发送更新请求到服务器
 │         │    ├─→ 显示加载指示器
 │         │    ├─→ 更新成功
 │         │    │    ├─→ 本地更新昵称显示
 │         │    │    ├─→ 显示"保存成功"提示
 │         │    │    └─→ 返回个人资料主页
 │         │    └─→ 更新失败
 │         │         ├─→ 显示错误提示 (如"昵称已被使用")
 │         │         └─→ 保持在编辑页面
 │         └─→ 验证失败
 │              └─→ 显示验证错误提示
 │
 ├─→ 【编辑个人介绍】
 │    ↓
 │   点击个人介绍行
 │    ↓
 │   【进入个人介绍编辑页面】
 │    ├─→ 页面初始化 (相同流程)
 │    │    ├─→ 输入框自动聚焦
 │    │    ├─→ 显示当前个人介绍内容
 │    │    ├─→ 弹出系统键盘
 │    │    └─→ 显示字数统计 "7/30字"
 │    │
 │    ├─→ 编辑个人介绍内容
 │    │    ├─→ 输入多行文字 (支持换行)
 │    │    ├─→ 实时更新字数统计
 │    │    ├─→ 字数 ≤ 30 → 正常显示
 │    │    └─→ 字数 > 30 → 字数统计变红色 + "完成"按钮禁用
 │    │
 │    ├─→ 点击"取消"按钮 (相同流程)
 │    │
 │    └─→ 点击"完成"按钮
 │         ├─→ 验证通过 (可以为空)
 │         ├─→ 发送更新请求
 │         ├─→ 更新成功 → 返回主页
 │         └─→ 更新失败 → 显示错误提示
 │
 ├─→ 【编辑微信号】
 │    ↓
 │   点击微信行
 │    ↓
 │   【进入微信编辑页面】
 │    ├─→ 页面初始化
 │    │    ├─→ 显示当前微信号 "sunny0713"
 │    │    ├─→ 显示解锁微信状态 "暂未设置"
 │    │    └─→ 点击输入框聚焦
 │    │
 │    ├─→ 编辑微信号
 │    │    ├─→ 输入新微信号
 │    │    ├─→ 格式验证：6-20位字母数字下划线
 │    │    ├─→ 点击清除按钮 → 清空微信号
 │    │    └─→ 实时验证格式
 │    │
 │    ├─→ 设置解锁微信 (可选功能)
 │    │    ├─→ 点击"解锁微信"行
 │    │    └─→ 选择解锁条件 (如"关注后可见"/"付费可见")
 │    │
 │    ├─→ 点击"取消"按钮 → 返回主页
 │    │
 │    └─→ 点击"完成"按钮
 │         ├─→ 格式验证通过
 │         ├─→ 发送更新请求
 │         ├─→ 更新成功 → 返回主页
 │         └─→ 更新失败 → 显示错误提示
 │
 ├─→ 【编辑职业】
 │    ↓
 │   点击职业行
 │    ↓
 │   【进入职业编辑页面】
 │    ├─→ 页面初始化
 │    │    ├─→ 加载当前已选职业列表
 │    │    ├─→ 显示已选职业标签 (如"模特")
 │    │    └─→ 显示"添加职业"按钮
 │    │
 │    ├─→ 删除已有职业
 │    │    ├─→ 点击职业标签的删除按钮
 │    │    ├─→ 标签淡出动画消失
 │    │    ├─→ 本地移除该职业
 │    │    └─→ 标记为已修改状态
 │    │
 │    ├─→ 添加新职业
 │    │    ├─→ 点击"添加职业"按钮
 │    │    ↓
 │    │   【弹出职业选择列表】(可选实现)
 │    │    ├─→ 方式1：底部弹窗显示预设职业列表
 │    │    │    ├─→ 显示常见职业 (学生/白领/自由职业/模特等)
 │    │    │    ├─→ 点击选择某个职业
 │    │    │    ├─→ 关闭弹窗
 │    │    │    └─→ 添加到职业标签列表
 │    │    ├─→ 方式2：跳转到职业选择页面
 │    │    │    ├─→ 显示职业分类和搜索
 │    │    │    ├─→ 选择职业 → 返回编辑页
 │    │    │    └─→ 添加到职业标签列表
 │    │    └─→ 方式3：直接输入自定义职业
 │    │         ├─→ 输入职业名称
 │    │         ├─→ 验证职业名称 (2-10字符)
 │    │         └─→ 添加到职业标签列表
 │    │
 │    ├─→ 职业数量限制
 │    │    ├─→ 已有职业 < 5个 → 可继续添加
 │    │    └─→ 已有职业 ≥ 5个 → 禁用"添加职业"按钮
 │    │
 │    ├─→ 点击"取消"按钮 → 返回主页
 │    │
 │    └─→ 点击"完成"按钮
 │         ├─→ 发送更新请求 (职业列表)
 │         ├─→ 更新成功 → 返回主页
 │         └─→ 更新失败 → 显示错误提示
 │
 ├─→ 【编辑性别】
 │    ↓
 │   点击性别行
 │    ↓
 │   【弹出性别选择弹窗】(底部ActionSheet)
 │    ├─→ 弹窗动画
 │    │    ├─→ 遮罩层0.3s渐入
 │    │    └─→ 选择器0.3s从底部滑入
 │    │
 │    ├─→ 用户选择性别
 │    │    ├─→ 点击"男"选项
 │    │    │    ├─→ 选中状态：文字变紫色 + 粗体
 │    │    │    ├─→ 关闭弹窗 (0.2s滑出动画)
 │    │    │    ├─→ 更新性别为"男"
 │    │    │    ├─→ 发送更新请求到服务器
 │    │    │    └─→ 个人资料主页性别显示更新
 │    │    ├─→ 点击"女"选项
 │    │    │    └─→ 相同的选择和更新流程
 │    │    └─→ 点击"取消"选项
 │    │         ├─→ 关闭弹窗
 │    │         └─→ 不做任何修改
 │    │
 │    └─→ 点击遮罩层
 │         └─→ 关闭弹窗 (相同效果)
 │
 ├─→ 【编辑生日】
 │    ↓
 │   点击生日行
 │    ↓
 │   【弹出生日选择弹窗】(底部三列滚动选择器)
 │    ├─→ 弹窗初始化
 │    │    ├─→ 弹窗动画 (0.3s从底部滑入)
 │    │    ├─→ 加载年份范围 (1970-2025)
 │    │    ├─→ 加载月份范围 (1-12月)
 │    │    ├─→ 加载日期范围 (1-31日，根据月份动态调整)
 │    │    └─→ 初始选中当前生日 "1999-09-29"
 │    │         ├─→ 年份列滚动到1999年
 │    │         ├─→ 月份列滚动到9月
 │    │         └─→ 日期列滚动到29日
 │    │
 │    ├─→ 滚动选择生日
 │    │    ├─→ 滚动年份列
 │    │    │    ├─→ 上下滚动选择年份
 │    │    │    ├─→ 选中行高亮显示 (18sp黑色粗体)
 │    │    │    └─→ 未选中行灰色显示 (16sp灰色)
 │    │    ├─→ 滚动月份列
 │    │    │    └─→ 相同的滚动选择交互
 │    │    ├─→ 滚动日期列
 │    │    │    ├─→ 相同的滚动选择交互
 │    │    │    └─→ 联动逻辑：根据年月自动调整日期范围
 │    │    │         ├─→ 2月：根据是否闰年显示28或29日
 │    │    │         ├─→ 小月：显示1-30日
 │    │    │         └─→ 大月：显示1-31日
 │    │    └─→ 实时预览选择结果
 │    │
 │    ├─→ 点击"取消"按钮
 │    │    ├─→ 关闭弹窗
 │    │    └─→ 不保存修改
 │    │
 │    ├─→ 点击"确定"按钮
 │    │    ├─→ 获取选中的生日 "1999-09-20"
 │    │    ├─→ 关闭弹窗 (0.2s滑出动画)
 │    │    ├─→ 发送更新请求到服务器
 │    │    ├─→ 更新成功
 │    │    │    ├─→ 个人资料主页生日显示更新
 │    │    │    └─→ 显示"保存成功"提示 (可选)
 │    │    └─→ 更新失败
 │    │         └─→ 显示错误提示
 │    │
 │    └─→ 点击遮罩层 → 关闭弹窗 (取消效果)
 │
 ├─→ 【编辑身高】
 │    ↓
 │   点击身高行
 │    ↓
 │   【弹出身高选择弹窗】(底部单列滚动选择器)
 │    ├─→ 弹窗初始化
 │    │    ├─→ 弹窗动画 (0.3s从底部滑入)
 │    │    ├─→ 加载身高范围 (140cm-200cm)
 │    │    ├─→ 数据间隔：1cm递增
 │    │    └─→ 初始选中默认值 "170cm" (中间值)
 │    │
 │    ├─→ 滚动选择身高
 │    │    ├─→ 上下滚动身高列表
 │    │    ├─→ 选中行高亮：18sp黑色粗体
 │    │    ├─→ 未选中行：16sp灰色
 │    │    └─→ 滚动惯性效果：自然减速停止
 │    │
 │    ├─→ 点击"取消"按钮 → 关闭弹窗
 │    │
 │    ├─→ 点击"确定"按钮
 │    │    ├─→ 获取选中的身高 "170cm"
 │    │    ├─→ 关闭弹窗
 │    │    ├─→ 发送更新请求
 │    │    ├─→ 更新成功 → 显示新身高
 │    │    └─→ 更新失败 → 显示错误提示
 │    │
 │    └─→ 点击遮罩层 → 关闭弹窗
 │
 ├─→ 【编辑体重】
 │    ↓
 │   点击体重行
 │    ↓
 │   【弹出体重选择弹窗】(底部单列滚动选择器)
 │    ├─→ 弹窗初始化
 │    │    ├─→ 弹窗动画 (0.3s从底部滑入)
 │    │    ├─→ 加载体重范围 (30kg-150kg)
 │    │    ├─→ 数据间隔：1kg递增
 │    │    └─→ 初始选中默认值 "50kg" (中间值)
 │    │
 │    ├─→ 滚动选择体重 (相同的滚动交互)
 │    │
 │    ├─→ 点击"取消"按钮 → 关闭弹窗
 │    │
 │    ├─→ 点击"确定"按钮
 │    │    ├─→ 获取选中的体重 "50kg"
 │    │    ├─→ 关闭弹窗
 │    │    ├─→ 发送更新请求
 │    │    ├─→ 更新成功 → 显示新体重
 │    │    └─→ 更新失败 → 显示错误提示
 │    │
 │    └─→ 点击遮罩层 → 关闭弹窗
 │
 └─→ 【编辑常居地】
      ↓
     点击常居地行
      ↓
     【弹出常居地选择弹窗】(底部城市网格选择器)
      ├─→ 弹窗初始化
      │    ├─→ 弹窗动画 (0.3s从底部滑入)
      │    ├─→ 加载城市列表 (热门城市)
      │    ├─→ 2列网格布局显示城市
      │    └─→ 初始选中当前城市 "深圳"
      │         └─→ 深圳项显示紫色边框 + 紫色背景
      │
      ├─→ 选择城市
      │    ├─→ 点击某个城市项 (如"北京")
      │    │    ├─→ 该城市项变为选中样式
      │    │    │    ├─→ 紫色边框#8A2BE2
      │    │    │    ├─→ 紫色背景#F3E5F5
      │    │    │    └─→ 紫色文字#8A2BE2 + Bold
      │    │    ├─→ 之前选中的城市恢复默认样式
      │    │    └─→ 更新选中状态
      │    ├─→ 点击未激活城市 (如"昌平"-灰色)
      │    │    └─→ 无响应 (该城市不可选)
      │    └─→ 滚动查看更多城市 (如果城市数量多)
      │
      ├─→ 搜索城市 (可选功能)
      │    ├─→ 顶部搜索框输入城市名称
      │    ├─→ 实时过滤城市列表
      │    └─→ 显示搜索结果
      │
      ├─→ 点击"取消"按钮 → 关闭弹窗
      │
      ├─→ 点击"确定"按钮
      │    ├─→ 获取选中的城市 "北京"
      │    ├─→ 关闭弹窗 (0.2s滑出动画)
      │    ├─→ 发送更新请求
      │    ├─→ 更新成功
      │    │    └─→ 个人资料主页常居地显示更新
      │    └─→ 更新失败
      │         └─→ 显示错误提示
      │
      └─→ 点击遮罩层 → 关闭弹窗
 ↓
【所有编辑操作完成】
 ↓
用户选择后续操作
 ├─→ 继续编辑其他字段
 ├─→ 点击返回按钮 → 返回个人主页
 ├─→ 系统自动保存 (每次字段修改都立即保存)
 └─→ 退出应用 → 保存编辑状态
 ↓
结束
```

---

## 📐 设计规范与技术要点

### 🎨 UI设计规范

#### 📏 尺寸规范
```
- 系统状态栏：44px (iOS) / 24px (Android)
- 导航栏高度：56px
- 列表行高度：60px (标准字段行)
- 头像编辑行高度：120px (显示60px头像)
- 输入框高度：50px (单行) / 150px+ (多行)
- 弹窗圆角：20px (顶部圆角)
- 按钮高度：56px (弹窗选项) / 36px (标签按钮)
- 字数统计位置：右下角 + 12px边距
- 滚动选择器高度：240px
- 城市网格项高度：48px
```

#### 🎨 颜色规范
```
- 主色调：紫色 #8A2BE2 (强调按钮、选中状态)
- 文字颜色：黑色 #333333 (主要) / 灰色 #757575 (次要) / 浅灰 #BDBDBD (占位符)
- 背景颜色：白色 #FFFFFF (卡片) / 浅灰 #F5F5F5 (页面背景/标签背景)
- 边框颜色：#E0E0E0 (分隔线、输入框边框)
- 遮罩颜色：黑色 #000000 + alpha=40%
- 选中背景：紫色 #F3E5F5 (淡紫色背景)
- 警告颜色：红色 #FF4081 (字数超限提示)
```

#### ✨ 动画规范
```
- 快速反馈：0.1s (按钮点击)
- 标准动画：0.2s (弹窗关闭、状态切换)
- 流畅动画：0.3s (弹窗打开、页面转场)
- 淡入淡出：0.3s (遮罩层渐入渐出)
- 滑入滑出：0.3s (底部弹窗滑入滑出)
```

### 🏗️ 组件复用设计

#### 📋 通用编辑页组件
```typescript
<EditPage>
  - 标准导航栏：取消 + 标题 + 完成
  - 自动聚焦输入框
  - 字数统计显示
  - 清除按钮
  - 保存状态管理
  - 应用场景：昵称编辑、个人介绍编辑、微信编辑
</EditPage>
```

#### 🎡 底部弹窗选择器
```typescript
<BottomSheet>
  - 半透明遮罩层
  - 底部圆角卡片
  - 滑入滑出动画
  - 点击遮罩关闭
  - 支持多种内容类型：
    - ActionSheet (操作列表)
    - PickerView (滚动选择器)
    - GridView (网格选择器)
  - 应用场景：性别选择、生日选择、身高体重选择、常居地选择、头像操作
</BottomSheet>
```

#### 🎨 滚动选择器组件
```typescript
<PickerView>
  - 单列/多列滚动支持
  - 选中行高亮显示
  - 滚动惯性效果
  - 联动选择支持 (如生日的年月日联动)
  - 应用场景：生日、身高、体重选择
</PickerView>
```

### 🔧 技术实现要点

#### 📡 数据管理
```
- 实时保存策略：每个字段修改后立即发送更新请求
- 乐观更新机制：本地先更新UI，然后发送请求，失败时回滚
- 字段验证：前端实时验证 + 后端二次验证
- 草稿保存：编辑过程中本地保存草稿（可选）
- 防抖处理：输入框停止输入300ms后才触发验证
```

#### 🎯 表单验证
```
- 昵称：1-20字符，不能为空，可限制特殊字符
- 个人介绍：0-30字符，可以为空
- 微信号：6-20位字母数字下划线，可以为空
- 职业：最多5个职业标签
- 必填字段：性别、生日、常居地等（根据产品需求）
- 实时反馈：输入时实时显示验证结果
```

#### 📷 图片处理
```
- 拍照/相册选择：调用系统API
- 图片裁剪：正方形裁剪框 + 缩放移动
- 图片压缩：压缩到500KB以下 + 生成缩略图
- 图片上传：分片上传 + 进度显示 + 断点续传
- 权限管理：相机权限、相册权限检查和申请
```

#### 🔐 安全与权限
```
- 数据加密：敏感信息传输加密
- 权限验证：修改资料需要登录验证
- 频率限制：防止频繁提交修改
- 敏感词过滤：昵称、个人介绍的敏感词检测
```

---

## ✅ 质量评估标准

### 📊 功能完整性
- [x] 所有字段可编辑
- [x] 头像上传和裁剪
- [x] 实时字数统计
- [x] 表单验证完善
- [x] 多种选择器类型
- [x] 保存状态反馈
- [x] 错误处理完善

### 🎨 UI设计质量
- [x] 像素级尺寸精确
- [x] 颜色规范统一
- [x] 动画时长合理
- [x] 交互反馈及时
- [x] 视觉层次清晰
- [x] 组件复用性高

### ⚡ 性能指标
- [ ] 页面打开时间 < 500ms
- [ ] 输入响应时间 < 100ms
- [ ] 弹窗动画流畅 ≥ 55fps
- [ ] 图片上传成功率 > 95%
- [ ] 保存成功率 > 99%

### 🔒 安全性
- [ ] 数据验证完善
- [ ] 敏感信息保护
- [ ] 权限控制严格
- [ ] 防止恶意提交

---

**文档创建时间**：2025-09-30  
**文档版本**：v1.0  
**设计规范**：纯结构架构图标准模板
