# ğŸ“± æ¶ˆæ¯æ¨¡å—é¡µé¢ç»„ä»¶è¯¦ç»†è®¾è®¡æ–‡æ¡£

> **7ä¸ªæ ¸å¿ƒé¡µé¢çš„å®Œæ•´ç»„ä»¶åŒ–è®¾è®¡æ–¹æ¡ˆ**
> 
> ç‰ˆæœ¬ï¼šv1.0 | åˆ›å»ºæ—¶é—´ï¼š2025-09-29 | æŠ€æœ¯æ ˆï¼šExpo React Native + TypeScript
> è®¾è®¡æ ‡å‡†ï¼šUNIVERSAL_COMPONENT_ARCHITECTURE_CORE v2.4

---

## ğŸ“‹ **é¡µé¢è®¾è®¡æ¦‚è§ˆ**

### ğŸ¯ **è®¾è®¡ç›®æ ‡**
- **é¡µé¢æ€»æ•°**ï¼š7ä¸ªæ ¸å¿ƒé¡µé¢
- **ç»„ä»¶å¤ç”¨ç‡**ï¼š90%+
- **ä»£ç ä¸€è‡´æ€§**ï¼šç»Ÿä¸€çš„ç»„ä»¶ç»“æ„å’Œæ¥å£
- **æ€§èƒ½ä¼˜åŒ–**ï¼šæ”¯æŒè™šæ‹ŸåŒ–æ¸²æŸ“å’Œæ‡’åŠ è½½

### ğŸ“Š **é¡µé¢åˆ†ç±»**
- **ä¸»é¡µé¢**ï¼š1ä¸ª (æ¶ˆæ¯ä¸»é¡µé¢)
- **åˆ—è¡¨é¡µé¢**ï¼š4ä¸ª (èµå’Œæ”¶è—ã€è¯„è®ºã€ç²‰ä¸ã€ç³»ç»Ÿé€šçŸ¥)
- **å¯¹è¯é¡µé¢**ï¼š1ä¸ª (ç§èŠå¯¹è¯)
- **å¼¹çª—é¡µé¢**ï¼š1ä¸ª (ç¡®è®¤å¯¹è¯æ¡†)

---

## ğŸ  **1. æ¶ˆæ¯ä¸»é¡µé¢ (MainPage)**

### ğŸ“ **é¡µé¢å®šä½**
- **è·¯ç”±è·¯å¾„**: `/messages/index`
- **åŠŸèƒ½æè¿°**: æ¶ˆæ¯æ¨¡å—çš„å…¥å£é¡µé¢ï¼Œå±•ç¤º4å®«æ ¼åŠŸèƒ½åˆ†ç±»å’Œæœ€è¿‘å¯¹è¯åˆ—è¡¨
- **é¡µé¢å±‚çº§**: ä¸»é¡µé¢

### ğŸ—ï¸ **ç»„ä»¶æ¶æ„è®¾è®¡**

```
MessagesMainPage/
â”œâ”€â”€ index.tsx                           # ğŸ¯ ä¸»é¡µé¢å®Œæ•´å®ç° - å…«æ®µå¼ç»“æ„
â”œâ”€â”€ types.ts                            # ğŸ“‹ ä¸»é¡µé¢ç±»å‹å®šä¹‰
â”œâ”€â”€ constants.ts                        # âš™ï¸ ä¸»é¡µé¢å¸¸é‡é…ç½®
â”œâ”€â”€ README.md                           # ğŸ“– ä¸»é¡µé¢æ–‡æ¡£
â”‚
â”œâ”€â”€ MessageCategoryArea/                # âœ… æ¶ˆæ¯åˆ†ç±»åŠŸèƒ½åŒºåŸŸ - 4å®«æ ¼å¡ç‰‡
â”‚   â”œâ”€â”€ index.tsx                       # ğŸ¯ 4å®«æ ¼æ¶ˆæ¯åˆ†ç±»å®ç°
â”‚   â”œâ”€â”€ types.ts                        # åˆ†ç±»åŒºåŸŸç±»å‹å®šä¹‰
â”‚   â””â”€â”€ README.md                       # åˆ†ç±»åŒºåŸŸæ–‡æ¡£
â”‚
â”œâ”€â”€ ConversationListArea/               # âœ… å¯¹è¯åˆ—è¡¨åŒºåŸŸ - æœ€è¿‘å¯¹è¯
â”‚   â”œâ”€â”€ index.tsx                       # ğŸ¯ æœ€è¿‘å¯¹è¯åˆ—è¡¨å®ç°
â”‚   â”œâ”€â”€ types.ts                        # å¯¹è¯åˆ—è¡¨ç±»å‹å®šä¹‰
â”‚   â””â”€â”€ README.md                       # å¯¹è¯åˆ—è¡¨æ–‡æ¡£
â”‚
â””â”€â”€ NavigationArea/                     # âœ… å¯¼èˆªæ åŒºåŸŸ - é¡µé¢é¡¶éƒ¨
    â”œâ”€â”€ index.tsx                       # ğŸ¯ æ¶ˆæ¯é¡µå¯¼èˆªæ å®ç°
    â””â”€â”€ README.md                       # å¯¼èˆªåŒºåŸŸæ–‡æ¡£
```

### ğŸ“‹ **ä¸»é¡µé¢Propsæ¥å£**

```typescript
interface MessagesMainPageProps {
  // å¯¼èˆªé…ç½®
  navigation: {
    onSettingsPress: () => void
    onTabPress: (tab: TabType) => void
  }
  
  // æ•°æ®çŠ¶æ€
  data: {
    unreadCounts: {
      likes: number
      comments: number
      followers: number
      notifications: number
    }
    conversations: Conversation[]
    loading: boolean
    error?: string
  }
  
  // äº¤äº’äº‹ä»¶
  events: {
    onCategoryPress: (category: CategoryType) => void
    onConversationPress: (conversationId: string) => void
    onRefresh: () => void
    onLoadMore: () => void
  }
}
```

### ğŸ¯ **MessageCategoryArea ç»„ä»¶è®¾è®¡**

```typescript
interface MessageCategoryAreaProps {
  // åˆ†ç±»æ•°æ®
  categories: Array<{
    id: 'likes' | 'comments' | 'followers' | 'notifications'
    title: string
    icon: ReactNode
    unreadCount: number
    color: string
  }>
  
  // äº¤äº’äº‹ä»¶
  onCategoryPress: (categoryId: string) => void
  
  // æ ·å¼é…ç½®
  style?: {
    cardSize?: number
    spacing?: number
    columns?: number
  }
}
```

### ğŸ¯ **ConversationListArea ç»„ä»¶è®¾è®¡**

```typescript
interface ConversationListAreaProps {
  // å¯¹è¯æ•°æ®
  conversations: Conversation[]
  
  // çŠ¶æ€é…ç½®
  loading: boolean
  hasMore: boolean
  
  // äº¤äº’äº‹ä»¶
  onConversationPress: (conversationId: string) => void
  onLongPress: (conversation: Conversation) => void
  onRefresh: () => void
  onLoadMore: () => void
  
  // æ˜¾ç¤ºé…ç½®
  showEmptyState?: boolean
  emptyStateText?: string
}
```

### ğŸ”§ **ä½¿ç”¨çš„å…±äº«ç»„ä»¶**
- `CategoryCard` - 4å®«æ ¼åˆ†ç±»å¡ç‰‡å±•ç¤º
- `MessageListItem` - å¯¹è¯åˆ—è¡¨é¡¹å±•ç¤º
- `UserAvatar` - ç”¨æˆ·å¤´åƒæ˜¾ç¤º
- `TimeStamp` - æ¶ˆæ¯æ—¶é—´æ˜¾ç¤º
- `LoadingIndicator` - åŠ è½½çŠ¶æ€
- `EmptyState` - ç©ºçŠ¶æ€æç¤º
- `PullRefresh` - ä¸‹æ‹‰åˆ·æ–°

---

## ğŸ’– **2. èµå’Œæ”¶è—é¡µé¢ (LikesPage)**

### ğŸ“ **é¡µé¢å®šä½**
- **è·¯ç”±è·¯å¾„**: `/messages/likes`
- **åŠŸèƒ½æè¿°**: å±•ç¤ºç”¨æˆ·æ”¶åˆ°çš„ç‚¹èµå’Œæ”¶è—æ¶ˆæ¯åˆ—è¡¨
- **é¡µé¢å±‚çº§**: å­é¡µé¢

### ğŸ—ï¸ **ç»„ä»¶æ¶æ„è®¾è®¡**

```
LikesPage/
â”œâ”€â”€ index.tsx                           # ğŸ¯ èµå’Œæ”¶è—é¡µé¢å®Œæ•´å®ç°
â”œâ”€â”€ types.ts                            # ğŸ“‹ é¡µé¢ç±»å‹å®šä¹‰
â”œâ”€â”€ constants.ts                        # âš™ï¸ é¡µé¢å¸¸é‡é…ç½®
â”œâ”€â”€ README.md                           # ğŸ“– é¡µé¢æ–‡æ¡£
â”‚
â”œâ”€â”€ LikesListArea/                      # âœ… èµå’Œæ”¶è—åˆ—è¡¨åŒºåŸŸ
â”‚   â”œâ”€â”€ index.tsx                       # ğŸ¯ ç‚¹èµæ”¶è—æ¶ˆæ¯åˆ—è¡¨
â”‚   â”œâ”€â”€ types.ts                        # åˆ—è¡¨åŒºåŸŸç±»å‹å®šä¹‰
â”‚   â””â”€â”€ README.md                       # åˆ—è¡¨åŒºåŸŸæ–‡æ¡£
â”‚
â””â”€â”€ ActionBarArea/                      # âœ… æ“ä½œæ åŒºåŸŸ
    â”œâ”€â”€ index.tsx                       # ğŸ¯ æ¸…ç©ºç­‰æ“ä½œæŒ‰é’®
    â”œâ”€â”€ types.ts                        # æ“ä½œæ ç±»å‹å®šä¹‰
    â””â”€â”€ README.md                       # æ“ä½œæ æ–‡æ¡£
```

### ğŸ“‹ **é¡µé¢Propsæ¥å£**

```typescript
interface LikesPageProps {
  // å¯¼èˆªé…ç½®
  navigation: {
    onBack: () => void
    onClear: () => void
  }
  
  // æ•°æ®çŠ¶æ€
  data: {
    likeMessages: LikeMessage[]
    loading: boolean
    hasMore: boolean
    error?: string
  }
  
  // äº¤äº’äº‹ä»¶
  events: {
    onMessagePress: (messageId: string) => void
    onUserPress: (userId: string) => void
    onContentPress: (contentId: string) => void
    onRefresh: () => void
    onLoadMore: () => void
    onClearAll: () => void
  }
}
```

### ğŸ¯ **LikesListArea ç»„ä»¶è®¾è®¡**

```typescript
interface LikesListAreaProps {
  // æ¶ˆæ¯æ•°æ®
  messages: Array<{
    id: string
    type: 'like' | 'favorite'
    user: User
    content: ContentPreview
    timestamp: number
    isRead: boolean
  }>
  
  // çŠ¶æ€é…ç½®
  loading: boolean
  hasMore: boolean
  
  // äº¤äº’äº‹ä»¶
  onMessagePress: (messageId: string) => void
  onUserPress: (userId: string) => void
  onContentPress: (contentId: string) => void
  onRefresh: () => void
  onLoadMore: () => void
}
```

### ğŸ”§ **ä½¿ç”¨çš„å…±äº«ç»„ä»¶**
- `NavigationBar` - é¡µé¢å¯¼èˆªæ 
- `MessageListItem` - æ¶ˆæ¯åˆ—è¡¨é¡¹å±•ç¤º
- `UserAvatar` - ç”¨æˆ·å¤´åƒæ˜¾ç¤º
- `ContentPreview` - å†…å®¹ç¼©ç•¥å›¾é¢„è§ˆ
- `TimeStamp` - æ“ä½œæ—¶é—´æ˜¾ç¤º
- `ActionButton` - æ¸…ç©ºæ“ä½œæŒ‰é’®
- `LoadingIndicator` - åŠ è½½çŠ¶æ€
- `EmptyState` - ç©ºçŠ¶æ€æç¤º
- `PullRefresh` - ä¸‹æ‹‰åˆ·æ–°
- `ConfirmDialog` - æ¸…ç©ºç¡®è®¤å¯¹è¯æ¡†

---

## ğŸ’¬ **3. è¯„è®ºé¡µé¢ (CommentsPage)**

### ğŸ“ **é¡µé¢å®šä½**
- **è·¯ç”±è·¯å¾„**: `/messages/comments`
- **åŠŸèƒ½æè¿°**: å±•ç¤ºç”¨æˆ·æ”¶åˆ°çš„è¯„è®ºæ¶ˆæ¯åˆ—è¡¨
- **é¡µé¢å±‚çº§**: å­é¡µé¢

### ğŸ—ï¸ **ç»„ä»¶æ¶æ„è®¾è®¡**

```
CommentsPage/
â”œâ”€â”€ index.tsx                           # ğŸ¯ è¯„è®ºé¡µé¢å®Œæ•´å®ç°
â”œâ”€â”€ types.ts                            # ğŸ“‹ é¡µé¢ç±»å‹å®šä¹‰
â”œâ”€â”€ constants.ts                        # âš™ï¸ é¡µé¢å¸¸é‡é…ç½®
â”œâ”€â”€ README.md                           # ğŸ“– é¡µé¢æ–‡æ¡£
â”‚
â”œâ”€â”€ CommentsListArea/                   # âœ… è¯„è®ºåˆ—è¡¨åŒºåŸŸ
â”‚   â”œâ”€â”€ index.tsx                       # ğŸ¯ è¯„è®ºæ¶ˆæ¯åˆ—è¡¨
â”‚   â”œâ”€â”€ types.ts                        # åˆ—è¡¨åŒºåŸŸç±»å‹å®šä¹‰
â”‚   â””â”€â”€ README.md                       # åˆ—è¡¨åŒºåŸŸæ–‡æ¡£
â”‚
â””â”€â”€ ActionBarArea/                      # âœ… æ“ä½œæ åŒºåŸŸ (å¤ç”¨)
    â”œâ”€â”€ index.tsx                       # ğŸ¯ æ¸…ç©ºç­‰æ“ä½œæŒ‰é’®
    â””â”€â”€ README.md                       # æ“ä½œæ æ–‡æ¡£
```

### ğŸ“‹ **é¡µé¢Propsæ¥å£**

```typescript
interface CommentsPageProps {
  // å¯¼èˆªé…ç½®
  navigation: {
    onBack: () => void
    onClear: () => void
  }
  
  // æ•°æ®çŠ¶æ€
  data: {
    commentMessages: CommentMessage[]
    loading: boolean
    hasMore: boolean
    error?: string
  }
  
  // äº¤äº’äº‹ä»¶
  events: {
    onMessagePress: (messageId: string) => void
    onUserPress: (userId: string) => void
    onCommentReply: (commentId: string) => void
    onRefresh: () => void
    onLoadMore: () => void
    onClearAll: () => void
  }
}
```

### ğŸ¯ **CommentsListArea ç»„ä»¶è®¾è®¡**

```typescript
interface CommentsListAreaProps {
  // è¯„è®ºæ•°æ®
  messages: Array<{
    id: string
    type: 'comment' | 'reply' | 'mention'
    user: User
    comment: {
      content: string
      originalContent?: ContentPreview
      replyTo?: string
    }
    timestamp: number
    isRead: boolean
  }>
  
  // çŠ¶æ€é…ç½®
  loading: boolean
  hasMore: boolean
  
  // äº¤äº’äº‹ä»¶
  onMessagePress: (messageId: string) => void
  onUserPress: (userId: string) => void
  onReplyPress: (commentId: string) => void
  onRefresh: () => void
  onLoadMore: () => void
}
```

### ğŸ”§ **ä½¿ç”¨çš„å…±äº«ç»„ä»¶**
- `NavigationBar` - é¡µé¢å¯¼èˆªæ 
- `MessageListItem` - æ¶ˆæ¯åˆ—è¡¨é¡¹å±•ç¤º
- `UserAvatar` - ç”¨æˆ·å¤´åƒæ˜¾ç¤º
- `ContentPreview` - è¢«è¯„è®ºå†…å®¹é¢„è§ˆ
- `TimeStamp` - è¯„è®ºæ—¶é—´æ˜¾ç¤º
- `ActionButton` - æ¸…ç©ºæ“ä½œæŒ‰é’®
- `LoadingIndicator` - åŠ è½½çŠ¶æ€
- `EmptyState` - ç©ºçŠ¶æ€æç¤º
- `PullRefresh` - ä¸‹æ‹‰åˆ·æ–°
- `ConfirmDialog` - æ¸…ç©ºç¡®è®¤å¯¹è¯æ¡†

---

## ğŸ‘¥ **4. ç²‰ä¸é¡µé¢ (FollowersPage)**

### ğŸ“ **é¡µé¢å®šä½**
- **è·¯ç”±è·¯å¾„**: `/messages/followers`
- **åŠŸèƒ½æè¿°**: å±•ç¤ºæ–°å¢ç²‰ä¸å’Œå…³æ³¨å…³ç³»æ¶ˆæ¯åˆ—è¡¨
- **é¡µé¢å±‚çº§**: å­é¡µé¢

### ğŸ—ï¸ **ç»„ä»¶æ¶æ„è®¾è®¡**

```
FollowersPage/
â”œâ”€â”€ index.tsx                           # ğŸ¯ ç²‰ä¸é¡µé¢å®Œæ•´å®ç°
â”œâ”€â”€ types.ts                            # ğŸ“‹ é¡µé¢ç±»å‹å®šä¹‰
â”œâ”€â”€ constants.ts                        # âš™ï¸ é¡µé¢å¸¸é‡é…ç½®
â”œâ”€â”€ README.md                           # ğŸ“– é¡µé¢æ–‡æ¡£
â”‚
â”œâ”€â”€ FollowersListArea/                  # âœ… ç²‰ä¸åˆ—è¡¨åŒºåŸŸ
â”‚   â”œâ”€â”€ index.tsx                       # ğŸ¯ ç²‰ä¸æ¶ˆæ¯åˆ—è¡¨
â”‚   â”œâ”€â”€ types.ts                        # åˆ—è¡¨åŒºåŸŸç±»å‹å®šä¹‰
â”‚   â””â”€â”€ README.md                       # åˆ—è¡¨åŒºåŸŸæ–‡æ¡£
â”‚
â””â”€â”€ ActionBarArea/                      # âœ… æ“ä½œæ åŒºåŸŸ (å¤ç”¨)
    â”œâ”€â”€ index.tsx                       # ğŸ¯ æ¸…ç©ºç­‰æ“ä½œæŒ‰é’®
    â””â”€â”€ README.md                       # æ“ä½œæ æ–‡æ¡£
```

### ğŸ“‹ **é¡µé¢Propsæ¥å£**

```typescript
interface FollowersPageProps {
  // å¯¼èˆªé…ç½®
  navigation: {
    onBack: () => void
    onClear: () => void
  }
  
  // æ•°æ®çŠ¶æ€
  data: {
    followerMessages: FollowerMessage[]
    loading: boolean
    hasMore: boolean
    error?: string
  }
  
  // äº¤äº’äº‹ä»¶
  events: {
    onMessagePress: (messageId: string) => void
    onUserPress: (userId: string) => void
    onFollowPress: (userId: string, action: 'follow' | 'unfollow') => void
    onRefresh: () => void
    onLoadMore: () => void
    onClearAll: () => void
  }
}
```

### ğŸ¯ **FollowersListArea ç»„ä»¶è®¾è®¡**

```typescript
interface FollowersListAreaProps {
  // ç²‰ä¸æ•°æ®
  messages: Array<{
    id: string
    type: 'new_follower' | 'mutual_follow' | 'unfollow'
    user: User
    relationship: {
      isFollowing: boolean
      isFollowed: boolean
      isMutual: boolean
    }
    timestamp: number
    isRead: boolean
  }>
  
  // çŠ¶æ€é…ç½®
  loading: boolean
  hasMore: boolean
  
  // äº¤äº’äº‹ä»¶
  onMessagePress: (messageId: string) => void
  onUserPress: (userId: string) => void
  onFollowAction: (userId: string, action: FollowAction) => void
  onRefresh: () => void
  onLoadMore: () => void
}
```

### ğŸ”§ **ä½¿ç”¨çš„å…±äº«ç»„ä»¶**
- `NavigationBar` - é¡µé¢å¯¼èˆªæ 
- `MessageListItem` - æ¶ˆæ¯åˆ—è¡¨é¡¹å±•ç¤º
- `UserAvatar` - ç”¨æˆ·å¤´åƒæ˜¾ç¤º
- `ActionButton` - å…³æ³¨/å·²å…³æ³¨/äº’ç›¸å…³æ³¨æŒ‰é’®
- `TimeStamp` - å…³æ³¨æ—¶é—´æ˜¾ç¤º
- `LoadingIndicator` - åŠ è½½çŠ¶æ€
- `EmptyState` - ç©ºçŠ¶æ€æç¤º
- `PullRefresh` - ä¸‹æ‹‰åˆ·æ–°
- `ConfirmDialog` - æ¸…ç©ºç¡®è®¤å¯¹è¯æ¡†

---

## ğŸ”” **5. ç³»ç»Ÿé€šçŸ¥é¡µé¢ (NotificationsPage)**

### ğŸ“ **é¡µé¢å®šä½**
- **è·¯ç”±è·¯å¾„**: `/messages/notifications`
- **åŠŸèƒ½æè¿°**: å±•ç¤ºç³»ç»Ÿé€šçŸ¥å’Œå®˜æ–¹å…¬å‘Šæ¶ˆæ¯åˆ—è¡¨
- **é¡µé¢å±‚çº§**: å­é¡µé¢

### ğŸ—ï¸ **ç»„ä»¶æ¶æ„è®¾è®¡**

```
NotificationsPage/
â”œâ”€â”€ index.tsx                           # ğŸ¯ ç³»ç»Ÿé€šçŸ¥é¡µé¢å®Œæ•´å®ç°
â”œâ”€â”€ types.ts                            # ğŸ“‹ é¡µé¢ç±»å‹å®šä¹‰
â”œâ”€â”€ constants.ts                        # âš™ï¸ é¡µé¢å¸¸é‡é…ç½®
â”œâ”€â”€ README.md                           # ğŸ“– é¡µé¢æ–‡æ¡£
â”‚
â”œâ”€â”€ NotificationsListArea/              # âœ… ç³»ç»Ÿé€šçŸ¥åˆ—è¡¨åŒºåŸŸ
â”‚   â”œâ”€â”€ index.tsx                       # ğŸ¯ ç³»ç»Ÿé€šçŸ¥åˆ—è¡¨
â”‚   â”œâ”€â”€ types.ts                        # åˆ—è¡¨åŒºåŸŸç±»å‹å®šä¹‰
â”‚   â””â”€â”€ README.md                       # åˆ—è¡¨åŒºåŸŸæ–‡æ¡£
â”‚
â””â”€â”€ ActionBarArea/                      # âœ… æ“ä½œæ åŒºåŸŸ (å¤ç”¨)
    â”œâ”€â”€ index.tsx                       # ğŸ¯ æ¸…ç©ºç­‰æ“ä½œæŒ‰é’®
    â””â”€â”€ README.md                       # æ“ä½œæ æ–‡æ¡£
```

### ğŸ“‹ **é¡µé¢Propsæ¥å£**

```typescript
interface NotificationsPageProps {
  // å¯¼èˆªé…ç½®
  navigation: {
    onBack: () => void
    onClear: () => void
  }
  
  // æ•°æ®çŠ¶æ€
  data: {
    notifications: SystemNotification[]
    loading: boolean
    hasMore: boolean
    error?: string
  }
  
  // äº¤äº’äº‹ä»¶
  events: {
    onNotificationPress: (notificationId: string) => void
    onActionPress: (action: NotificationAction) => void
    onIgnorePress: (notificationId: string) => void
    onRefresh: () => void
    onLoadMore: () => void
    onClearAll: () => void
  }
}
```

### ğŸ¯ **NotificationsListArea ç»„ä»¶è®¾è®¡**

```typescript
interface NotificationsListAreaProps {
  // é€šçŸ¥æ•°æ®
  notifications: Array<{
    id: string
    type: 'system' | 'update' | 'security' | 'activity'
    priority: 'urgent' | 'important' | 'normal' | 'low'
    title: string
    content: string
    actions?: Array<{
      id: string
      text: string
      type: 'primary' | 'secondary'
      action: NotificationAction
    }>
    timestamp: number
    isRead: boolean
    expiresAt?: number
  }>
  
  // çŠ¶æ€é…ç½®
  loading: boolean
  hasMore: boolean
  
  // äº¤äº’äº‹ä»¶
  onNotificationPress: (notificationId: string) => void
  onActionPress: (action: NotificationAction) => void
  onIgnorePress: (notificationId: string) => void
  onRefresh: () => void
  onLoadMore: () => void
}
```

### ğŸ”§ **ä½¿ç”¨çš„å…±äº«ç»„ä»¶**
- `NavigationBar` - é¡µé¢å¯¼èˆªæ 
- `MessageListItem` - é€šçŸ¥åˆ—è¡¨é¡¹å±•ç¤º(ç‰¹æ®Šæ ·å¼)
- `ActionButton` - é€šçŸ¥æ“ä½œæŒ‰é’®(ç«‹å³å¤„ç†/å¿½ç•¥)
- `TimeStamp` - é€šçŸ¥æ—¶é—´æ˜¾ç¤º
- `LoadingIndicator` - åŠ è½½çŠ¶æ€
- `EmptyState` - ç©ºçŠ¶æ€æç¤º
- `PullRefresh` - ä¸‹æ‹‰åˆ·æ–°
- `ConfirmDialog` - æ¸…ç©ºç¡®è®¤å¯¹è¯æ¡†

---

## ğŸ’¬ **6. ç§èŠå¯¹è¯é¡µé¢ (ChatPage)**

### ğŸ“ **é¡µé¢å®šä½**
- **è·¯ç”±è·¯å¾„**: `/messages/chat/[conversationId]`
- **åŠŸèƒ½æè¿°**: ä¸€å¯¹ä¸€ç§èŠå¯¹è¯ç•Œé¢ï¼Œæ”¯æŒæ–‡å­—ã€å›¾ç‰‡ã€è¯­éŸ³æ¶ˆæ¯
- **é¡µé¢å±‚çº§**: å­é¡µé¢

### ğŸ—ï¸ **ç»„ä»¶æ¶æ„è®¾è®¡**

```
ChatPage/
â”œâ”€â”€ index.tsx                           # ğŸ¯ ç§èŠé¡µé¢å®Œæ•´å®ç°
â”œâ”€â”€ types.ts                            # ğŸ“‹ é¡µé¢ç±»å‹å®šä¹‰
â”œâ”€â”€ constants.ts                        # âš™ï¸ é¡µé¢å¸¸é‡é…ç½®
â”œâ”€â”€ README.md                           # ğŸ“– é¡µé¢æ–‡æ¡£
â”‚
â”œâ”€â”€ ChatHeaderArea/                     # âœ… å¯¹è¯å¤´éƒ¨åŒºåŸŸ
â”‚   â”œâ”€â”€ index.tsx                       # ğŸ¯ å¯¹è¯å¤´éƒ¨ä¿¡æ¯
â”‚   â”œâ”€â”€ types.ts                        # å¤´éƒ¨åŒºåŸŸç±»å‹å®šä¹‰
â”‚   â””â”€â”€ README.md                       # å¤´éƒ¨åŒºåŸŸæ–‡æ¡£
â”‚
â”œâ”€â”€ MessagesArea/                       # âœ… æ¶ˆæ¯å±•ç¤ºåŒºåŸŸ
â”‚   â”œâ”€â”€ index.tsx                       # ğŸ¯ æ¶ˆæ¯æ°”æ³¡åˆ—è¡¨
â”‚   â”œâ”€â”€ types.ts                        # æ¶ˆæ¯åŒºåŸŸç±»å‹å®šä¹‰
â”‚   â””â”€â”€ README.md                       # æ¶ˆæ¯åŒºåŸŸæ–‡æ¡£
â”‚
â””â”€â”€ InputArea/                          # âœ… æ¶ˆæ¯è¾“å…¥åŒºåŸŸ
    â”œâ”€â”€ index.tsx                       # ğŸ¯ æ¶ˆæ¯è¾“å…¥æ¡†å’ŒåŠŸèƒ½
    â”œâ”€â”€ types.ts                        # è¾“å…¥åŒºåŸŸç±»å‹å®šä¹‰
    â””â”€â”€ README.md                       # è¾“å…¥åŒºåŸŸæ–‡æ¡£
```

### ğŸ“‹ **é¡µé¢Propsæ¥å£**

```typescript
interface ChatPageProps {
  // è·¯ç”±å‚æ•°
  route: {
    params: {
      conversationId: string
      userId?: string
    }
  }
  
  // å¯¼èˆªé…ç½®
  navigation: {
    onBack: () => void
    onUserProfile: (userId: string) => void
    onVoiceCall: () => void
    onVideoCall: () => void
  }
  
  // æ•°æ®çŠ¶æ€
  data: {
    conversation: Conversation
    messages: Message[]
    currentUser: User
    targetUser: User
    loading: boolean
    hasMore: boolean
    error?: string
  }
  
  // äº¤äº’äº‹ä»¶
  events: {
    onSendMessage: (message: MessageInput) => void
    onResendMessage: (messageId: string) => void
    onDeleteMessage: (messageId: string) => void
    onImagePicker: () => void
    onCamera: () => void
    onVoiceRecord: (audioFile: string) => void
    onLoadMore: () => void
    onMessageLongPress: (messageId: string) => void
  }
}
```

### ğŸ¯ **ChatHeaderArea ç»„ä»¶è®¾è®¡**

```typescript
interface ChatHeaderAreaProps {
  // ç”¨æˆ·ä¿¡æ¯
  user: {
    id: string
    nickname: string
    avatar: string
    onlineStatus: 'online' | 'offline' | 'away'
    lastSeenAt?: number
  }
  
  // äº¤äº’äº‹ä»¶
  onUserPress: () => void
  onVoiceCall?: () => void
  onVideoCall?: () => void
  
  // çŠ¶æ€æ˜¾ç¤º
  showCallButtons?: boolean
  showOnlineStatus?: boolean
}
```

### ğŸ¯ **MessagesArea ç»„ä»¶è®¾è®¡**

```typescript
interface MessagesAreaProps {
  // æ¶ˆæ¯æ•°æ®
  messages: Message[]
  currentUserId: string
  
  // çŠ¶æ€é…ç½®
  loading: boolean
  hasMore: boolean
  
  // äº¤äº’äº‹ä»¶
  onMessagePress: (messageId: string) => void
  onMessageLongPress: (messageId: string) => void
  onResendPress: (messageId: string) => void
  onLoadMore: () => void
  
  // æ˜¾ç¤ºé…ç½®
  showAvatar?: boolean
  showTimestamp?: boolean
  enableImageViewer?: boolean
}
```

### ğŸ¯ **InputArea ç»„ä»¶è®¾è®¡**

```typescript
interface InputAreaProps {
  // è¾“å…¥çŠ¶æ€
  value: string
  onChangeText: (text: string) => void
  
  // åŠŸèƒ½é…ç½®
  features: {
    camera?: boolean
    gallery?: boolean
    voice?: boolean
    emoji?: boolean
  }
  
  // äº¤äº’äº‹ä»¶
  onSendPress: (message: string) => void
  onCameraPress: () => void
  onGalleryPress: () => void
  onVoiceStart: () => void
  onVoiceEnd: (audioFile?: string) => void
  
  // çŠ¶æ€æ§åˆ¶
  disabled?: boolean
  placeholder?: string
}
```

### ğŸ”§ **ä½¿ç”¨çš„å…±äº«ç»„ä»¶**
- `NavigationBar` - å¯¹è¯é¡µå¯¼èˆªæ (è‡ªå®šä¹‰æ ·å¼)
- `MessageBubble` - æ¶ˆæ¯æ°”æ³¡å±•ç¤º
- `UserAvatar` - ç”¨æˆ·å¤´åƒæ˜¾ç¤º
- `StatusIndicator` - åœ¨çº¿çŠ¶æ€å’Œè¾“å…¥çŠ¶æ€
- `TimeStamp` - æ¶ˆæ¯æ—¶é—´æ˜¾ç¤º
- `LoadingIndicator` - æ¶ˆæ¯åŠ è½½çŠ¶æ€
- `AnimationWrapper` - æ¶ˆæ¯åŠ¨ç”»æ•ˆæœ
- `ConfirmDialog` - åˆ é™¤æ¶ˆæ¯ç¡®è®¤

---

## âš ï¸ **7. ç¡®è®¤å¯¹è¯æ¡†é¡µé¢ (ConfirmDialogPage)**

### ğŸ“ **é¡µé¢å®šä½**
- **è·¯ç”±ç±»å‹**: Modal/Overlay
- **åŠŸèƒ½æè¿°**: å…¨å±€ç¡®è®¤å¯¹è¯æ¡†ï¼Œç”¨äºæ¸…ç©ºæ“ä½œç­‰éœ€è¦ç¡®è®¤çš„åœºæ™¯
- **é¡µé¢å±‚çº§**: å¼¹çª—é¡µé¢

### ğŸ—ï¸ **ç»„ä»¶æ¶æ„è®¾è®¡**

```
ConfirmDialogPage/
â”œâ”€â”€ index.tsx                           # ğŸ¯ ç¡®è®¤å¯¹è¯æ¡†å®Œæ•´å®ç°
â”œâ”€â”€ types.ts                            # ğŸ“‹ é¡µé¢ç±»å‹å®šä¹‰
â””â”€â”€ README.md                           # ğŸ“– é¡µé¢æ–‡æ¡£
```

### ğŸ“‹ **é¡µé¢Propsæ¥å£**

```typescript
interface ConfirmDialogPageProps {
  // æ˜¾ç¤ºæ§åˆ¶
  visible: boolean
  onClose: () => void
  
  // å¯¹è¯æ¡†é…ç½®
  config: {
    type: 'warning' | 'danger' | 'info' | 'success'
    icon?: ReactNode
    title: string
    message: string
    confirmText: string
    cancelText: string
  }
  
  // äº¤äº’äº‹ä»¶
  events: {
    onConfirm: () => void
    onCancel: () => void
  }
  
  // æ ·å¼é…ç½®
  style?: {
    width?: number
    maxWidth?: number
    borderRadius?: number
  }
}
```

### ğŸ”§ **ä½¿ç”¨çš„å…±äº«ç»„ä»¶**
- `ConfirmDialog` - æ ¸å¿ƒå¯¹è¯æ¡†ç»„ä»¶
- `ActionButton` - ç¡®è®¤å’Œå–æ¶ˆæŒ‰é’®
- `AnimationWrapper` - å¼¹å‡ºåŠ¨ç”»æ•ˆæœ

---

## ğŸ“Š **é¡µé¢é—´æ•°æ®æµè®¾è®¡**

### ğŸ”„ **å…¨å±€çŠ¶æ€ç®¡ç†**

```typescript
// æ¶ˆæ¯æ¨¡å—å…¨å±€çŠ¶æ€
interface MessagesGlobalState {
  // ç”¨æˆ·ä¿¡æ¯
  currentUser: User
  onlineUsers: Record<string, OnlineStatus>
  
  // æ¶ˆæ¯æ•°æ®
  conversations: Conversation[]
  unreadCounts: {
    likes: number
    comments: number
    followers: number
    notifications: number
    total: number
  }
  
  // UIçŠ¶æ€
  loading: Record<string, boolean>
  errors: Record<string, string>
  
  // ç¼“å­˜æ•°æ®
  messagesCache: Record<string, Message[]>
  usersCache: Record<string, User>
}
```

### ğŸ¯ **é¡µé¢é—´å¯¼èˆªæµç¨‹**

```typescript
// å¯¼èˆªåŠ¨ä½œç±»å‹
type NavigationAction = 
  | { type: 'NAVIGATE_TO_MAIN' }
  | { type: 'NAVIGATE_TO_CATEGORY'; categoryId: string }
  | { type: 'NAVIGATE_TO_CHAT'; conversationId: string; userId?: string }
  | { type: 'NAVIGATE_TO_USER_PROFILE'; userId: string }
  | { type: 'NAVIGATE_TO_CONTENT'; contentId: string }
  | { type: 'SHOW_CONFIRM_DIALOG'; config: ConfirmDialogConfig }
  | { type: 'GO_BACK' }

// å¯¼èˆªå‚æ•°ç±»å‹
interface NavigationParams {
  // æ¥æºé¡µé¢æ ‡è¯†
  source?: string
  
  // é«˜äº®å…ƒç´ ID
  highlightId?: string
  
  // é¢„åŠ è½½æ•°æ®
  preloadData?: any
  
  // è¿”å›æ—¶çš„å›è°ƒ
  onReturn?: () => void
}
```

### ğŸ”Œ **ç»„ä»¶é—´é€šä¿¡æœºåˆ¶**

```typescript
// äº‹ä»¶æ€»çº¿ç³»ç»Ÿ
interface EventBusEvents {
  // æ¶ˆæ¯ç›¸å…³äº‹ä»¶
  'message:new': (message: Message) => void
  'message:read': (messageId: string) => void
  'message:deleted': (messageId: string) => void
  
  // ç”¨æˆ·çŠ¶æ€äº‹ä»¶
  'user:online': (userId: string) => void
  'user:offline': (userId: string) => void
  'user:typing': (userId: string, isTyping: boolean) => void
  
  // æœªè¯»è®¡æ•°äº‹ä»¶
  'unread:update': (counts: UnreadCounts) => void
  
  // å¯¼èˆªäº‹ä»¶
  'navigation:update': (route: string, params?: any) => void
}
```

---

## ğŸš€ **æ€§èƒ½ä¼˜åŒ–ç­–ç•¥**

### âš¡ **é¡µé¢çº§ä¼˜åŒ–**

1. **è·¯ç”±æ‡’åŠ è½½**: æ‰€æœ‰é¡µé¢æ”¯æŒåŠ¨æ€å¯¼å…¥
2. **æ•°æ®é¢„åŠ è½½**: å…³é”®æ•°æ®åœ¨å¯¼èˆªå‰é¢„åŠ è½½
3. **çŠ¶æ€æŒä¹…åŒ–**: é¡µé¢çŠ¶æ€åœ¨åˆ‡æ¢æ—¶ä¿æŒ
4. **å†…å­˜ç®¡ç†**: é•¿åˆ—è¡¨ä½¿ç”¨è™šæ‹ŸåŒ–æ¸²æŸ“

### ğŸ“‹ **åˆ—è¡¨ä¼˜åŒ–ç­–ç•¥**

1. **FlatListä¼˜åŒ–**: æ‰€æœ‰åˆ—è¡¨é¡µé¢ä½¿ç”¨FlatListè™šæ‹ŸåŒ–
2. **åˆ†é¡µåŠ è½½**: æ”¯æŒå¢é‡æ•°æ®åŠ è½½
3. **ç¼“å­˜ç­–ç•¥**: åˆ—è¡¨æ•°æ®æ™ºèƒ½ç¼“å­˜
4. **å›¾ç‰‡ä¼˜åŒ–**: å¤´åƒå’Œé¢„è§ˆå›¾æ‡’åŠ è½½

### ğŸ”„ **å®æ—¶æ›´æ–°ä¼˜åŒ–**

1. **WebSocketç®¡ç†**: ç»Ÿä¸€çš„WebSocketè¿æ¥ç®¡ç†
2. **å¢é‡æ›´æ–°**: åªæ›´æ–°å˜åŒ–çš„æ•°æ®
3. **æ‰¹é‡æ“ä½œ**: å¤šä¸ªæ“ä½œåˆå¹¶å¤„ç†
4. **ç¦»çº¿æ”¯æŒ**: ç¦»çº¿çŠ¶æ€ä¸‹çš„æ•°æ®ç¼“å­˜

---

## ğŸ“‹ **ä¸‹ä¸€æ­¥å®æ–½è®¡åˆ’**

### ğŸ¯ **é¡µé¢å®æ–½ä¼˜å…ˆçº§**

1. **P0æ ¸å¿ƒé¡µé¢** (å¿…é¡»ä¼˜å…ˆå®æ–½)
   - æ¶ˆæ¯ä¸»é¡µé¢ (å…¥å£é¡µé¢)
   - ç§èŠå¯¹è¯é¡µé¢ (æ ¸å¿ƒåŠŸèƒ½)

2. **P1é‡è¦é¡µé¢** (ç¬¬äºŒæ‰¹å®æ–½)
   - èµå’Œæ”¶è—é¡µé¢
   - è¯„è®ºé¡µé¢
   - ç³»ç»Ÿé€šçŸ¥é¡µé¢

3. **P2å¢å¼ºé¡µé¢** (ç¬¬ä¸‰æ‰¹å®æ–½)
   - ç²‰ä¸é¡µé¢
   - ç¡®è®¤å¯¹è¯æ¡†é¡µé¢

### ğŸ“Š **è´¨é‡ä¿è¯æ£€æŸ¥é¡¹**

- âœ… **ç»„ä»¶å¤ç”¨**: ç¡®ä¿90%+çš„ç»„ä»¶å¤ç”¨ç‡
- âœ… **æ¥å£ä¸€è‡´**: ç›¸ä¼¼é¡µé¢ä½¿ç”¨ç»Ÿä¸€çš„Propsæ¥å£
- âœ… **æ€§èƒ½ä¼˜åŒ–**: æ‰€æœ‰é¡µé¢éƒ½å®æ–½äº†æ€§èƒ½ä¼˜åŒ–ç­–ç•¥
- âœ… **ç±»å‹å®‰å…¨**: å®Œæ•´çš„TypeScriptç±»å‹è¦†ç›–
- âœ… **é”™è¯¯å¤„ç†**: ç»Ÿä¸€çš„é”™è¯¯å¤„ç†å’Œç”¨æˆ·åé¦ˆ
- âœ… **æµ‹è¯•è¦†ç›–**: æ¯ä¸ªé¡µé¢éƒ½æœ‰å¯¹åº”çš„æµ‹è¯•ç”¨ä¾‹

---

*æœ¬æ–‡æ¡£ä¸ºæ¶ˆæ¯æ¨¡å—å„é¡µé¢çš„è¯¦ç»†ç»„ä»¶åŒ–è®¾è®¡è§„èŒƒï¼Œä¸ºåç»­çš„AIå®æ–½æä¾›å®Œæ•´çš„æŠ€æœ¯æŒ‡å¯¼ã€‚*
