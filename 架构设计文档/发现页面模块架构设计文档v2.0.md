# å‘ç°é¡µé¢æ¨¡å—æ¶æ„è®¾è®¡æ–‡æ¡£ v2.0

> **åŸºäºUNIVERSAL_COMPONENT_ARCHITECTURE_CORE v2.5æ ‡å‡†**  
> **å®Œæ•´å‰åç«¯ä¸€ä½“åŒ– + å±‚çº§åŒ–é¡µé¢ç»„æ¶æ„ + å…«æ®µå¼ä»£ç è§„èŒƒ**  
> **ç¤¾äº¤å†…å®¹å‘ç°ä¸äº’åŠ¨ç³»ç»Ÿ**

---

## ğŸ“‹ æ–‡æ¡£ä¿¡æ¯

- **æ¨¡å—åç§°**ï¼šå‘ç°é¡µé¢æ¨¡å—ï¼ˆDiscovery Moduleï¼‰
- **é¡µé¢ç±»å‹**ï¼šç¤¾äº¤å†…å®¹å‘ç°é¡µé¢ï¼ˆå…³æ³¨/çƒ­é—¨/åŒåŸä¸‰Tabç»“æ„ + åŠ¨æ€è¯¦æƒ… + è¯é¢˜èšåˆ + å†…å®¹å‘å¸ƒ + ä¸¾æŠ¥ç®¡ç†ï¼‰
- **è®¾è®¡æ ‡å‡†**ï¼šUNIVERSAL_COMPONENT_ARCHITECTURE_CORE v2.5 + SMART-V+ å¢å¼ºåŸåˆ™
- **åˆ›å»ºæ—¥æœŸ**ï¼š2025å¹´9æœˆ30æ—¥
- **ç‰ˆæœ¬å·**ï¼šv2.0
- **é€‚ç”¨é¡¹ç›®**ï¼šTxTç¤¾äº¤æ¢åº—APP

---

## ğŸ¯ æ ¸å¿ƒè®¾è®¡åŸåˆ™éµå¾ªæ£€æŸ¥æ¸…å•

### âœ… æ¶æ„æ ‡å‡†å¼ºåˆ¶æ‰§è¡Œé¡¹

- [x] **å±‚çº§åŒ–é¡µé¢ç»„ä¸»å¯¼æ¶æ„** - MainPage + 5ä¸ªSubPagesç»“æ„
- [x] **å‰åç«¯ä¸€ä½“åŒ–å¼ºåˆ¶å®æ–½** - APIå±‚ä¸åç«¯å®ç°å±‚åŒæ—¶å®Œæ•´äº¤ä»˜
- [x] **MyBatis-Plusæ ‡å‡†æ¶æ„** - QueryWrapper/LambdaQueryWrapperæŸ¥è¯¢
- [x] **å…«æ®µå¼ä»£ç ç»“æ„** - æ‰€æœ‰ä¸»æ–‡ä»¶éµå¾ªå…«æ®µå¼è§„èŒƒ
- [x] **ä¸»æ–‡ä»¶ä¼˜å…ˆåŸåˆ™ï¼ˆå¼ºåˆ¶ï¼‰** - æ‰€æœ‰çŠ¶æ€/äº‹ä»¶/æ•°æ®å¤„ç†/å·¥å…·å‡½æ•°é›†ä¸­åœ¨ä¸»æ–‡ä»¶å†…ï¼Œä¸¥ç¦åˆ›å»ºç‹¬ç«‹çš„Hook/Utilsæ–‡ä»¶
- [x] **æŒ‰éœ€è®¾è®¡åŸåˆ™** - ä»…åˆ›å»ºå‰ç«¯å®é™…éœ€è¦çš„æ¥å£
- [x] **ç±»å‹å®‰å…¨** - å®Œæ•´çš„TypeScriptç±»å‹å®šä¹‰
- [x] **å¸¸é‡è§„èŒƒ** - æ‰€æœ‰å¸¸é‡åœ¨constants.tsä¸­å®šä¹‰

---

## ğŸ“¦ ä¸€ã€æ¨¡å—æ¶æ„æ€»è§ˆ

### 1.1 é¡µé¢ç»„å±‚çº§ç»“æ„

```
src/pages/Discovery/                          # ğŸ“¦ å‘ç°é¡µé¢ç»„
â”œâ”€â”€ index.tsx                                  # ğŸ¯ é¡µé¢ç»„ä¸»æ–‡ä»¶ - çŠ¶æ€ç®¡ç†ã€å¯¼èˆªåè°ƒ
â”œâ”€â”€ types.ts                                   # ğŸ“‹ é¡µé¢ç»„ç±»å‹å®šä¹‰
â”œâ”€â”€ constants.ts                               # âš™ï¸ é¡µé¢ç»„å¸¸é‡é…ç½®
â”œâ”€â”€ README.md                                  # ğŸ“– é¡µé¢ç»„æ–‡æ¡£
â”‚
â”œâ”€â”€ ğŸ  ä¸»é¡µé¢å±‚ (Main Page)
â”‚   â”œâ”€â”€ MainPage/                              # ğŸ“± å‘ç°ä¸»é¡µé¢ï¼ˆä¸‰Tabç»“æ„ï¼‰
â”‚   â”‚   â”œâ”€â”€ index.tsx                          # ä¸»é¡µé¢å®ç°ï¼ˆå…«æ®µå¼ï¼‰
â”‚   â”‚   â”œâ”€â”€ types.ts                           # ä¸»é¡µé¢ç±»å‹
â”‚   â”‚   â”œâ”€â”€ constants.ts                       # ä¸»é¡µé¢å¸¸é‡
â”‚   â”‚   â”œâ”€â”€ README.md                          # ä¸»é¡µé¢æ–‡æ¡£
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ NavigationArea/                    # âœ… å¯¼èˆªåŒºåŸŸç»„ä»¶
â”‚   â”‚   â”‚   â”œâ”€â”€ index.tsx                      # ğŸ¯ Tabåˆ‡æ¢ + æœç´¢å…¥å£
â”‚   â”‚   â”‚   â”œâ”€â”€ TabSwitch/                     # ğŸ”¸ Tabåˆ‡æ¢æ ¸å¿ƒé€»è¾‘
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ index.tsx                  # å…³æ³¨/çƒ­é—¨/åŒåŸTabåˆ‡æ¢
â”‚   â”‚   â”‚   â””â”€â”€ SearchEntry/                   # ğŸ”¸ æœç´¢å…¥å£ç»„ä»¶
â”‚   â”‚   â”‚       â””â”€â”€ index.tsx                  # æœç´¢å›¾æ ‡å’Œè·³è½¬
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ ContentArea/                       # âœ… å†…å®¹åŒºåŸŸç»„ä»¶
â”‚   â”‚   â”‚   â”œâ”€â”€ index.tsx                      # ğŸ¯ åŠ¨æ€æµåˆ—è¡¨å®¹å™¨
â”‚   â”‚   â”‚   â”œâ”€â”€ FeedList/                      # ğŸ”¸ åŠ¨æ€åˆ—è¡¨æ ¸å¿ƒ
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ index.tsx                  # è™šæ‹Ÿåˆ—è¡¨ + ä¸‹æ‹‰åˆ·æ–°
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ README.md
â”‚   â”‚   â”‚   â””â”€â”€ FeedCard/                      # ğŸ”¸ åŠ¨æ€å¡ç‰‡ç»„ä»¶
â”‚   â”‚   â”‚       â”œâ”€â”€ index.tsx                  # å¡ç‰‡UI + äº¤äº’
â”‚   â”‚   â”‚       â””â”€â”€ README.md
â”‚   â”‚   â”‚
â”‚   â”‚   â””â”€â”€ BottomNavigation/                  # âœ… åº•éƒ¨å¯¼èˆªæ 
â”‚   â”‚       â”œâ”€â”€ index.tsx                      # ğŸ¯ åº•éƒ¨Tabå¯¼èˆª
â”‚   â”‚       â””â”€â”€ README.md
â”‚   â”‚
â”œâ”€â”€ ğŸ“„ å­é¡µé¢å±‚ (Sub Pages)
â”‚   â”‚
â”‚   â”œâ”€â”€ DetailPage/                            # ğŸ¯ åŠ¨æ€è¯¦æƒ…å­é¡µé¢
â”‚   â”‚   â”œâ”€â”€ index.tsx                          # è¯¦æƒ…é¡µå®ç°ï¼ˆå…«æ®µå¼ï¼‰
â”‚   â”‚   â”œâ”€â”€ types.ts                           # è¯¦æƒ…é¡µç±»å‹
â”‚   â”‚   â”œâ”€â”€ constants.ts                       # è¯¦æƒ…é¡µå¸¸é‡
â”‚   â”‚   â”œâ”€â”€ README.md                          # è¯¦æƒ…é¡µæ–‡æ¡£
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ ContentArea/                       # âœ… åŠ¨æ€å†…å®¹åŒºåŸŸ
â”‚   â”‚   â”‚   â”œâ”€â”€ index.tsx                      # å®Œæ•´åŠ¨æ€å±•ç¤º
â”‚   â”‚   â”‚   â”œâ”€â”€ MediaViewer/                   # ğŸ”¸ åª’ä½“æŸ¥çœ‹å™¨
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ index.tsx                  # å›¾ç‰‡/è§†é¢‘å…¨å±æŸ¥çœ‹
â”‚   â”‚   â”‚   â””â”€â”€ InteractionBar/                # ğŸ”¸ äº’åŠ¨æ“ä½œæ 
â”‚   â”‚   â”‚       â””â”€â”€ index.tsx                  # ç‚¹èµ/è¯„è®º/åˆ†äº«/æ”¶è—
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ CommentArea/                       # âœ… è¯„è®ºåŒºåŸŸ
â”‚   â”‚   â”‚   â”œâ”€â”€ index.tsx                      # è¯„è®ºåˆ—è¡¨å®¹å™¨
â”‚   â”‚   â”‚   â”œâ”€â”€ CommentList/                   # ğŸ”¸ è¯„è®ºåˆ—è¡¨
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ index.tsx                  # è¯„è®ºé¡¹ + å­è¯„è®º
â”‚   â”‚   â”‚   â””â”€â”€ CommentSort/                   # ğŸ”¸ è¯„è®ºæ’åº
â”‚   â”‚   â”‚       â””â”€â”€ index.tsx                  # æ—¶é—´/çƒ­åº¦/ç‚¹èµæ’åº
â”‚   â”‚   â”‚
â”‚   â”‚   â””â”€â”€ InputArea/                         # âœ… è¯„è®ºè¾“å…¥åŒºåŸŸ
â”‚   â”‚       â”œâ”€â”€ index.tsx                      # è¯„è®ºè¾“å…¥æ¡†
â”‚   â”‚       â””â”€â”€ README.md
â”‚   â”‚
â”‚   â”œâ”€â”€ TopicPage/                             # ğŸ¯ è¯é¢˜è¯¦æƒ…å­é¡µé¢
â”‚   â”‚   â”œâ”€â”€ index.tsx                          # è¯é¢˜é¡µå®ç°ï¼ˆå…«æ®µå¼ï¼‰
â”‚   â”‚   â”œâ”€â”€ types.ts                           # è¯é¢˜é¡µç±»å‹
â”‚   â”‚   â”œâ”€â”€ constants.ts                       # è¯é¢˜é¡µå¸¸é‡
â”‚   â”‚   â”œâ”€â”€ README.md                          # è¯é¢˜é¡µæ–‡æ¡£
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ HeaderArea/                        # âœ… è¯é¢˜ä¿¡æ¯åŒºåŸŸ
â”‚   â”‚   â”‚   â”œâ”€â”€ index.tsx                      # è¯é¢˜åç§° + ç»Ÿè®¡æ•°æ®
â”‚   â”‚   â”‚   â””â”€â”€ TopicStats/                    # ğŸ”¸ è¯é¢˜ç»Ÿè®¡
â”‚   â”‚   â”‚       â””â”€â”€ index.tsx                  # å‚ä¸äººæ•°/åŠ¨æ€æ•°/çƒ­åº¦
â”‚   â”‚   â”‚
â”‚   â”‚   â””â”€â”€ FeedArea/                          # âœ… è¯é¢˜åŠ¨æ€åŒºåŸŸ
â”‚   â”‚       â”œâ”€â”€ index.tsx                      # è¯é¢˜ç›¸å…³åŠ¨æ€åˆ—è¡¨
â”‚   â”‚       â””â”€â”€ TopicFeedCard/                 # ğŸ”¸ è¯é¢˜åŠ¨æ€å¡ç‰‡
â”‚   â”‚           â””â”€â”€ index.tsx                  # å¸¦ç”¨æˆ·æ ‡è¯†çš„åŠ¨æ€å¡ç‰‡
â”‚   â”‚
â”‚   â”œâ”€â”€ PublishPage/                           # ğŸ¯ å‘å¸ƒåŠ¨æ€å­é¡µé¢
â”‚   â”‚   â”œâ”€â”€ index.tsx                          # å‘å¸ƒé¡µå®ç°ï¼ˆå…«æ®µå¼ï¼‰
â”‚   â”‚   â”œâ”€â”€ types.ts                           # å‘å¸ƒé¡µç±»å‹
â”‚   â”‚   â”œâ”€â”€ constants.ts                       # å‘å¸ƒé¡µå¸¸é‡
â”‚   â”‚   â”œâ”€â”€ README.md                          # å‘å¸ƒé¡µæ–‡æ¡£
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ EditorArea/                        # âœ… ç¼–è¾‘å™¨åŒºåŸŸ
â”‚   â”‚   â”‚   â”œâ”€â”€ index.tsx                      # æ–‡å­—ç¼–è¾‘å™¨
â”‚   â”‚   â”‚   â”œâ”€â”€ TitleInput/                    # ğŸ”¸ æ ‡é¢˜è¾“å…¥
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ index.tsx
â”‚   â”‚   â”‚   â””â”€â”€ ContentInput/                  # ğŸ”¸ æ­£æ–‡è¾“å…¥
â”‚   â”‚   â”‚       â””â”€â”€ index.tsx                  # @ç”¨æˆ· + #è¯é¢˜ æ”¯æŒ
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ MediaArea/                         # âœ… åª’ä½“æ·»åŠ åŒºåŸŸ
â”‚   â”‚   â”‚   â”œâ”€â”€ index.tsx                      # åª’ä½“ç®¡ç†å®¹å™¨
â”‚   â”‚   â”‚   â”œâ”€â”€ MediaPicker/                   # ğŸ”¸ åª’ä½“é€‰æ‹©å™¨
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ index.tsx                  # æ‹ç…§/ç›¸å†Œ/è§†é¢‘
â”‚   â”‚   â”‚   â””â”€â”€ MediaEditor/                   # ğŸ”¸ åª’ä½“ç¼–è¾‘å™¨
â”‚   â”‚   â”‚       â””â”€â”€ index.tsx                  # è£å‰ª/æ»¤é•œ
â”‚   â”‚   â”‚
â”‚   â”‚   â””â”€â”€ SettingsArea/                      # âœ… è®¾ç½®åŒºåŸŸ
â”‚   â”‚       â”œâ”€â”€ index.tsx                      # è¯é¢˜å’Œåœ°ç‚¹é€‰æ‹©
â”‚   â”‚       â””â”€â”€ README.md
â”‚   â”‚
â”‚   â”œâ”€â”€ TopicSelectPage/                       # ğŸ¯ è¯é¢˜é€‰æ‹©å­é¡µé¢
â”‚   â”‚   â”œâ”€â”€ index.tsx                          # è¯é¢˜é€‰æ‹©å®ç°ï¼ˆå…«æ®µå¼ï¼‰
â”‚   â”‚   â”œâ”€â”€ types.ts
â”‚   â”‚   â”œâ”€â”€ constants.ts
â”‚   â”‚   â”œâ”€â”€ README.md
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ SearchArea/                        # âœ… è¯é¢˜æœç´¢åŒºåŸŸ
â”‚   â”‚   â”‚   â””â”€â”€ index.tsx                      # æœç´¢æ¡† + å®æ—¶æœç´¢
â”‚   â”‚   â”‚
â”‚   â”‚   â””â”€â”€ TopicListArea/                     # âœ… è¯é¢˜åˆ—è¡¨åŒºåŸŸ
â”‚   â”‚       â”œâ”€â”€ index.tsx                      # çƒ­é—¨/å†å²è¯é¢˜åˆ—è¡¨
â”‚   â”‚       â””â”€â”€ TopicItem/                     # ğŸ”¸ è¯é¢˜é¡¹
â”‚   â”‚           â””â”€â”€ index.tsx                  # å¤šé€‰è¯é¢˜é¡¹
â”‚   â”‚
â”‚   â”œâ”€â”€ LocationSelectPage/                    # ğŸ¯ åœ°ç‚¹é€‰æ‹©å­é¡µé¢
â”‚   â”‚   â”œâ”€â”€ index.tsx                          # åœ°ç‚¹é€‰æ‹©å®ç°ï¼ˆå…«æ®µå¼ï¼‰
â”‚   â”‚   â”œâ”€â”€ types.ts
â”‚   â”‚   â”œâ”€â”€ constants.ts
â”‚   â”‚   â”œâ”€â”€ README.md
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ MapArea/                           # âœ… åœ°å›¾åŒºåŸŸ
â”‚   â”‚   â”‚   â”œâ”€â”€ index.tsx                      # äº¤äº’å¼åœ°å›¾
â”‚   â”‚   â”‚   â””â”€â”€ MapControls/                   # ğŸ”¸ åœ°å›¾æ§åˆ¶
â”‚   â”‚   â”‚       â””â”€â”€ index.tsx                  # å®šä½/ç¼©æ”¾æŒ‰é’®
â”‚   â”‚   â”‚
â”‚   â”‚   â””â”€â”€ LocationListArea/                  # âœ… åœ°ç‚¹åˆ—è¡¨åŒºåŸŸ
â”‚   â”‚       â”œâ”€â”€ index.tsx                      # é™„è¿‘åœ°ç‚¹åˆ—è¡¨
â”‚   â”‚       â””â”€â”€ LocationItem/                  # ğŸ”¸ åœ°ç‚¹é¡¹
â”‚   â”‚           â””â”€â”€ index.tsx                  # å•é€‰åœ°ç‚¹é¡¹
â”‚   â”‚
â”‚   â””â”€â”€ ReportPage/                            # ğŸ¯ ä¸¾æŠ¥åŠŸèƒ½å­é¡µé¢
â”‚       â”œâ”€â”€ index.tsx                          # ä¸¾æŠ¥é¡µå®ç°ï¼ˆå…«æ®µå¼ï¼‰
â”‚       â”œâ”€â”€ types.ts
â”‚       â”œâ”€â”€ constants.ts
â”‚       â”œâ”€â”€ README.md
â”‚       â”‚
â”‚       â”œâ”€â”€ ReasonArea/                        # âœ… ä¸¾æŠ¥ç†ç”±åŒºåŸŸ
â”‚       â”‚   â”œâ”€â”€ index.tsx                      # ç†ç”±é€‰æ‹©åˆ—è¡¨
â”‚       â”‚   â””â”€â”€ ReasonItem/                    # ğŸ”¸ ç†ç”±é¡¹
â”‚       â”‚       â””â”€â”€ index.tsx                  # å•é€‰ç†ç”±é¡¹
â”‚       â”‚
â”‚       â””â”€â”€ DescriptionArea/                   # âœ… è¯¦ç»†è¯´æ˜åŒºåŸŸ
â”‚           â””â”€â”€ index.tsx                      # å¤šè¡Œæ–‡æœ¬è¾“å…¥
â”‚
â”œâ”€â”€ ğŸŒ å‰ç«¯APIæ¥å£å±‚
â”‚   â”œâ”€â”€ apiDiscoveryMain.ts                    # ä¸»é¡µé¢APIï¼ˆåŠ¨æ€æµï¼‰
â”‚   â”œâ”€â”€ apiDiscoveryDetail.ts                  # åŠ¨æ€è¯¦æƒ…API
â”‚   â”œâ”€â”€ apiDiscoveryTopic.ts                   # è¯é¢˜è¯¦æƒ…API
â”‚   â”œâ”€â”€ apiDiscoveryPublish.ts                 # å‘å¸ƒåŠ¨æ€API
â”‚   â”œâ”€â”€ apiDiscoveryReport.ts                  # ä¸¾æŠ¥åŠŸèƒ½API
â”‚   â”œâ”€â”€ apiDiscoveryComment.ts                 # è¯„è®ºç®¡ç†API
â”‚   â”œâ”€â”€ apiDiscoveryInteraction.ts             # äº’åŠ¨æ“ä½œAPI
â”‚   â””â”€â”€ apiDiscoveryAggregate.ts               # èšåˆAPIï¼ˆå¯é€‰ï¼‰
â”‚
â””â”€â”€ ğŸ”Œ åç«¯äº¤äº’å±‚ï¼ˆJava + MyBatis-Plusï¼‰
    â””â”€â”€ backend/
        â”œâ”€â”€ entityFeed.java                    # ğŸ—ï¸ åŠ¨æ€å®ä½“
        â”œâ”€â”€ entityTopic.java                   # ğŸ—ï¸ è¯é¢˜å®ä½“
        â”œâ”€â”€ entityComment.java                 # ğŸ—ï¸ è¯„è®ºå®ä½“
        â”œâ”€â”€ entityFeedMedia.java               # ğŸ—ï¸ åª’ä½“æ–‡ä»¶å®ä½“
        â”œâ”€â”€ entityFeedTopic.java               # ğŸ—ï¸ åŠ¨æ€è¯é¢˜å…³è”å®ä½“
        â”œâ”€â”€ entityUserInteraction.java         # ğŸ—ï¸ ç”¨æˆ·äº’åŠ¨å®ä½“
        â”‚
        â”œâ”€â”€ dtoFeedCreate.java                 # ğŸ“¦ åˆ›å»ºåŠ¨æ€DTO
        â”œâ”€â”€ dtoFeedUpdate.java                 # ğŸ“¦ æ›´æ–°åŠ¨æ€DTO
        â”œâ”€â”€ dtoCommentCreate.java              # ğŸ“¦ åˆ›å»ºè¯„è®ºDTO
        â”œâ”€â”€ dtoTopicCreate.java                # ğŸ“¦ åˆ›å»ºè¯é¢˜DTO
        â”œâ”€â”€ dtoReportSubmit.java               # ğŸ“¦ æäº¤ä¸¾æŠ¥DTO
        â”‚
        â”œâ”€â”€ voFeedQuery.java                   # ğŸ” åŠ¨æ€æŸ¥è¯¢VO
        â”œâ”€â”€ voTopicQuery.java                  # ğŸ” è¯é¢˜æŸ¥è¯¢VO
        â”œâ”€â”€ voCommentQuery.java                # ğŸ” è¯„è®ºæŸ¥è¯¢VO
        â”‚
        â”œâ”€â”€ controllerFeed.java                # ğŸ¯ åŠ¨æ€æ§åˆ¶å™¨
        â”œâ”€â”€ controllerTopic.java               # ğŸ¯ è¯é¢˜æ§åˆ¶å™¨
        â”œâ”€â”€ controllerComment.java             # ğŸ¯ è¯„è®ºæ§åˆ¶å™¨
        â”œâ”€â”€ controllerInteraction.java         # ğŸ¯ äº’åŠ¨æ§åˆ¶å™¨
        â”œâ”€â”€ controllerReport.java              # ğŸ¯ ä¸¾æŠ¥æ§åˆ¶å™¨
        â”‚
        â”œâ”€â”€ serviceFeed.java                   # âš™ï¸ åŠ¨æ€æœåŠ¡æ¥å£
        â”œâ”€â”€ serviceTopic.java                  # âš™ï¸ è¯é¢˜æœåŠ¡æ¥å£
        â”œâ”€â”€ serviceComment.java                # âš™ï¸ è¯„è®ºæœåŠ¡æ¥å£
        â”œâ”€â”€ serviceInteraction.java            # âš™ï¸ äº’åŠ¨æœåŠ¡æ¥å£
        â”œâ”€â”€ serviceReport.java                 # âš™ï¸ ä¸¾æŠ¥æœåŠ¡æ¥å£
        â”‚
        â”œâ”€â”€ serviceImplFeed.java               # ğŸ”§ åŠ¨æ€æœåŠ¡å®ç°
        â”œâ”€â”€ serviceImplTopic.java              # ğŸ”§ è¯é¢˜æœåŠ¡å®ç°
        â”œâ”€â”€ serviceImplComment.java            # ğŸ”§ è¯„è®ºæœåŠ¡å®ç°
        â”œâ”€â”€ serviceImplInteraction.java        # ğŸ”§ äº’åŠ¨æœåŠ¡å®ç°
        â”œâ”€â”€ serviceImplReport.java             # ğŸ”§ ä¸¾æŠ¥æœåŠ¡å®ç°
        â”‚
        â”œâ”€â”€ mapperFeed.java                    # ğŸ—„ï¸ åŠ¨æ€Mapper
        â”œâ”€â”€ mapperTopic.java                   # ğŸ—„ï¸ è¯é¢˜Mapper
        â”œâ”€â”€ mapperComment.java                 # ğŸ—„ï¸ è¯„è®ºMapper
        â”œâ”€â”€ mapperFeedMedia.java               # ğŸ—„ï¸ åª’ä½“Mapper
        â”œâ”€â”€ mapperUserInteraction.java         # ğŸ—„ï¸ äº’åŠ¨Mapper
        â”‚
        â”œâ”€â”€ queryFeedBuilder.java              # ğŸ—ï¸ åŠ¨æ€æŸ¥è¯¢æ„å»ºå™¨
        â”œâ”€â”€ queryTopicBuilder.java             # ğŸ—ï¸ è¯é¢˜æŸ¥è¯¢æ„å»ºå™¨
        â””â”€â”€ queryCommentBuilder.java           # ğŸ—ï¸ è¯„è®ºæŸ¥è¯¢æ„å»ºå™¨
```

### 1.2 é¡µé¢å±‚çº§è¯´æ˜

| å±‚çº§ | å‘½å | èŒè´£ | æ•°é‡ |
|------|------|------|------|
| **é¡µé¢ç»„** | `Discovery/` | å‘ç°æ¨¡å—å®Œæ•´ä¸šåŠ¡ | 1ä¸ª |
| **ä¸»é¡µé¢** | `MainPage/` | ä¸‰TabåŠ¨æ€æµä¸»å…¥å£ | 1ä¸ª |
| **å­é¡µé¢** | `DetailPage/`, `TopicPage/`, `PublishPage/`, `TopicSelectPage/`, `LocationSelectPage/`, `ReportPage/` | å­åŠŸèƒ½é¡µé¢ | 6ä¸ª |
| **åŒºåŸŸç»„ä»¶** | `NavigationArea/`, `ContentArea/`, ç­‰ | é¡µé¢åŠŸèƒ½åŒºåŸŸ | 17ä¸ª |
| **æ ¸å¿ƒç»„ä»¶** | `TabSwitch/`, `FeedCard/`, ç­‰ | åŒºåŸŸæ ¸å¿ƒé€»è¾‘ | 20+ä¸ª |

---

## ğŸ“‹ äºŒã€æ ¸å¿ƒç±»å‹å®šä¹‰ï¼ˆtypes.tsï¼‰

### 2.1 é¡µé¢ç»„çº§åˆ«ç±»å‹

```typescript
// é¡µé¢ç»„Propsæ¥å£
export interface DiscoveryProps {
  initialTab?: TabType;
  userId?: string;
}

// é¡µé¢ç»„çŠ¶æ€ç±»å‹
export interface DiscoveryState {
  activeTab: TabType;
  isLoading: boolean;
  error: Error | null;
}

// Tabç±»å‹
export type TabType = 'follow' | 'hot' | 'local';
```

### 2.2 åŠ¨æ€å®ä½“ç±»å‹

```typescript
// åŠ¨æ€æ•°æ®ç±»å‹
export interface Feed {
  id: string;
  userId: string;
  userInfo: UserInfo;
  title?: string;
  content: string;
  mediaList: MediaItem[];
  topicList: Topic[];
  location?: LocationInfo;
  
  // äº’åŠ¨æ•°æ®
  likeCount: number;
  commentCount: number;
  shareCount: number;
  collectCount: number;
  viewCount: number;
  
  // ç”¨æˆ·äº’åŠ¨çŠ¶æ€
  isLiked: boolean;
  isCollected: boolean;
  
  // æ—¶é—´æˆ³
  createdAt: number;
  updatedAt: number;
}

// ç”¨æˆ·ä¿¡æ¯ç±»å‹
export interface UserInfo {
  id: string;
  nickname: string;
  avatar: string;
  gender?: 'male' | 'female';
  age?: number;
  tags?: UserTag[];
  isFollowed: boolean;
}

// ç”¨æˆ·æ ‡ç­¾ç±»å‹
export interface UserTag {
  type: 'gender_age' | 'certified' | 'popular' | 'custom';
  label: string;
  color: string;
}

// åª’ä½“é¡¹ç±»å‹
export interface MediaItem {
  id: string;
  type: 'image' | 'video';
  url: string;
  thumbnailUrl?: string;
  width: number;
  height: number;
  duration?: number; // è§†é¢‘æ—¶é•¿(ç§’)
}

// è¯é¢˜ç±»å‹
export interface Topic {
  name: string;
  description?: string;
  coverUrl?: string;
  participantCount: number;
  postCount: number;
  hotIndex: number;
  trendChange: number;
  createdAt: number;
}

// ä½ç½®ä¿¡æ¯ç±»å‹
export interface LocationInfo {
  id: string;
  name: string;
  address: string;
  latitude: number;
  longitude: number;
  distance?: number; // è·ç¦»ç”¨æˆ·çš„è·ç¦»(ç±³)
}
```

### 2.3 è¯„è®ºç›¸å…³ç±»å‹

```typescript
// è¯„è®ºæ•°æ®ç±»å‹
export interface Comment {
  id: string;
  feedId: string;
  userId: string;
  userInfo: UserInfo;
  content: string;
  replyTo?: string;
  replyToUser?: UserInfo;
  likeCount: number;
  isLiked: boolean;
  replies: Comment[];
  createdAt: number;
}

// è¯„è®ºæ’åºç±»å‹
export type CommentSortType = 'time' | 'hot' | 'like';
```

### 2.4 APIäº¤äº’ç±»å‹

```typescript
// APIå“åº”åŸºç¡€ç±»å‹
export interface ApiResponse<T> {
  code: number;
  message: string;
  data: T;
  timestamp: number;
}

// åˆ†é¡µæŸ¥è¯¢å‚æ•°
export interface PageQuery {
  page: number;
  pageSize: number;
}

// åŠ¨æ€åˆ—è¡¨å“åº”
export interface FeedListResponse {
  list: Feed[];
  total: number;
  hasMore: boolean;
  nextCursor?: string;
}

// åˆ›å»ºåŠ¨æ€è¯·æ±‚
export interface CreateFeedRequest {
  title?: string;
  content: string;
  mediaIds: string[];
  topicNames: string[];
  locationId?: string;
}

// åˆ›å»ºè¯„è®ºè¯·æ±‚
export interface CreateCommentRequest {
  feedId: string;
  content: string;
  replyTo?: string;
}

// ä¸¾æŠ¥è¯·æ±‚
export interface ReportRequest {
  targetType: 'feed' | 'comment' | 'user';
  targetId: string;
  reasonId: number;
  description?: string;
}

// äº’åŠ¨æ“ä½œè¯·æ±‚
export interface InteractionRequest {
  targetType: 'feed' | 'comment';
  targetId: string;
  action: 'like' | 'unlike' | 'collect' | 'uncollect';
}
```

### 2.5 ç»„ä»¶Propsç±»å‹

```typescript
// åŠ¨æ€å¡ç‰‡Props
export interface FeedCardProps {
  feed: Feed;
  onUserClick: (userId: string) => void;
  onTopicClick: (topicName: string) => void;
  onLike: (feedId: string) => void;
  onComment: (feedId: string) => void;
  onShare: (feedId: string) => void;
  onCollect: (feedId: string) => void;
}

// è¯„è®ºé¡¹Props
export interface CommentItemProps {
  comment: Comment;
  onReply: (commentId: string) => void;
  onLike: (commentId: string) => void;
  onMore: (commentId: string) => void;
}

// åª’ä½“æŸ¥çœ‹å™¨Props
export interface MediaViewerProps {
  mediaList: MediaItem[];
  initialIndex: number;
  onClose: () => void;
}
```

---

## âš™ï¸ ä¸‰ã€å¸¸é‡é…ç½®ï¼ˆconstants.tsï¼‰

### 3.1 UIå°ºå¯¸å¸¸é‡

```typescript
export const UI_SIZES = {
  // ç³»ç»Ÿæ é«˜åº¦
  SYSTEM_STATUS_BAR_HEIGHT: 44,
  NAVIGATION_BAR_HEIGHT: 56,
  BOTTOM_TAB_BAR_HEIGHT: 80,
  SAFE_AREA_BOTTOM: 34,
  
  // ç”¨æˆ·å¤´åƒå°ºå¯¸
  USER_AVATAR_SIZE_SMALL: 32,
  USER_AVATAR_SIZE_MEDIUM: 40,
  USER_AVATAR_SIZE_LARGE: 48,
  
  // å¡ç‰‡å°ºå¯¸
  CARD_PADDING_HORIZONTAL: 16,
  CARD_PADDING_VERTICAL: 12,
  CARD_MARGIN_BOTTOM: 8,
  
  // åª’ä½“å°ºå¯¸
  MEDIA_BORDER_RADIUS: 8,
  MEDIA_BORDER_RADIUS_LARGE: 12,
  MEDIA_GRID_GAP: 4,
  
  // æŒ‰é’®å°ºå¯¸
  BUTTON_HEIGHT: 32,
  BUTTON_HEIGHT_LARGE: 40,
  ICON_SIZE_SMALL: 16,
  ICON_SIZE_MEDIUM: 20,
  ICON_SIZE_LARGE: 24,
} as const;
```

### 3.2 é¢œè‰²å¸¸é‡

```typescript
export const COLORS = {
  // ä¸»é¢˜è‰²
  PRIMARY: '#8A2BE2',
  PRIMARY_LIGHT: '#A855F7',
  PRIMARY_DARK: '#6B21A8',
  
  // æ–‡å­—é¢œè‰²
  TEXT_PRIMARY: '#000000',
  TEXT_SECONDARY: '#666666',
  TEXT_TERTIARY: '#999999',
  TEXT_QUATERNARY: '#CCCCCC',
  TEXT_DISABLED: '#E5E5E5',
  
  // èƒŒæ™¯é¢œè‰²
  BACKGROUND_WHITE: '#FFFFFF',
  BACKGROUND_GRAY: '#F5F5F5',
  BACKGROUND_DARK: '#F0F0F0',
  BACKGROUND_MASK: 'rgba(0, 0, 0, 0.5)',
  
  // åŠŸèƒ½é¢œè‰²
  LIKE_COLOR: '#FF0000',
  LIKE_COLOR_ACTIVE: '#FF4444',
  COLLECT_COLOR: '#FFD700',
  SHARE_COLOR: '#666666',
  COMMENT_COLOR: '#666666',
  
  // æ ‡ç­¾é¢œè‰²
  TAG_GENDER_MALE: '#4A9EFF',
  TAG_GENDER_FEMALE: '#FF69B4',
  TAG_POPULAR: '#FF8C00',
  TAG_CERTIFIED: '#00C853',
  
  // çŠ¶æ€é¢œè‰²
  SUCCESS: '#00C853',
  ERROR: '#FF3B30',
  WARNING: '#FF9500',
  INFO: '#007AFF',
  
  // åˆ†éš”çº¿é¢œè‰²
  DIVIDER: '#F0F0F0',
  DIVIDER_LIGHT: '#F5F5F5',
  BORDER: '#E5E5E5',
} as const;
```

### 3.3 åŠ¨ç”»æ—¶é•¿å¸¸é‡

```typescript
export const ANIMATION_DURATION = {
  INSTANT: 0,
  FAST: 150,
  SHORT: 200,
  MEDIUM: 300,
  LONG: 500,
  SLOW: 800,
} as const;
```

### 3.4 Tabç±»å‹å¸¸é‡

```typescript
export const TAB_TYPES = {
  FOLLOW: 'follow',
  HOT: 'hot',
  LOCAL: 'local',
} as const;

export const TAB_LABELS = {
  [TAB_TYPES.FOLLOW]: 'å…³æ³¨',
  [TAB_TYPES.HOT]: 'çƒ­é—¨',
  [TAB_TYPES.LOCAL]: 'åŒåŸ',
} as const;
```

### 3.5 ä¸¾æŠ¥ç†ç”±å¸¸é‡

```typescript
export const REPORT_REASONS = {
  SPAM: {
    id: 1,
    title: 'åƒåœ¾ä¿¡æ¯',
    desc: 'å¹¿å‘Šã€è¥é”€ä¿¡æ¯ç­‰',
  },
  INAPPROPRIATE: {
    id: 2,
    title: 'ä¸å½“å†…å®¹',
    desc: 'è‰²æƒ…ã€æš´åŠ›ã€è¡€è…¥ç­‰',
  },
  COPYRIGHT: {
    id: 3,
    title: 'ä¾µæƒå†…å®¹',
    desc: 'ç›—ç”¨ä»–äººä½œå“ã€è‚–åƒç­‰',
  },
  FAKE: {
    id: 4,
    title: 'è™šå‡ä¿¡æ¯',
    desc: 'è°£è¨€ã€ä¸å®æ¶ˆæ¯ç­‰',
  },
  HARASSMENT: {
    id: 5,
    title: 'éªšæ‰°ä»–äºº',
    desc: 'æ¶æ„@ç”¨æˆ·ã€è¨€è¯­æ”»å‡»ç­‰',
  },
  OTHER: {
    id: 6,
    title: 'å…¶ä»–',
    desc: 'å…¶ä»–è¿è§„è¡Œä¸º',
  },
} as const;
```

### 3.6 è¯„è®ºæ’åºå¸¸é‡

```typescript
export const COMMENT_SORT_TYPES = {
  TIME: 'time',
  HOT: 'hot',
  LIKE: 'like',
} as const;

export const COMMENT_SORT_LABELS = {
  [COMMENT_SORT_TYPES.TIME]: 'æŒ‰æ—¶é—´',
  [COMMENT_SORT_TYPES.HOT]: 'æŒ‰çƒ­åº¦',
  [COMMENT_SORT_TYPES.LIKE]: 'æŒ‰ç‚¹èµ',
} as const;
```

### 3.7 APIé…ç½®å¸¸é‡

```typescript
export const API_CONFIG = {
  BASE_URL: '/api/v1/discovery',
  TIMEOUT: 10000,
  PAGE_SIZE: 20,
  RETRY_TIMES: 3,
  RETRY_DELAY: 1000,
} as const;
```

### 3.8 åª’ä½“é™åˆ¶å¸¸é‡

```typescript
export const MEDIA_LIMITS = {
  MAX_IMAGE_COUNT: 9,
  MAX_VIDEO_COUNT: 1,
  MAX_IMAGE_SIZE: 10 * 1024 * 1024, // 10MB
  MAX_VIDEO_SIZE: 100 * 1024 * 1024, // 100MB
  MAX_VIDEO_DURATION: 300, // 5åˆ†é’Ÿ
  
  IMAGE_QUALITY: 0.8,
  VIDEO_QUALITY: 'high',
} as const;
```

### 3.9 å†…å®¹é™åˆ¶å¸¸é‡

```typescript
export const CONTENT_LIMITS = {
  TITLE_MAX_LENGTH: 50,
  CONTENT_MAX_LENGTH: 1000,
  COMMENT_MAX_LENGTH: 500,
  REPORT_DESC_MAX_LENGTH: 500,
  
  MAX_TOPIC_COUNT: 5,
  MAX_TOPIC_NAME_LENGTH: 20,
} as const;
```

---

## ğŸš¨ å››ã€ä¸»æ–‡ä»¶ä¼˜å…ˆåŸåˆ™å¼ºåŒ–è¯´æ˜

### 4.1 ä¸¥ç¦åˆ›å»ºçš„ç‹¬ç«‹æ–‡ä»¶ç±»å‹

```
ğŸš« âŒ ç»å¯¹ç¦æ­¢åˆ›å»ºä»¥ä¸‹ç±»å‹çš„ç‹¬ç«‹æ–‡ä»¶ï¼š

1. çŠ¶æ€ç®¡ç†æ–‡ä»¶ï¼š
   âŒ useDiscoveryState.ts
   âŒ useMainPageData.ts
   âŒ usePublishFlow.ts
   âŒ useToggle.ts / useLoading.ts / useVisible.ts
   
2. äº‹ä»¶å¤„ç†æ–‡ä»¶ï¼š
   âŒ onClickHandlers.ts
   âŒ onLongPressHandlers.ts
   âŒ eventHandlers.ts
   
3. å·¥å…·å‡½æ•°æ–‡ä»¶ï¼š
   âŒ utilsFormat.tsï¼ˆæ ¼å¼åŒ–å‡½æ•°ï¼‰
   âŒ utilsDisplay.tsï¼ˆæ˜¾ç¤ºå·¥å…·ï¼‰
   âŒ utilsHelper.tsï¼ˆè¾…åŠ©å‡½æ•°ï¼‰
   âŒ utilsCalculate.tsï¼ˆè®¡ç®—å‡½æ•°ï¼‰
   
4. æ•°æ®å¤„ç†æ–‡ä»¶ï¼š
   âŒ processData.ts
   âŒ processValidation.ts
   âŒ processContent.ts
```

### 4.2 æ­£ç¡®çš„å®ç°æ–¹å¼

```typescript
âœ… æ‰€æœ‰é€»è¾‘éƒ½é›†ä¸­åœ¨ä¸»æ–‡ä»¶çš„å…«æ®µå¼ç»“æ„ä¸­ï¼š

// MainPage/index.tsx
export default function MainPage() {
  // #region 5. Utils & Helpers
  // ğŸ¯ æ‰€æœ‰å·¥å…·å‡½æ•°é›†ä¸­åœ¨è¿™é‡Œ
  const formatCount = (count: number) => {
    if (count >= 10000) return `${(count / 10000).toFixed(1)}ä¸‡`;
    return count.toString();
  };
  
  const formatTime = (timestamp: number) => {
    // æ—¶é—´æ ¼å¼åŒ–é€»è¾‘
  };
  
  const calculateLayout = (count: number) => {
    // å¸ƒå±€è®¡ç®—é€»è¾‘
  };
  // #endregion
  
  // #region 6. State Management
  // ğŸ¯ æ‰€æœ‰çŠ¶æ€ç®¡ç†é›†ä¸­åœ¨è¿™é‡Œ
  const [activeTab, setActiveTab] = useState('hot');
  const [feedList, setFeedList] = useState([]);
  const [isLoading, setIsLoading] = useState(false);
  const [error, setError] = useState(null);
  // #endregion
  
  // #region 7. Domain Logic
  // ğŸ¯ æ‰€æœ‰äº‹ä»¶å¤„ç†å’Œä¸šåŠ¡é€»è¾‘é›†ä¸­åœ¨è¿™é‡Œ
  const handleTabChange = useCallback((tab) => {
    setActiveTab(tab);
    loadFeedList(tab);
  }, []);
  
  const handleLike = useCallback((feedId) => {
    // ç‚¹èµé€»è¾‘
  }, []);
  
  const loadFeedList = async (tab) => {
    setIsLoading(true);
    try {
      const data = await apiFetchFeedList(tab);
      setFeedList(data);
    } catch (err) {
      setError(err);
    } finally {
      setIsLoading(false);
    }
  };
  // #endregion
  
  // #region 8. UI Components & Rendering
  return (/* JSX */);
  // #endregion
}
```

### 4.3 ç§»åŠ¨ç«¯ç‰¹æœ‰åŠŸèƒ½ä¾‹å¤–ï¼ˆæå°‘æ•°æƒ…å†µï¼‰

```
âš ï¸ ä»…ä»¥ä¸‹ç§»åŠ¨ç«¯ç‰¹æœ‰åŠŸèƒ½å¯ä»¥è€ƒè™‘æŠ½ç¦»ï¼ˆå¿…é¡»æœ‰å……åˆ†ç†ç”±ï¼‰ï¼š

1. è®¾å¤‡æƒé™å¤„ç†ï¼ˆè·¨å¤šä¸ªé¡µé¢å¤ç”¨ï¼‰ï¼š
   âš ï¸ permissions.ts - ç›¸æœºã€ç›¸å†Œã€ä½ç½®æƒé™è¯·æ±‚

2. å¤æ‚åª’ä½“å¤„ç†ï¼ˆ>100è¡Œä»£ç ä¸”ç‹¬ç«‹ï¼‰ï¼š
   âš ï¸ mediaCompress.ts - å›¾ç‰‡å‹ç¼©ã€è§†é¢‘å‹ç¼©ç®—æ³•

3. ç¬¬ä¸‰æ–¹SDKå°è£…ï¼ˆå¿…é¡»ç»Ÿä¸€ç®¡ç†ï¼‰ï¼š
   âš ï¸ mapSDK.ts - åœ°å›¾SDKå°è£…
   âš ï¸ paymentSDK.ts - æ”¯ä»˜SDKå°è£…

âŒ ä½†ä»ç„¶ç¦æ­¢ä¸ºç®€å•çš„UIçŠ¶æ€ã€è¡¨å•å¤„ç†ã€æ ¼å¼åŒ–å‡½æ•°åˆ›å»ºç‹¬ç«‹æ–‡ä»¶
```

---

*ç”±äºæ–‡æ¡£ç¯‡å¹…è¾ƒé•¿ï¼Œæˆ‘å°†åˆ†å¤šä¸ªéƒ¨åˆ†åˆ›å»ºã€‚è¿™æ˜¯ç¬¬ä¸€éƒ¨åˆ†ï¼ŒåŒ…å«äº†ï¼š*
- *æ–‡æ¡£ä¿¡æ¯å’Œæ¶æ„æ ‡å‡†æ£€æŸ¥*
- *å®Œæ•´çš„é¡µé¢ç»„å±‚çº§ç»“æ„*
- *æ ¸å¿ƒç±»å‹å®šä¹‰*
- *æ‰€æœ‰å¸¸é‡é…ç½®*
- *ğŸ¯ ä¸»æ–‡ä»¶ä¼˜å…ˆåŸåˆ™å¼ºåŒ–è¯´æ˜ï¼ˆæ–°å¢ï¼‰*

*æ¥ä¸‹æ¥è¯·å‚è€ƒè¡¥å……æ–‡æ¡£äº†è§£ï¼š*
- *å‰ç«¯APIæ¥å£å±‚è®¾è®¡*
- *åç«¯äº¤äº’å±‚è®¾è®¡*
- *å…«æ®µå¼ä»£ç å®Œæ•´ç¤ºä¾‹*
- *æ€§èƒ½ä¼˜åŒ–æ–¹æ¡ˆ*
- *å®æ–½æ£€æŸ¥æ¸…å•*
