# å‘ç°é¡µé¢æ¨¡å—æ¶æ„è®¾è®¡æ–‡æ¡£ v2.0 - è¡¥å……æ–‡æ¡£

> **æœ¬æ–‡æ¡£æ˜¯ã€Šå‘ç°é¡µé¢æ¨¡å—æ¶æ„è®¾è®¡æ–‡æ¡£v2.0.mdã€‹çš„è¡¥å……éƒ¨åˆ†**

---

## ğŸš¨ é‡è¦æ›´æ–°è¯´æ˜ï¼ˆ2025å¹´9æœˆ30æ—¥ï¼‰

### âœ… æœ¬æ¬¡æ›´æ–°é‡ç‚¹ï¼šå¼ºåŒ–ä¸»æ–‡ä»¶ä¼˜å…ˆåŸåˆ™

åŸºäºæ ¸å¿ƒæ¶æ„æ ‡å‡†UNIVERSAL_COMPONENT_ARCHITECTURE_CORE v2.5çš„è¦æ±‚ï¼Œæœ¬æ–‡æ¡£å·²è¿›è¡Œé‡å¤§æ›´æ–°ï¼š

**ğŸ¯ å¼ºåŒ–çš„æ ¸å¿ƒåŸåˆ™ï¼š**
1. **âŒ ä¸¥ç¦è¿‡åº¦æ–‡ä»¶æ‹†åˆ†** - ç¦æ­¢ä¸ºçŠ¶æ€ã€äº‹ä»¶ã€å·¥å…·å‡½æ•°åˆ›å»ºç‹¬ç«‹æ–‡ä»¶
2. **âœ… ä¸»æ–‡ä»¶é›†ä¸­ç®¡ç†** - æ‰€æœ‰é€»è¾‘å¿…é¡»é›†ä¸­åœ¨ä¸»æ–‡ä»¶çš„å…«æ®µå¼ç»“æ„ä¸­
3. **âš ï¸ æœ‰é™ä¾‹å¤–æƒ…å†µ** - ä»…è®¾å¤‡æƒé™ã€å¤æ‚ç®—æ³•ç­‰æå°‘æ•°æƒ…å†µå¯æŠ½ç¦»

**ğŸš« æ˜ç¡®ç¦æ­¢åˆ›å»ºçš„æ–‡ä»¶ï¼š**
- âŒ useDiscoveryState.tsã€useMainPageData.tsã€usePublishFlow.ts
- âŒ utilsFormat.tsã€utilsDisplay.tsã€utilsHelper.ts
- âŒ processData.tsã€processValidation.ts
- âŒ onClickHandlers.tsã€eventHandlers.ts

**âœ… æ­£ç¡®çš„å®ç°æ–¹å¼ï¼š**
- âœ… çŠ¶æ€ç®¡ç† â†’ ä¸»æ–‡ä»¶ç¬¬6æ®µï¼ˆState Managementï¼‰
- âœ… å·¥å…·å‡½æ•° â†’ ä¸»æ–‡ä»¶ç¬¬5æ®µï¼ˆUtils & Helpersï¼‰
- âœ… äº‹ä»¶å¤„ç† â†’ ä¸»æ–‡ä»¶ç¬¬7æ®µï¼ˆDomain Logicï¼‰

---

## ğŸ“‹ è¡¥å……å†…å®¹ç›®å½•

1. å‰ç«¯APIæ¥å£å±‚å®Œæ•´å®ç°
2. åç«¯äº¤äº’å±‚å®Œæ•´å®ç°
3. å…«æ®µå¼ä»£ç ç»“æ„ç¤ºä¾‹
4. **çŠ¶æ€ç®¡ç†ç­–ç•¥ï¼ˆå¼ºåŒ–ç‰ˆ - ä¸»æ–‡ä»¶ä¼˜å…ˆï¼‰** â­
5. é”™è¯¯å¤„ç†ä¸è¾¹ç•Œæƒ…å†µ
6. æ€§èƒ½ä¼˜åŒ–å®æ–½æ–¹æ¡ˆ
7. **å®æ–½æ£€æŸ¥æ¸…å•ï¼ˆæ–°å¢ä¸»æ–‡ä»¶é›†ä¸­åŒ–æ£€æŸ¥ï¼‰** â­

---

## ğŸŒ å››ã€å‰ç«¯APIæ¥å£å±‚å®Œæ•´å®ç°

[è¯¦ç»†å†…å®¹è¯·å‚è€ƒä¸»æ–‡æ¡£ç¬¬å››ç« ]

### è¡¥å……è¯´æ˜

æ‰€æœ‰APIæ¥å£éƒ½å·²åœ¨ä¸»æ–‡æ¡£ä¸­å®šä¹‰å®Œæˆï¼ŒåŒ…å«ï¼š
- âœ… apiDiscoveryMain.ts - åŠ¨æ€æµAPI
- âœ… apiDiscoveryDetail.ts - è¯¦æƒ…API
- âœ… apiDiscoveryTopic.ts - è¯é¢˜API  
- âœ… apiDiscoveryPublish.ts - å‘å¸ƒAPI
- âœ… apiDiscoveryComment.ts - è¯„è®ºAPI
- âœ… apiDiscoveryInteraction.ts - äº’åŠ¨API
- âœ… apiDiscoveryReport.ts - ä¸¾æŠ¥API

---

## ğŸ”Œ äº”ã€åç«¯äº¤äº’å±‚å®Œæ•´å®ç°

[è¯¦ç»†å†…å®¹è¯·å‚è€ƒä¸»æ–‡æ¡£ç¬¬äº”ç« ]

### è¡¥å……ï¼šå®Œæ•´çš„å®ä½“-DTO-VOæ˜ å°„å…³ç³»

```mermaid
graph TD
    A[Entityå®ä½“å±‚] -->|è½¬æ¢| B[DTOä¼ è¾“å±‚]
    A -->|æŸ¥è¯¢| C[VOæŸ¥è¯¢å±‚]
    B -->|APIå“åº”| D[å‰ç«¯]
    C -->|æŸ¥è¯¢æ¡ä»¶| E[ServiceImpl]
    E -->|QueryWrapper| F[Mapper]
    F -->|MyBatis-Plus| G[Database]
```

---

## ğŸ“ å…­ã€å…«æ®µå¼ä»£ç ç»“æ„å®Œæ•´ç¤ºä¾‹

[ä¸»æ–‡ä»¶ç¤ºä¾‹å·²åœ¨ä¸»æ–‡æ¡£ç¬¬å…­ç« ä¸­æä¾›]

### 6.2 åŒºåŸŸç»„ä»¶ç¤ºä¾‹ï¼ˆFeedCard/index.tsxï¼‰

```typescript
// #region 1. File Banner & TOC
/**
 * åŠ¨æ€å¡ç‰‡ç»„ä»¶ - åŠ¨æ€å†…å®¹å±•ç¤º
 * 
 * TOC:
 * [1] Imports
 * [2] Types & Schema
 * [3] Constants & Config
 * [4] Utils & Helpers
 * [5] State Management
 * [6] Domain Logic
 * [7] UI Components & Rendering
 * [8] Exports
 */
// #endregion

// #region 2. Imports
import React, { useState, useCallback } from 'react';
import { View, Text, TouchableOpacity, Image } from 'react-native';
import { FeedCardProps } from '../../types';
import { COLORS, UI_SIZES, ANIMATION_DURATION } from '../../constants';
// #endregion

// #region 3. Types & Schema
interface CardState {
  isExpanded: boolean;
  imageLoadErrors: Set<string>;
}
// #endregion

// #region 4. Constants & Config
const MAX_CONTENT_LINES = 3;
const IMAGE_GRID_COLUMNS = 3;
// #endregion

// #region 5. Utils & Helpers
// ğŸ¯ é›†ä¸­ç®¡ç†ç»„ä»¶å†…å·¥å…·å‡½æ•°

/**
 * è®¡ç®—å›¾ç‰‡ç½‘æ ¼å¸ƒå±€
 */
const calculateImageLayout = (count: number) => {
  if (count === 1) return { columns: 1, aspectRatio: 1.5 };
  if (count === 2) return { columns: 2, aspectRatio: 1 };
  return { columns: 3, aspectRatio: 1 };
};

/**
 * æ ¼å¼åŒ–äº’åŠ¨æ•°å­—
 */
const formatCount = (count: number): string => {
  if (count >= 10000) return `${(count / 10000).toFixed(1)}ä¸‡`;
  if (count >= 1000) return `${(count / 1000).toFixed(1)}k`;
  return count.toString();
};
// #endregion

// #region 6. State Management
// ğŸ¯ é›†ä¸­ç®¡ç†ç»„ä»¶çŠ¶æ€

const FeedCard: React.FC<FeedCardProps> = ({
  feed,
  onUserClick,
  onTopicClick,
  onLike,
  onComment,
  onShare,
  onCollect,
}) => {
  // å¡ç‰‡çŠ¶æ€
  const [state, setState] = useState<CardState>({
    isExpanded: false,
    imageLoadErrors: new Set(),
  });
  
  // ç‚¹èµåŠ¨ç”»çŠ¶æ€
  const [isLikeAnimating, setIsLikeAnimating] = useState(false);
  
  // #region 7. Domain Logic
  // ğŸ¯ é›†ä¸­ç®¡ç†äº‹ä»¶å¤„ç†
  
  /**
   * å¤„ç†ç”¨æˆ·å¤´åƒç‚¹å‡»
   */
  const handleUserClick = useCallback(() => {
    onUserClick(feed.userId);
  }, [feed.userId, onUserClick]);
  
  /**
   * å¤„ç†è¯é¢˜ç‚¹å‡»
   */
  const handleTopicClick = useCallback((topicName: string) => {
    onTopicClick(topicName);
  }, [onTopicClick]);
  
  /**
   * å¤„ç†ç‚¹èµ
   */
  const handleLike = useCallback(() => {
    setIsLikeAnimating(true);
    setTimeout(() => setIsLikeAnimating(false), ANIMATION_DURATION.MEDIUM);
    onLike(feed.id);
  }, [feed.id, onLike]);
  
  /**
   * å¤„ç†æ–‡å­—å±•å¼€/æ”¶èµ·
   */
  const handleToggleExpand = useCallback(() => {
    setState(prev => ({ ...prev, isExpanded: !prev.isExpanded }));
  }, []);
  
  /**
   * å¤„ç†å›¾ç‰‡åŠ è½½å¤±è´¥
   */
  const handleImageError = useCallback((imageId: string) => {
    setState(prev => ({
      ...prev,
      imageLoadErrors: new Set([...prev.imageLoadErrors, imageId]),
    }));
  }, []);
  // #endregion
  
  // #region 8. UI Components & Rendering
  return (
    <View style={styles.card}>
      {/* ç”¨æˆ·ä¿¡æ¯åŒº */}
      <TouchableOpacity 
        style={styles.userArea}
        onPress={handleUserClick}
      >
        <Image 
          source={{ uri: feed.userInfo.avatar }}
          style={styles.avatar}
        />
        <View style={styles.userInfo}>
          <Text style={styles.nickname}>{feed.userInfo.nickname}</Text>
          <Text style={styles.time}>{formatRelativeTime(feed.createdAt)}</Text>
        </View>
      </TouchableOpacity>
      
      {/* å†…å®¹åŒº */}
      <TouchableOpacity 
        onPress={handleToggleExpand}
        style={styles.contentArea}
      >
        <Text 
          style={styles.content}
          numberOfLines={state.isExpanded ? undefined : MAX_CONTENT_LINES}
        >
          {feed.content}
        </Text>
        
        {/* è¯é¢˜æ ‡ç­¾ */}
        {feed.topicList.length > 0 && (
          <View style={styles.topicArea}>
            {feed.topicList.map(topic => (
              <TouchableOpacity
                key={topic.name}
                onPress={() => handleTopicClick(topic.name)}
              >
                <Text style={styles.topicTag}>#{topic.name}</Text>
              </TouchableOpacity>
            ))}
          </View>
        )}
      </TouchableOpacity>
      
      {/* åª’ä½“åŒº */}
      {feed.mediaList.length > 0 && (
        <View style={styles.mediaArea}>
          {feed.mediaList.map((media, index) => (
            <Image
              key={media.id}
              source={{ uri: media.url }}
              style={styles.mediaImage}
              onError={() => handleImageError(media.id)}
            />
          ))}
        </View>
      )}
      
      {/* äº’åŠ¨æ  */}
      <View style={styles.actionBar}>
        <TouchableOpacity 
          style={styles.actionButton}
          onPress={handleLike}
        >
          <Text style={[
            styles.actionIcon,
            feed.isLiked && styles.actionIconActive,
            isLikeAnimating && styles.actionIconAnimating,
          ]}>
            â¤ï¸
          </Text>
          <Text style={styles.actionCount}>
            {formatCount(feed.likeCount)}
          </Text>
        </TouchableOpacity>
        
        {/* è¯„è®ºã€åˆ†äº«ã€æ”¶è—æŒ‰é’®... */}
      </View>
    </View>
  );
  // #endregion
};
// #endregion

// #region 9. Exports
export default FeedCard;

const styles = {
  card: {
    backgroundColor: COLORS.BACKGROUND_WHITE,
    marginBottom: UI_SIZES.CARD_MARGIN_BOTTOM,
    paddingHorizontal: UI_SIZES.CARD_PADDING_HORIZONTAL,
    paddingVertical: UI_SIZES.CARD_PADDING_VERTICAL,
  },
  // ... å…¶ä»–æ ·å¼
};
// #endregion
```

---

## ğŸ”„ ä¸ƒã€çŠ¶æ€ç®¡ç†ç­–ç•¥è¯¦è§£ï¼ˆå¼ºåˆ¶ä¸»æ–‡ä»¶ä¼˜å…ˆï¼‰

### 7.1 ä¸»æ–‡ä»¶ä¼˜å…ˆåŸåˆ™ï¼ˆå¼ºåˆ¶æ‰§è¡Œï¼‰

**âœ… æ­£ç¡®åšæ³•ï¼šæ‰€æœ‰çŠ¶æ€é›†ä¸­åœ¨ä¸»æ–‡ä»¶å†…**
```typescript
// âœ… MainPage/index.tsx - å®Œæ•´çš„ä¸»æ–‡ä»¶å®ç°
const MainPage = () => {
  // #region 6. State Management
  // ğŸ¯ æ‰€æœ‰çŠ¶æ€é›†ä¸­ç®¡ç†ï¼ŒåŒ…æ‹¬Tabã€åˆ—è¡¨ã€åŠ è½½çŠ¶æ€
  const [activeTab, setActiveTab] = useState('hot');
  const [feedList, setFeedList] = useState([]);
  const [isLoading, setIsLoading] = useState(false);
  const [error, setError] = useState(null);
  const [refreshing, setRefreshing] = useState(false);
  const [hasMore, setHasMore] = useState(true);
  // #endregion
  
  // #region 7. Domain Logic
  // ğŸ¯ æ‰€æœ‰ä¸šåŠ¡é€»è¾‘é›†ä¸­åœ¨ä¸»æ–‡ä»¶å†…
  const loadData = async (tab: string) => {
    setIsLoading(true);
    try {
      const data = await apiDiscoveryMain.getFeedList({ tab, page: 1 });
      setFeedList(data.list);
      setHasMore(data.hasMore);
    } catch (err) {
      setError(err);
    } finally {
      setIsLoading(false);
    }
  };
  
  const handleTabChange = useCallback((tab: string) => {
    setActiveTab(tab);
    loadData(tab);
  }, []);
  
  const handleRefresh = useCallback(async () => {
    setRefreshing(true);
    await loadData(activeTab);
    setRefreshing(false);
  }, [activeTab]);
  // #endregion
  
  return (/* JSX */);
};
```

**âŒ é”™è¯¯åšæ³•ï¼šè¿‡åº¦æ–‡ä»¶æ‹†åˆ†**
```typescript
// âŒ ç»å¯¹ç¦æ­¢ï¼šuseDiscoveryState.ts
// âŒ è¿™ç§æ–‡ä»¶ä¸åº”è¯¥è¢«åˆ›å»ºï¼
export function useDiscoveryState() {
  const [activeTab, setActiveTab] = useState('hot');
  return { activeTab, setActiveTab };
}

// âŒ ç»å¯¹ç¦æ­¢ï¼šuseDiscoveryData.ts
// âŒ è¿™ç§æ–‡ä»¶ä¸åº”è¯¥è¢«åˆ›å»ºï¼
export function useDiscoveryData() {
  const [feedList, setFeedList] = useState([]);
  return { feedList, setFeedList };
}

// âŒ ç»å¯¹ç¦æ­¢ï¼šutilsFormat.ts
// âŒ æ ¼å¼åŒ–å‡½æ•°å¿…é¡»åœ¨ä¸»æ–‡ä»¶çš„ç¬¬5æ®µï¼ˆUtils & Helpersï¼‰ä¸­å®šä¹‰ï¼
export const formatCount = (count: number) => {
  if (count >= 10000) return `${(count / 10000).toFixed(1)}ä¸‡`;
  return count.toString();
};
```

### 7.2 ç§»åŠ¨ç«¯ç‰¹æœ‰åŠŸèƒ½çš„æœ‰é™ä¾‹å¤–

**ğŸš¨ è­¦å‘Šï¼šä»¥ä¸‹æƒ…å†µä»éœ€è°¨æ…ï¼Œä¼˜å…ˆå°è¯•åœ¨ä¸»æ–‡ä»¶å†…å®ç°**

```typescript
// âš ï¸ ä¾‹å¤–æƒ…å†µ1ï¼šè®¾å¤‡æƒé™è¯·æ±‚ï¼ˆè·¨å¤šä¸ªé¡µé¢å¤ç”¨ï¼‰
// utils/permissions.ts
export const requestCameraPermission = async (): Promise<boolean> => {
  // ç›¸æœºæƒé™è¯·æ±‚é€»è¾‘
  // ç†ç”±ï¼šè·¨PublishPageã€ProfilePageç­‰å¤šä¸ªé¡µé¢ä½¿ç”¨
};

// âš ï¸ ä¾‹å¤–æƒ…å†µ2ï¼šå¤æ‚å›¾ç‰‡å‹ç¼©ç®—æ³•ï¼ˆ>100è¡Œç‹¬ç«‹é€»è¾‘ï¼‰
// utils/mediaCompress.ts
export const compressImage = async (uri: string): Promise<string> => {
  // å¤æ‚çš„å›¾ç‰‡å‹ç¼©ç®—æ³•
  // ç†ç”±ï¼šç®—æ³•é€»è¾‘è¶…è¿‡100è¡Œä¸”å®Œå…¨ç‹¬ç«‹
};

// âŒ ä½†ä»¥ä¸‹ä»ç„¶ç¦æ­¢æŠ½ç¦»ï¼š
// - ç®€å•çš„å‘å¸ƒè¡¨å•çŠ¶æ€ï¼ˆå¿…é¡»åœ¨PublishPage/index.tsxå†…ï¼‰
// - åª’ä½“é€‰æ‹©çŠ¶æ€ï¼ˆå¿…é¡»åœ¨PublishPage/index.tsxå†…ï¼‰
// - ä¸Šä¼ è¿›åº¦çŠ¶æ€ï¼ˆå¿…é¡»åœ¨PublishPage/index.tsxå†…ï¼‰
```

**æ­£ç¡®çš„PublishPageå®ç°ç¤ºä¾‹ï¼š**
```typescript
// âœ… PublishPage/index.tsx - æ‰€æœ‰çŠ¶æ€å’Œé€»è¾‘é›†ä¸­ç®¡ç†
const PublishPage = () => {
  // #region 6. State Management
  // ğŸ¯ å‘å¸ƒé¡µé¢çš„æ‰€æœ‰çŠ¶æ€éƒ½åœ¨è¿™é‡Œ
  const [content, setContent] = useState('');
  const [selectedImages, setSelectedImages] = useState<string[]>([]);
  const [selectedTopics, setSelectedTopics] = useState<string[]>([]);
  const [location, setLocation] = useState<Location | null>(null);
  const [isUploading, setIsUploading] = useState(false);
  const [uploadProgress, setUploadProgress] = useState(0);
  // #endregion
  
  // #region 7. Domain Logic
  // ğŸ¯ å‘å¸ƒç›¸å…³çš„æ‰€æœ‰é€»è¾‘éƒ½åœ¨è¿™é‡Œ
  const handleSelectImage = useCallback(async () => {
    // æƒé™æ£€æŸ¥å¯ä»¥è°ƒç”¨å¤–éƒ¨utils/permissions.ts
    const hasPermission = await requestCameraPermission();
    if (!hasPermission) return;
    
    // é€‰æ‹©å›¾ç‰‡
    const result = await ImagePicker.launchImageLibrary({});
    if (result.assets) {
      setSelectedImages(prev => [...prev, ...result.assets.map(a => a.uri)]);
    }
  }, []);
  
  const handlePublish = useCallback(async () => {
    setIsUploading(true);
    try {
      // å›¾ç‰‡å‹ç¼©å¯ä»¥è°ƒç”¨å¤–éƒ¨utils/mediaCompress.ts
      const compressedImages = await Promise.all(
        selectedImages.map(uri => compressImage(uri))
      );
      
      // ä¸Šä¼ é€»è¾‘
      const mediaIds = await uploadImages(compressedImages, (progress) => {
        setUploadProgress(progress);
      });
      
      // åˆ›å»ºåŠ¨æ€
      await apiDiscoveryPublish.createFeed({
        content,
        mediaIds,
        topicNames: selectedTopics,
        locationId: location?.id,
      });
      
      // æˆåŠŸåè¿”å›
      navigation.goBack();
    } catch (error) {
      Alert.alert('å‘å¸ƒå¤±è´¥', error.message);
    } finally {
      setIsUploading(false);
    }
  }, [content, selectedImages, selectedTopics, location]);
  // #endregion
  
  return (/* JSX */);
};
```

---

## ğŸš¨ å…«ã€é”™è¯¯å¤„ç†ä¸è¾¹ç•Œæƒ…å†µ

### 8.1 APIé”™è¯¯å¤„ç†å°è£…

```typescript
// utils/errorHandler.ts
export class ApiError extends Error {
  code: number;
  data?: any;
  
  constructor(code: number, message: string, data?: any) {
    super(message);
    this.code = code;
    this.data = data;
  }
}

export const handleApiError = (error: ApiError) => {
  switch (error.code) {
    case 401:
      // æœªæˆæƒï¼šæ¸…é™¤tokenï¼Œè·³è½¬ç™»å½•
      clearAuthToken();
      navigateToLogin();
      showToast('è¯·å…ˆç™»å½•');
      break;
      
    case 403:
      // æƒé™ä¸è¶³
      showToast('æƒé™ä¸è¶³ï¼Œæ— æ³•æ‰§è¡Œè¯¥æ“ä½œ');
      break;
      
    case 404:
      // èµ„æºä¸å­˜åœ¨
      showToast('å†…å®¹ä¸å­˜åœ¨æˆ–å·²è¢«åˆ é™¤');
      break;
      
    case 429:
      // è¯·æ±‚é¢‘ç¹
      showToast('æ“ä½œè¿‡äºé¢‘ç¹ï¼Œè¯·ç¨åå†è¯•');
      break;
      
    case 500:
    case 502:
    case 503:
      // æœåŠ¡å™¨é”™è¯¯
      showToast('æœåŠ¡å™¨å¼‚å¸¸ï¼Œè¯·ç¨åé‡è¯•');
      break;
      
    default:
      showToast(error.message || 'æ“ä½œå¤±è´¥ï¼Œè¯·é‡è¯•');
  }
};
```

### 8.2 ç©ºçŠ¶æ€ç»„ä»¶

```typescript
// EmptyState.tsx
export const EmptyState: React.FC<{
  type: 'no_data' | 'no_network' | 'error';
  message?: string;
  onRetry?: () => void;
}> = ({ type, message, onRetry }) => {
  const config = {
    no_data: {
      icon: 'ğŸ“­',
      title: 'æš‚æ— å†…å®¹',
      desc: message || 'è¿˜æ²¡æœ‰ç›¸å…³å†…å®¹',
    },
    no_network: {
      icon: 'ğŸ“¡',
      title: 'ç½‘ç»œæœªè¿æ¥',
      desc: 'è¯·æ£€æŸ¥ç½‘ç»œè®¾ç½®åé‡è¯•',
    },
    error: {
      icon: 'âš ï¸',
      title: 'åŠ è½½å¤±è´¥',
      desc: message || 'å‡ºç°äº†ä¸€äº›é—®é¢˜',
    },
  }[type];
  
  return (
    <View style={styles.empty}>
      <Text style={styles.icon}>{config.icon}</Text>
      <Text style={styles.title}>{config.title}</Text>
      <Text style={styles.desc}>{config.desc}</Text>
      {onRetry && (
        <TouchableOpacity onPress={onRetry} style={styles.retryBtn}>
          <Text>é‡è¯•</Text>
        </TouchableOpacity>
      )}
    </View>
  );
};
```

### 8.3 æƒé™è¯·æ±‚å¤„ç†

```typescript
// utils/permissions.ts
export const requestPermission = async (
  type: 'camera' | 'photo' | 'location'
): Promise<boolean> => {
  try {
    const result = await PermissionsAndroid.request(
      PERMISSION_MAP[type]
    );
    
    if (result === 'denied') {
      Alert.alert(
        `éœ€è¦${PERMISSION_NAMES[type]}æƒé™`,
        `è¯·åœ¨è®¾ç½®ä¸­å¼€å¯${PERMISSION_NAMES[type]}æƒé™`,
        [
          { text: 'å–æ¶ˆ', style: 'cancel' },
          { text: 'å»è®¾ç½®', onPress: () => Linking.openSettings() },
        ]
      );
      return false;
    }
    
    return result === 'granted';
  } catch (error) {
    console.error('Permission request error:', error);
    return false;
  }
};
```

---

## âš¡ ä¹ã€æ€§èƒ½ä¼˜åŒ–å®æ–½æ–¹æ¡ˆ

### 9.1 åˆ—è¡¨è™šæ‹ŸåŒ–å®ç°

```typescript
import { FlatList } from 'react-native';

const FeedList: React.FC<FeedListProps> = ({ feeds, onLoadMore }) => {
  // ä¼˜åŒ–æ¸²æŸ“æ€§èƒ½
  const renderItem = useCallback(({ item }: { item: Feed }) => (
    <FeedCard feed={item} />
  ), []);
  
  // ä¼˜åŒ–keyæå–
  const keyExtractor = useCallback((item: Feed) => item.id, []);
  
  // ä¼˜åŒ–itemé«˜åº¦ä¼°ç®—
  const getItemLayout = useCallback((data, index) => ({
    length: 280, // ä¼°ç®—é«˜åº¦
    offset: 280 * index,
    index,
  }), []);
  
  return (
    <FlatList
      data={feeds}
      renderItem={renderItem}
      keyExtractor={keyExtractor}
      getItemLayout={getItemLayout}
      onEndReached={onLoadMore}
      onEndReachedThreshold={0.5}
      removeClippedSubviews={true}
      maxToRenderPerBatch={10}
      updateCellsBatchingPeriod={50}
      initialNumToRender={10}
      windowSize={5}
    />
  );
};
```

### 9.2 å›¾ç‰‡ä¼˜åŒ–ç­–ç•¥

```typescript
// ImageåŠ è½½ä¼˜åŒ–
const OptimizedImage: React.FC<ImageProps> = ({ uri, style }) => {
  const [isLoading, setIsLoading] = useState(true);
  const [error, setError] = useState(false);
  
  return (
    <View style={style}>
      {isLoading && <ImagePlaceholder />}
      <FastImage
        source={{
          uri,
          priority: FastImage.priority.normal,
          cache: FastImage.cacheControl.immutable,
        }}
        style={style}
        resizeMode="cover"
        onLoadStart={() => setIsLoading(true)}
        onLoad={() => setIsLoading(false)}
        onError={() => {
          setIsLoading(false);
          setError(true);
        }}
      />
      {error && <ImageErrorPlaceholder />}
    </View>
  );
};
```

### 9.3 æ•°æ®ç¼“å­˜ç­–ç•¥

```typescript
// å¤šå±‚ç¼“å­˜æœºåˆ¶
class CacheManager {
  private memoryCache = new Map<string, any>();
  private diskCache: AsyncStorage;
  
  async get<T>(key: string): Promise<T | null> {
    // 1. å†…å­˜ç¼“å­˜
    if (this.memoryCache.has(key)) {
      return this.memoryCache.get(key);
    }
    
    // 2. ç£ç›˜ç¼“å­˜
    const diskData = await AsyncStorage.getItem(key);
    if (diskData) {
      const parsed = JSON.parse(diskData);
      this.memoryCache.set(key, parsed);
      return parsed;
    }
    
    return null;
  }
  
  async set(key: string, value: any, ttl: number = 3600000) {
    // å†…å­˜ç¼“å­˜
    this.memoryCache.set(key, value);
    
    // ç£ç›˜ç¼“å­˜
    await AsyncStorage.setItem(key, JSON.stringify({
      value,
      expireAt: Date.now() + ttl,
    }));
  }
}

export const cacheManager = new CacheManager();
```

### 9.4 é˜²æŠ–èŠ‚æµå®ç°

```typescript
// é˜²æŠ–Hook
export function useDebounce<T>(value: T, delay: number): T {
  const [debouncedValue, setDebouncedValue] = useState(value);
  
  useEffect(() => {
    const timer = setTimeout(() => {
      setDebouncedValue(value);
    }, delay);
    
    return () => clearTimeout(timer);
  }, [value, delay]);
  
  return debouncedValue;
}

// èŠ‚æµHook
export function useThrottle<T extends (...args: any[]) => any>(
  callback: T,
  delay: number
): T {
  const lastRun = useRef(Date.now());
  
  return useCallback((...args) => {
    const now = Date.now();
    if (now - lastRun.current >= delay) {
      lastRun.current = now;
      callback(...args);
    }
  }, [callback, delay]) as T;
}
```

---

## ğŸ“± åã€ç§»åŠ¨ç«¯ç‰¹æ€§é€‚é…

### 10.1 å®‰å…¨åŒºåŸŸé€‚é…

```typescript
import { useSafeAreaInsets } from 'react-native-safe-area-context';

const MainPage = () => {
  const insets = useSafeAreaInsets();
  
  return (
    <View style={{
      paddingTop: insets.top,
      paddingBottom: insets.bottom,
    }}>
      {/* å†…å®¹ */}
    </View>
  );
};
```

### 10.2 é”®ç›˜å¤„ç†

```typescript
import { KeyboardAvoidingView, Platform } from 'react-native';

const CommentInput = () => {
  const [keyboardHeight, setKeyboardHeight] = useState(0);
  
  useEffect(() => {
    const showListener = Keyboard.addListener('keyboardDidShow', (e) => {
      setKeyboardHeight(e.endCoordinates.height);
    });
    const hideListener = Keyboard.addListener('keyboardDidHide', () => {
      setKeyboardHeight(0);
    });
    
    return () => {
      showListener.remove();
      hideListener.remove();
    };
  }, []);
  
  return (
    <KeyboardAvoidingView
      behavior={Platform.OS === 'ios' ? 'padding' : 'height'}
      keyboardVerticalOffset={keyboardHeight}
    >
      <TextInput />
    </KeyboardAvoidingView>
  );
};
```

### 10.3 æ‰‹åŠ¿å¤„ç†

```typescript
import { GestureDetector, Gesture } from 'react-native-gesture-handler';

const SwipeableCard = () => {
  const swipe = Gesture.Pan()
    .onUpdate((e) => {
      // å¤„ç†æ»‘åŠ¨
    })
    .onEnd((e) => {
      if (e.velocityX > 500) {
        // å³æ»‘
      } else if (e.velocityX < -500) {
        // å·¦æ»‘
      }
    });
  
  return (
    <GestureDetector gesture={swipe}>
      <View>{/* å†…å®¹ */}</View>
    </GestureDetector>
  );
};
```

---

## âœ… åä¸€ã€å®æ–½æ£€æŸ¥æ¸…å•ï¼ˆå¼ºåŒ–ç‰ˆï¼‰

### 11.1 æ¶æ„å®Œæ•´æ€§æ£€æŸ¥

- [ ] **æ–‡ä»¶ç»“æ„**
  - [ ] MainPageå’Œ6ä¸ªSubPagesç»“æ„æ­£ç¡®
  - [ ] 17ä¸ªComponentAreaNameå·²åˆ›å»º
  - [ ] æ‰€æœ‰æ ¸å¿ƒæ–‡ä»¶ï¼ˆindex/types/constants/READMEï¼‰å®Œæ•´

- [ ] **å‰åç«¯ä¸€ä½“åŒ–**
  - [ ] 7ä¸ªå‰ç«¯APIæ–‡ä»¶å®Œæ•´
  - [ ] 9ä¸ªEntityå®ä½“ç±»å®Œæ•´
  - [ ] 5ä¸ªDTOä¼ è¾“å¯¹è±¡å®Œæ•´
  - [ ] 3ä¸ªVOæŸ¥è¯¢å¯¹è±¡å®Œæ•´
  - [ ] 5ä¸ªControlleræ§åˆ¶å™¨å®Œæ•´
  - [ ] 5ä¸ªServiceæ¥å£å’Œå®ç°å®Œæ•´
  - [ ] 5ä¸ªMapperæ¥å£å®Œæ•´
  - [ ] MyBatis-Plusé…ç½®æ­£ç¡®

- [ ] **ğŸ¯ ä¸»æ–‡ä»¶é›†ä¸­åŒ–æ£€æŸ¥ï¼ˆæ–°å¢å¼ºåˆ¶é¡¹ï¼‰**
  - [ ] âŒ ç¡®è®¤æ²¡æœ‰åˆ›å»ºuseDiscoveryState.tsç­‰çŠ¶æ€Hookæ–‡ä»¶
  - [ ] âŒ ç¡®è®¤æ²¡æœ‰åˆ›å»ºuseMainPageData.tsç­‰æ•°æ®Hookæ–‡ä»¶
  - [ ] âŒ ç¡®è®¤æ²¡æœ‰åˆ›å»ºutilsFormat.tsç­‰å·¥å…·å‡½æ•°æ–‡ä»¶
  - [ ] âŒ ç¡®è®¤æ²¡æœ‰åˆ›å»ºutilsDisplay.tsç­‰æ˜¾ç¤ºå·¥å…·æ–‡ä»¶
  - [ ] âŒ ç¡®è®¤æ²¡æœ‰åˆ›å»ºprocessData.tsç­‰æ•°æ®å¤„ç†æ–‡ä»¶
  - [ ] âŒ ç¡®è®¤æ²¡æœ‰åˆ›å»ºonClickHandlers.tsç­‰äº‹ä»¶å¤„ç†æ–‡ä»¶
  - [ ] âœ… æ‰€æœ‰çŠ¶æ€ç®¡ç†éƒ½åœ¨ä¸»æ–‡ä»¶çš„ç¬¬6æ®µï¼ˆState Managementï¼‰
  - [ ] âœ… æ‰€æœ‰äº‹ä»¶å¤„ç†éƒ½åœ¨ä¸»æ–‡ä»¶çš„ç¬¬7æ®µï¼ˆDomain Logicï¼‰
  - [ ] âœ… æ‰€æœ‰å·¥å…·å‡½æ•°éƒ½åœ¨ä¸»æ–‡ä»¶çš„ç¬¬5æ®µï¼ˆUtils & Helpersï¼‰
  - [ ] âœ… æ‰€æœ‰æ•°æ®å¤„ç†éƒ½åœ¨ä¸»æ–‡ä»¶çš„ç¬¬5æ®µæˆ–ç¬¬7æ®µ
  - [ ] âš ï¸ å¦‚æœ‰ä¾‹å¤–ï¼ˆpermissions.tsã€mediaCompress.tsï¼‰ï¼Œå¿…é¡»æœ‰å……åˆ†æ³¨é‡Šè¯´æ˜ç†ç”±

- [ ] **ä»£ç è´¨é‡**
  - [ ] æ‰€æœ‰ä¸»æ–‡ä»¶ä¸¥æ ¼éµå¾ªå…«æ®µå¼ç»“æ„
  - [ ] çŠ¶æ€ç®¡ç†100%ç¬¦åˆä¸»æ–‡ä»¶ä¼˜å…ˆåŸåˆ™
  - [ ] ç±»å‹å®šä¹‰å®Œæ•´æ— any
  - [ ] å¸¸é‡å…¨éƒ¨æå–æ— ç¡¬ç¼–ç 
  - [ ] é”™è¯¯å¤„ç†è¦†ç›–å…¨é¢
  - [ ] æ¯ä¸ªä¸»æ–‡ä»¶éƒ½æœ‰å®Œæ•´çš„#regionæ ‡è®°

- [ ] **æ€§èƒ½ä¼˜åŒ–**
  - [ ] åˆ—è¡¨è™šæ‹ŸåŒ–å·²å®æ–½
  - [ ] å›¾ç‰‡æ‡’åŠ è½½å·²å®æ–½
  - [ ] æ•°æ®ç¼“å­˜å·²é…ç½®
  - [ ] é˜²æŠ–èŠ‚æµå·²åº”ç”¨

---

## ğŸ“Š åäºŒã€æ€§èƒ½ç›‘æ§æŒ‡æ ‡

### 12.1 å…³é”®æŒ‡æ ‡

| æŒ‡æ ‡ | ç›®æ ‡å€¼ | ç›‘æ§æ–¹å¼ |
|------|--------|----------|
| **é¦–å±åŠ è½½æ—¶é—´** | < 1s | Performance API |
| **åˆ—è¡¨æ»šåŠ¨å¸§ç‡** | >= 60fps | React DevTools |
| **å›¾ç‰‡åŠ è½½æˆåŠŸç‡** | > 95% | é”™è¯¯æ—¥å¿—ç»Ÿè®¡ |
| **APIå“åº”æ—¶é—´** | < 500ms | Network Monitor |
| **å†…å­˜å ç”¨** | < 200MB | Memory Profiler |
| **å´©æºƒç‡** | < 0.1% | Crash Reporter |

### 12.2 ä¸šåŠ¡æŒ‡æ ‡

| æŒ‡æ ‡ | ç›®æ ‡å€¼ | è¯´æ˜ |
|------|--------|------|
| **æ—¥å‘å¸ƒé‡** | æŒç»­å¢é•¿ | å†…å®¹ç”Ÿæ€å¥åº·åº¦ |
| **äº’åŠ¨ç‡** | > 8% | ç‚¹èµ+è¯„è®º+åˆ†äº«/æµè§ˆ |
| **è¯é¢˜ä½¿ç”¨ç‡** | > 60% | å¸¦è¯é¢˜çš„åŠ¨æ€å æ¯” |
| **è¯„è®ºå‚ä¸ç‡** | > 15% | æœ‰è¯„è®ºçš„åŠ¨æ€å æ¯” |

---

## ğŸš€ åä¸‰ã€å¿«é€Ÿå®æ–½æŒ‡å—

### æ­¥éª¤1ï¼šç¯å¢ƒå‡†å¤‡
```bash
# å®‰è£…ä¾èµ–
npm install
# æˆ–
yarn install

# é…ç½®åç«¯ç¯å¢ƒ
cd backend
mvn clean install
```

### æ­¥éª¤2ï¼šåˆ›å»ºåŸºç¡€æ¶æ„
```bash
# åˆ›å»ºé¡µé¢ç»„ç›®å½•ç»“æ„
mkdir -p src/pages/Discovery/{MainPage,DetailPage,TopicPage}
# åˆ›å»ºAPIç›®å½•
mkdir -p src/pages/Discovery/api
# åˆ›å»ºåç«¯ç›®å½•
mkdir -p src/pages/Discovery/backend
```

### æ­¥éª¤3ï¼šä¾æ¬¡å®æ–½
1. åˆ›å»ºtypes.tså’Œconstants.ts
2. å®æ–½å‰ç«¯APIæ¥å£å±‚
3. å®æ–½åç«¯äº¤äº’å±‚
4. å®æ–½MainPageä¸»é¡µé¢
5. å®æ–½6ä¸ªSubPages
6. æµ‹è¯•å’Œä¼˜åŒ–

---

## ğŸ“ é™„å½•

### A. å®Œæ•´æ–‡ä»¶æ¸…å•

**å‰ç«¯æ–‡ä»¶ï¼ˆTypeScript/Reactï¼‰ï¼š**
- 1ä¸ªé¡µé¢ç»„ä¸»æ–‡ä»¶ï¼ˆindex.tsxï¼‰
- 7ä¸ªé¡µé¢ä¸»æ–‡ä»¶ï¼ˆMainPage + 6ä¸ªSubPagesï¼‰
- 17ä¸ªåŒºåŸŸç»„ä»¶ä¸»æ–‡ä»¶
- 8ä¸ªAPIæ¥å£æ–‡ä»¶
- 1ä¸ªtypes.tsç±»å‹å®šä¹‰
- 1ä¸ªconstants.tså¸¸é‡é…ç½®

**åç«¯æ–‡ä»¶ï¼ˆJavaï¼‰ï¼š**
- 9ä¸ªEntityå®ä½“ç±»
- 5ä¸ªDTOå¯¹è±¡
- 3ä¸ªVOå¯¹è±¡
- 5ä¸ªController
- 5ä¸ªServiceæ¥å£
- 5ä¸ªServiceImplå®ç°
- 5ä¸ªMapperæ¥å£

**æ€»è®¡ï¼šçº¦71ä¸ªæ ¸å¿ƒæ–‡ä»¶**

---

## ğŸš€ åå››ã€å®æ–½å‰æœ€ç»ˆç¡®è®¤æ¸…å•

### âœ… å¼€å§‹å®æ–½å‰ï¼Œè¯·ç¡®è®¤ä»¥ä¸‹åŸåˆ™å·²ç†è§£ï¼š

#### ğŸ¯ ä¸»æ–‡ä»¶é›†ä¸­åŒ–åŸåˆ™ï¼ˆæ ¸å¿ƒï¼‰
- [ ] **ç†è§£**ï¼šæ‰€æœ‰çŠ¶æ€ç®¡ç†å¿…é¡»åœ¨ä¸»æ–‡ä»¶ç¬¬6æ®µ
- [ ] **ç†è§£**ï¼šæ‰€æœ‰å·¥å…·å‡½æ•°å¿…é¡»åœ¨ä¸»æ–‡ä»¶ç¬¬5æ®µ
- [ ] **ç†è§£**ï¼šæ‰€æœ‰äº‹ä»¶å¤„ç†å¿…é¡»åœ¨ä¸»æ–‡ä»¶ç¬¬7æ®µ
- [ ] **æ‰¿è¯º**ï¼šä¸ä¼šä¸ºç®€å•é€»è¾‘åˆ›å»ºç‹¬ç«‹çš„Hookæ–‡ä»¶
- [ ] **æ‰¿è¯º**ï¼šä¸ä¼šä¸ºæ ¼å¼åŒ–å‡½æ•°åˆ›å»ºç‹¬ç«‹çš„Utilsæ–‡ä»¶

#### ğŸš« ä¸¥ç¦åˆ›å»ºçš„æ–‡ä»¶ç±»å‹ï¼ˆå¿…é¡»ç‰¢è®°ï¼‰
- [ ] **ç¡®è®¤**ï¼šä¸åˆ›å»ºuseDiscoveryState.ts
- [ ] **ç¡®è®¤**ï¼šä¸åˆ›å»ºuseMainPageData.ts
- [ ] **ç¡®è®¤**ï¼šä¸åˆ›å»ºutilsFormat.ts
- [ ] **ç¡®è®¤**ï¼šä¸åˆ›å»ºutilsDisplay.ts
- [ ] **ç¡®è®¤**ï¼šä¸åˆ›å»ºprocessData.ts
- [ ] **ç¡®è®¤**ï¼šä¸åˆ›å»ºonClickHandlers.ts

#### âœ… å…è®¸ä¾‹å¤–çš„æå°‘æ•°æƒ…å†µ
- [ ] **ç†è§£**ï¼šè®¾å¤‡æƒé™å¤„ç†å¯ä»¥æŠ½ç¦»ï¼ˆpermissions.tsï¼‰
- [ ] **ç†è§£**ï¼šå¤æ‚ç®—æ³•ï¼ˆ>100è¡Œï¼‰å¯ä»¥æŠ½ç¦»ï¼ˆmediaCompress.tsï¼‰
- [ ] **ç†è§£**ï¼šç¬¬ä¸‰æ–¹SDKå°è£…å¯ä»¥æŠ½ç¦»ï¼ˆmapSDK.tsï¼‰
- [ ] **æ‰¿è¯º**ï¼šæ¯æ¬¡æŠ½ç¦»éƒ½ä¼šæœ‰å……åˆ†çš„æ³¨é‡Šè¯´æ˜ç†ç”±

#### ğŸ“‹ å…«æ®µå¼ç»“æ„æŒæ¡
- [ ] **æŒæ¡**ï¼šç¬¬1æ®µ - File Banner & TOC
- [ ] **æŒæ¡**ï¼šç¬¬2æ®µ - Imports
- [ ] **æŒæ¡**ï¼šç¬¬3æ®µ - Types & Schema
- [ ] **æŒæ¡**ï¼šç¬¬4æ®µ - Constants & Config
- [ ] **æŒæ¡**ï¼šç¬¬5æ®µ - Utils & Helpersï¼ˆå·¥å…·å‡½æ•°é›†ä¸­åœ°ï¼‰
- [ ] **æŒæ¡**ï¼šç¬¬6æ®µ - State Managementï¼ˆçŠ¶æ€ç®¡ç†é›†ä¸­åœ°ï¼‰
- [ ] **æŒæ¡**ï¼šç¬¬7æ®µ - Domain Logicï¼ˆä¸šåŠ¡é€»è¾‘é›†ä¸­åœ°ï¼‰
- [ ] **æŒæ¡**ï¼šç¬¬8æ®µ - UI Components & Rendering
- [ ] **æŒæ¡**ï¼šç¬¬9æ®µ - Exports

#### ğŸ—ï¸ å‰åç«¯ä¸€ä½“åŒ–åŸåˆ™
- [ ] **æ‰¿è¯º**ï¼šåŒæ—¶åˆ›å»ºå‰ç«¯APIå’Œåç«¯å®ç°
- [ ] **æ‰¿è¯º**ï¼šä½¿ç”¨MyBatis-Plus + QueryWrapper
- [ ] **æ‰¿è¯º**ï¼šåªåˆ›å»ºå‰ç«¯å®é™…éœ€è¦çš„æ¥å£
- [ ] **æ‰¿è¯º**ï¼šé¿å…è¿‡åº¦è®¾è®¡ï¼ˆæ‰¹é‡æ“ä½œã€ç®¡ç†å‘˜åŠŸèƒ½ç­‰ï¼‰

---

## ğŸ“ åäº”ã€å®æ–½æ‰§è¡Œè¦ç‚¹æ€»ç»“

### ğŸ¯ æ ¸å¿ƒè¦ç‚¹ï¼ˆå¿…è¯»ï¼‰

1. **ä¸»æ–‡ä»¶æ˜¯ç‹é“**
   - æ¯ä¸ªindex.tsxéƒ½åº”è¯¥æ˜¯å®Œæ•´ã€è‡ªåŒ…å«çš„
   - æ‰“å¼€ä»»ä½•ä¸»æ–‡ä»¶éƒ½èƒ½çœ‹åˆ°å®Œæ•´çš„é€»è¾‘
   - ä¸éœ€è¦è·³è½¬åˆ°å…¶ä»–æ–‡ä»¶å°±èƒ½ç†è§£ä»£ç 

2. **å…«æ®µå¼æ˜¯æ¡†æ¶**
   - ç¬¬5æ®µæ”¾å·¥å…·å‡½æ•°ï¼Œä¸è¦åˆ›å»ºutilsæ–‡ä»¶
   - ç¬¬6æ®µæ”¾çŠ¶æ€ç®¡ç†ï¼Œä¸è¦åˆ›å»ºuseState Hookæ–‡ä»¶
   - ç¬¬7æ®µæ”¾ä¸šåŠ¡é€»è¾‘ï¼Œä¸è¦åˆ›å»ºevent handleræ–‡ä»¶

3. **ä¾‹å¤–å¿…é¡»æœ‰ç†ç”±**
   - è®¾å¤‡æƒé™ï¼Ÿâœ… è·¨é¡µé¢å¤ç”¨
   - å›¾ç‰‡å‹ç¼©ï¼Ÿâœ… ç®—æ³•è¶…è¿‡100è¡Œ
   - æ ¼å¼åŒ–å‡½æ•°ï¼ŸâŒ å¿…é¡»åœ¨ä¸»æ–‡ä»¶ç¬¬5æ®µ
   - UIçŠ¶æ€ï¼ŸâŒ å¿…é¡»åœ¨ä¸»æ–‡ä»¶ç¬¬6æ®µ

4. **å‰åç«¯è¦åŒæ­¥**
   - APIæ¥å£ + åç«¯å®ç° = ä¸€æ¬¡æ€§äº¤ä»˜
   - MyBatis-Plusæ˜¯æ ‡å‡†ï¼Œä¸ç”¨å…¶ä»–ORM
   - QueryWrapperæ˜¯é¦–é€‰ï¼Œå¤æ‚æŸ¥è¯¢ç”¨QueryBuilder

### ğŸš€ å®æ–½é¡ºåºå»ºè®®

```
ç¬¬1å¤©ï¼šåŸºç¡€æ¶æ„
â”œâ”€â”€ Discovery/index.tsxï¼ˆé¡µé¢ç»„ä¸»æ–‡ä»¶ï¼‰
â”œâ”€â”€ Discovery/types.tsï¼ˆå®Œæ•´ç±»å‹ï¼‰
â”œâ”€â”€ Discovery/constants.tsï¼ˆå®Œæ•´å¸¸é‡ï¼‰
â””â”€â”€ 7ä¸ªAPIæ–‡ä»¶éª¨æ¶

ç¬¬2å¤©ï¼šå‰åç«¯ä¸€ä½“åŒ–
â”œâ”€â”€ åç«¯Entityï¼ˆ9ä¸ªï¼‰
â”œâ”€â”€ åç«¯DTO/VOï¼ˆ8ä¸ªï¼‰
â””â”€â”€ åç«¯Controller/Service/Mapperï¼ˆ15ä¸ªï¼‰

ç¬¬3-4å¤©ï¼šMainPageå®æ–½
â”œâ”€â”€ MainPage/index.tsxï¼ˆå®Œæ•´å…«æ®µå¼ï¼‰
â”œâ”€â”€ NavigationArea/index.tsx
â”œâ”€â”€ ContentArea/index.tsx
â””â”€â”€ FeedCard/index.tsx

ç¬¬5-7å¤©ï¼š6ä¸ªSubPageså®æ–½
â”œâ”€â”€ DetailPageï¼ˆè¯„è®ºäº¤äº’ï¼‰
â”œâ”€â”€ PublishPageï¼ˆå‘å¸ƒæµç¨‹ï¼‰
â”œâ”€â”€ TopicPage
â”œâ”€â”€ TopicSelectPage
â”œâ”€â”€ LocationSelectPage
â””â”€â”€ ReportPage

ç¬¬8å¤©ï¼šæ€§èƒ½ä¼˜åŒ– + æµ‹è¯•
â”œâ”€â”€ è™šæ‹Ÿåˆ—è¡¨ä¼˜åŒ–
â”œâ”€â”€ å›¾ç‰‡åŠ è½½ä¼˜åŒ–
â”œâ”€â”€ ç¼“å­˜ç­–ç•¥
â””â”€â”€ å®Œæ•´æµ‹è¯•
```

---

**ç‰ˆæœ¬**: v2.0 è¡¥å……æ–‡æ¡£ï¼ˆå¼ºåŒ–ç‰ˆï¼‰
**æ›´æ–°æ—¥æœŸ**: 2025å¹´9æœˆ30æ—¥  
**çŠ¶æ€**: âœ… å®Œæ•´å¯å®æ–½ | ğŸ¯ ä¸»æ–‡ä»¶ä¼˜å…ˆåŸåˆ™å·²å¼ºåŒ–
